{"ast":null,"code":"import _classCallCheck from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useState}from'react';import{OTPublisher}from'opentok-react';import CheckBox from'./CheckBox';import'../OpenTok.css';import{Button,Card,Container,Grid,Hidden,Toolbar}from'@material-ui/core';import ScreenShareIcon from'@material-ui/icons/ScreenShare';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Publisher=/*#__PURE__*/function(_React$Component){_inherits(Publisher,_React$Component);var _super=_createSuper(Publisher);function Publisher(props){var _this;_classCallCheck(this,Publisher);_this=_super.call(this,props);_this.setAudio=function(audio){_this.setState({audio:audio});};_this.setVideo=function(video){_this.setState({video:video});};_this.changeVideoSource=function(videoSource){_this.state.videoSource!=='camera'?_this.setState({videoSource:'camera'}):_this.setState({videoSource:'screen'});};_this.onError=function(err){_this.setState({error:\"Failed to publish: \".concat(err.message)});};_this.onPublishScreen=function(){console.log(\"Publish Screen Success\");_this.setState({error:null});};_this.toggleScreenshare=function(){_this.setState(function(state){return{publishScreen:!state.publishScreen};});};_this.state={publishScreen:false,error:null,audio:true,video:true,videoSource:'camera',showControls:true};_this.publisherScreenEventHandlers={accessDenied:function accessDenied(){console.log(\"User denied access to media Screen source\");},streamCreated:function streamCreated(){console.log(\"Publisher SCreen created\");},mediaStopped:function mediaStopped(){_this.setState({publishScreen:false});},streamDestroyed:function streamDestroyed(_ref){var reason=_ref.reason;console.log(\"Publisher Screen destroyed because: \".concat(reason));}};return _this;}_createClass(Publisher,[{key:\"render\",value:function render(){var publishScreen=this.state.publishScreen;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black mx-10 mb-10 p-10\",children:[/*#__PURE__*/_jsx(Container,{className:\"bg-black\",children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:/*#__PURE__*/_jsx(Grid,{item:true,children:publishScreen&&/*#__PURE__*/_jsx(OTPublisher,{properties:{width:800,height:350,publishAudio:this.state.audio,publishVideo:this.state.video,videoSource:'screen',showControls:true},onPublish:this.onPublishScreen,eventHandlers:this.publisherScreenEventHandlers,onError:this.onError})})})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',background:'black',justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(OTPublisher,{properties:{showControls:true,insertMode:'append',publishAudio:true,publishVideo:this.state.video,width:500,height:270}})}),/*#__PURE__*/_jsxs(Toolbar,{style:{display:'flex',background:'black',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginRight:'20px'},children:/*#__PURE__*/_jsx(Button,{style:{color:'orange'},variant:\"outlined\",onClick:this.toggleScreenshare,children:/*#__PURE__*/_jsx(ScreenShareIcon,{})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-black\",children:/*#__PURE__*/_jsx(CheckBox,{label:\"Video\",initialChecked:this.state.video,onChange:this.setVideo})}),/*#__PURE__*/_jsx(\"div\",{})]})]}),/*#__PURE__*/_jsx(\"div\",{children:this.state.error?/*#__PURE__*/_jsx(\"b\",{id:\"error\",children:this.state.error}):null})]});}}]);return Publisher;}(React.Component);export default Publisher;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/VideoCallPage/components/Publisher.jsx"],"names":["React","useState","OTPublisher","CheckBox","Button","Card","Container","Grid","Hidden","Toolbar","ScreenShareIcon","Publisher","props","setAudio","audio","setState","setVideo","video","changeVideoSource","videoSource","state","onError","err","error","message","onPublishScreen","console","log","toggleScreenshare","publishScreen","showControls","publisherScreenEventHandlers","accessDenied","streamCreated","mediaStopped","streamDestroyed","reason","width","height","publishAudio","publishVideo","display","flexDirection","justifyContent","background","insertMode","marginRight","color","Component"],"mappings":"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","sourcesContent":[" import React, { useState } from 'react';\nimport { OTPublisher } from 'opentok-react';\nimport CheckBox from './CheckBox';\nimport '../OpenTok.css'\nimport { Button, Card, Container, Grid, Hidden, Toolbar } from '@material-ui/core';\nimport ScreenShareIcon from '@material-ui/icons/ScreenShare';\n\nclass Publisher extends React.Component {\n  constructor(props) {\n    super(props);\n   \n    this.state = {\n       publishScreen: false,\n      error: null,\n      audio: true,\n      video: true,\n      videoSource: 'camera',\n     showControls: true\n      \n    };\n\n this.publisherScreenEventHandlers = {\n      accessDenied: () => {\n        console.log(\"User denied access to media Screen source\");\n      },\n      streamCreated: () => {\n        console.log(\"Publisher SCreen created\");\n      },\n      mediaStopped: () => {\n        this.setState({ publishScreen: false });\n      },\n      streamDestroyed: ({ reason }) => {\n        console.log(`Publisher Screen destroyed because: ${reason}`);\n      },\n    };\n \n  \n  }\n\n  setAudio = (audio) => {\n    this.setState({ audio });\n  }\n\n  setVideo = (video) => {\n    this.setState({ video });\n  }\n\n  changeVideoSource = (videoSource) => {\n    (this.state.videoSource !== 'camera') ? this.setState({videoSource: 'camera'}) : this.setState({ videoSource: 'screen' })\n  }\n\n  onError = (err) => {\n    this.setState({ error: `Failed to publish: ${err.message}` });\n  }\n\n  onPublishScreen = () => {\n    console.log(\"Publish Screen Success\");\n    this.setState({ error: null });\n  };\n  \n  toggleScreenshare = () => {\n    this.setState((state) => ({\n      publishScreen: !state.publishScreen,\n    }));\n  };\n\n \n\n  render() {\n    \n    const {  publishScreen } = this.state;\n    return (\n      <div className='bg-black mx-10 mb-10 p-10'>\n          <Container className=\"bg-black\">\n        <Grid\n        container\n        spacing={3}\n        >\n         \n         \n          <Grid\n           item\n           \n            >\n             {\n          publishScreen && \n           (<OTPublisher\n           \n          properties={{\n            width: 800, height: 350,\n            publishAudio: this.state.audio,\n            publishVideo: this.state.video,\n            videoSource:  'screen' ,\n            showControls: true,\n          \n          }}\n          onPublish={this.onPublishScreen}\n          eventHandlers={this.publisherScreenEventHandlers}\n          onError={this.onError}\n        />)\n        }\n          </Grid>\n        </Grid>\n       \n\n      </Container>\n        <div style={{display: 'flex', flexDirection: 'column', justifyContent: 'flex-end'}}>\n         \n        <div  style={{display: 'flex',background: 'black', justifyContent: 'flex-end'}}>\n           <OTPublisher\n         properties={{\n              showControls: true,\n              insertMode: 'append',\n              publishAudio: true,\n              publishVideo: this.state.video,\n              width:500, height: 270\n          }}\n        />\n        </div>\n         <Toolbar  style={{display: 'flex',background: 'black', justifyContent: 'flex-end'}}>\n          <div style={{marginRight: '20px'}}>\n            <Button style={{color: 'orange'}} variant='outlined' onClick={this.toggleScreenshare}><ScreenShareIcon/></Button>\n          </div>\n          \n        <div className='bg-black'>\n          <CheckBox\n          label=\"Video\"\n          initialChecked={this.state.video}\n          onChange={this.setVideo}\n        />\n        </div>\n        <div>\n         \n        </div>\n        \n        </Toolbar>\n        </div>\n         \n       \n      \n      <div>\n         {this.state.error ? <b id=\"error\">{this.state.error}</b> : null}\n      </div>\n      </div>\n      \n    );\n  }\n}\nexport default Publisher;\n"]},"metadata":{},"sourceType":"module"}