{"ast":null,"code":"import _classCallCheck from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{OTSession,OTPublisher,OTStreams,OTSubscriber}from'opentok-react';import{Button,Typography}from'@material-ui/core';import VideocamOffIcon from'@material-ui/icons/VideocamOff';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VideoCall=/*#__PURE__*/function(_React$Component){_inherits(VideoCall,_React$Component);var _super=_createSuper(VideoCall);function VideoCall(props){var _this;_classCallCheck(this,VideoCall);_this=_super.call(this,props);_this.onSessionError=function(error){_this.setState({error:error});};_this.onPublish=function(){console.log('Publish Success');};_this.onPublishError=function(error){_this.setState({error:error});};_this.onSubscribe=function(){console.log('Subscribe Success');};_this.onSubscribeError=function(error){_this.setState({error:error});};_this.toggleVideo=function(){_this.setState(function(state){return{publishVideo:!state.publishVideo};});};_this.state={message:'',error:null,connection:'Connecting',publishVideo:true};_this.sessionEventHandlers={sessionConnected:function sessionConnected(){_this.setState({connection:'Connected'});},sessionDisconnected:function sessionDisconnected(){_this.setState({connection:'Disconnected'});},sessionReconnected:function sessionReconnected(){_this.setState({connection:'Reconnected'});},sessionReconnecting:function sessionReconnecting(){_this.setState({connection:'Reconnecting'});}};_this.publisherEventHandlers={accessDenied:function accessDenied(){console.log('User denied access to media source');},streamCreated:function streamCreated(){console.log('Publisher stream created');},streamDestroyed:function streamDestroyed(_ref){var reason=_ref.reason;console.log(\"Publisher stream destroyed because: \".concat(reason));}};_this.subscriberEventHandlers={videoEnabled:function videoEnabled(){console.log('Subscriber video enabled');},videoDisabled:function videoDisabled(){console.log('Subscriber video disabled');}};return _this;}_createClass(VideoCall,[{key:\"render\",value:function render(){var _this$props$credentia=this.props.credentials,apiKey=_this$props$credentia.apiKey,sessionId=_this$props$credentia.sessionId,token=_this$props$credentia.token;var _this$state=this.state,error=_this$state.error,connection=_this$state.connection,publishVideo=_this$state.publishVideo;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h3\",align:\"center\",id:\"sessionStatus\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Session Status:\"}),\" \",connection]}),error?/*#__PURE__*/_jsxs(\"div\",{className:\"error\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Error:\"}),\" \",error]}):null,/*#__PURE__*/_jsxs(OTSession,{apiKey:apiKey,sessionId:sessionId,token:token,onError:this.onSessionError,eventHandlers:this.sessionEventHandlers,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',justifyContent:'center',marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(Button,{startIcon:/*#__PURE__*/_jsx(VideocamOffIcon,{}),style:{marginBottom:'2%',marginLeft:'10%',backgroundImage:'linear-gradient(to left bottom, #420ffa, #004dff, #006eff, #238aff, #59a3ff)',color:'white',width:'15%'},id:\"videoButton\",onClick:this.toggleVideo,children:[publishVideo?'Disable':'Enable',\" Video\"]}),/*#__PURE__*/_jsx(OTPublisher,{properties:{publishVideo:publishVideo,width:500,height:300},onPublish:this.onPublish,onError:this.onPublishError,eventHandlers:this.publisherEventHandlers})]}),/*#__PURE__*/_jsx(OTStreams,{children:/*#__PURE__*/_jsx(\"div\",{style:{marginRight:'5%',marginTop:'2%'},children:/*#__PURE__*/_jsx(OTSubscriber,{properties:{width:400,height:250},onSubscribe:this.onSubscribe,onError:this.onSubscribeError,eventHandlers:this.subscriberEventHandlers})})})]})]});}}]);return VideoCall;}(React.Component);export{VideoCall as default};","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/components/VideoCall/VideoCall.jsx"],"names":["React","OTSession","OTPublisher","OTStreams","OTSubscriber","Button","Typography","VideocamOffIcon","VideoCall","props","onSessionError","error","setState","onPublish","console","log","onPublishError","onSubscribe","onSubscribeError","toggleVideo","state","publishVideo","message","connection","sessionEventHandlers","sessionConnected","sessionDisconnected","sessionReconnected","sessionReconnecting","publisherEventHandlers","accessDenied","streamCreated","streamDestroyed","reason","subscriberEventHandlers","videoEnabled","videoDisabled","credentials","apiKey","sessionId","token","display","flexDirection","justifyContent","marginBottom","marginLeft","backgroundImage","color","width","height","marginRight","marginTop","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { OTSession, OTPublisher, OTStreams, OTSubscriber } from 'opentok-react';\r\nimport { Button, Typography } from '@material-ui/core';\r\nimport VideocamOffIcon from '@material-ui/icons/VideocamOff';\r\n\r\nexport default class VideoCall extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      message: '',\r\n      error: null,\r\n      connection: 'Connecting',\r\n      publishVideo: true,\r\n    };\r\n\r\n    this.sessionEventHandlers = {\r\n      sessionConnected: () => {\r\n        this.setState({ connection: 'Connected' });\r\n      },\r\n      sessionDisconnected: () => {\r\n        this.setState({ connection: 'Disconnected' });\r\n      },\r\n      sessionReconnected: () => {\r\n        this.setState({ connection: 'Reconnected' });\r\n      },\r\n      sessionReconnecting: () => {\r\n        this.setState({ connection: 'Reconnecting' });\r\n      },\r\n    };\r\n\r\n    this.publisherEventHandlers = {\r\n      accessDenied: () => {\r\n        console.log('User denied access to media source');\r\n      },\r\n      streamCreated: () => {\r\n        console.log('Publisher stream created');\r\n      },\r\n      streamDestroyed: ({ reason }) => {\r\n        console.log(`Publisher stream destroyed because: ${reason}`);\r\n      },\r\n    };\r\n\r\n    this.subscriberEventHandlers = {\r\n      videoEnabled: () => {\r\n        console.log('Subscriber video enabled');\r\n      },\r\n      videoDisabled: () => {\r\n        console.log('Subscriber video disabled');\r\n      },\r\n    };\r\n  }\r\n\r\n  onSessionError = error => {\r\n    this.setState({ error });\r\n  };\r\n\r\n  onPublish = () => {\r\n    console.log('Publish Success');\r\n  };\r\n\r\n  onPublishError = error => {\r\n    this.setState({ error });\r\n  };\r\n\r\n  onSubscribe = () => {\r\n    console.log('Subscribe Success');\r\n  };\r\n\r\n  onSubscribeError = error => {\r\n    this.setState({ error });\r\n  };\r\n\r\n  toggleVideo = () => {\r\n    this.setState(state => ({\r\n      publishVideo: !state.publishVideo,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { apiKey, sessionId, token } = this.props.credentials;\r\n    const { error, connection, publishVideo } = this.state;\r\n    return (\r\n      <div>\r\n        <Typography variant='h3' align='center' id=\"sessionStatus\"><b>Session Status:</b> {connection}</Typography>\r\n        {error ? (\r\n          <div className=\"error\">\r\n            <strong>Error:</strong> {error}\r\n          </div>\r\n        ) : null}\r\n        <OTSession\r\n          apiKey={apiKey}\r\n          sessionId={sessionId}\r\n          token={token}\r\n          onError={this.onSessionError}\r\n          eventHandlers={this.sessionEventHandlers}\r\n        >\r\n          <div style={{display: 'flex', flexDirection: 'column', justifyContent: 'center', marginBottom: '20px'}}> \r\n           \r\n              <Button startIcon={<VideocamOffIcon/>} style={{marginBottom: '2%',marginLeft: '10%',backgroundImage: 'linear-gradient(to left bottom, #420ffa, #004dff, #006eff, #238aff, #59a3ff)', color: 'white', width: '15%'}}id=\"videoButton\" onClick={this.toggleVideo}>\r\n            {publishVideo ? 'Disable' : 'Enable'} Video\r\n          </Button>\r\n         \r\n           \r\n           \r\n          <OTPublisher\r\n            properties={{ publishVideo, width: 500, height: 300, }}\r\n            onPublish={this.onPublish}\r\n            onError={this.onPublishError}\r\n            eventHandlers={this.publisherEventHandlers}\r\n          />\r\n          </div>\r\n         \r\n          <OTStreams>\r\n            <div style={{ marginRight: '5%', marginTop: '2%'}}>\r\n               <OTSubscriber\r\n              properties={{ width: 400, height: 250 }}\r\n              onSubscribe={this.onSubscribe}\r\n              onError={this.onSubscribeError}\r\n              eventHandlers={this.subscriberEventHandlers}\r\n            />\r\n            </div>\r\n           \r\n          </OTStreams>\r\n        </OTSession>\r\n      </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}