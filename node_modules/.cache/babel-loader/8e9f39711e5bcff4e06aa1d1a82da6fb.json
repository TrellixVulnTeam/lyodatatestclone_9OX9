{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Container,LinearProgress,Typography}from'@material-ui/core';import React,{useEffect,useState}from'react';import{db}from'../../firebase';import{useSettingsStorage}from'../../utils/useSettingsStorage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var EditNavbar=function EditNavbar(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),navbar=_useState2[0],setNavbar=_useState2[1];var _useState3=useState(navbar.name),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),file=_useState6[0],setFile=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),disabled=_useState10[0],setDisabled=_useState10[1];var types=[\"image/png\",\"image/jpeg\",\"image/jpg\"];useEffect(function(){db.collection('company').doc('navbar').onSnapshot(function(snapshot){var data=snapshot.data();setName(data.name);setNavbar(data);});},[]);var updateNavbar=function updateNavbar(e){e.preventDefault();if(url){db.collection(\"company\").doc('navbar').update({name:name,url:url});}db.collection(\"company\").doc('navbar').update({name:name});};var handleChange=function handleChange(e){var selectedFile=e.target.files[0];setDisabled(false);if(selectedFile){if(types.includes(selectedFile.type)){setError(null);setFile(selectedFile);}else{setFile(null);setError(\"Please select an image file (png or jpg)\");}}};var _useSettingsStorage=useSettingsStorage(file),progress=_useSettingsStorage.progress,url=_useSettingsStorage.url;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"bg-white border-4 container  ml-10 w-1/2\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Update Company Details\"}),/*#__PURE__*/_jsx(\"div\",{class:\"bg-white  rounded\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:updateNavbar,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"flex items-center mb-5\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"name\",class:\"w-20 inline-block text-left mr-4 text-gray-500 text-gray-500\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setName(e.target.value);},name:\"name\",id:\"name\",type:\"text\",placeholder:\"Company Name\",class:\"border-b-2 border-gray-400 flex-1 py-2 placeholder-gray-300 outline-none focus:border-indigo-400\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"flex items-center mb-10\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"twitter\",class:\"w-20 inline-block text-left mr-4 text-gray-500 text-gray-500\",children:\"Upload New Logo\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"file\",name:\"twitter\",id:\"twitter\",placeholder:\"Your Twitter pseudonym\",class:\"border-b-2 border-gray-400 flex-1 py-2 placeholder-gray-300 outline-none focus:border-indigo-400\"})]}),/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:progress}),/*#__PURE__*/_jsxs(\"b\",{children:[\"Uploaded \",progress,\" %\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{class:\"text-right\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"py-2 px-6 bg-indigo-600 text-white font-bold rounded\",children:\"Save\"})})]})})]})});};export default EditNavbar;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/settings/EditNavbar.jsx"],"names":["Container","LinearProgress","Typography","React","useEffect","useState","db","useSettingsStorage","EditNavbar","navbar","setNavbar","name","setName","file","setFile","error","setError","disabled","setDisabled","types","collection","doc","onSnapshot","snapshot","data","updateNavbar","e","preventDefault","url","update","handleChange","selectedFile","target","files","includes","type","progress","value"],"mappings":"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","sourcesContent":["import { Container, LinearProgress, Typography } from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { db } from '../../firebase'\nimport { useSettingsStorage } from '../../utils/useSettingsStorage'\n\nconst EditNavbar = () => {\n\n    const [navbar, setNavbar] = useState([])\n    const [name, setName] = useState(navbar.name)\n    const [file, setFile] = useState(null)\n    const [error, setError] = useState('')\n    \n    const [disabled, setDisabled] = useState(true)\n      const types = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\n    \n    useEffect(() => {\n       db.collection('company').doc('navbar').onSnapshot(snapshot => {\n        const data = snapshot.data()\n        setName(data.name)\n        setNavbar(data)\n       })\n    }, [])\n    const updateNavbar = (e) => {\n      e.preventDefault()\n        if(url){\n              db.collection(\"company\").doc('navbar').update({name,url})\n        }\n             db.collection(\"company\").doc('navbar').update({name})\n        \n      \n    }\n\n      const handleChange = (e) => {\n        let selectedFile = e.target.files[0];\n        setDisabled(false)\n        if (selectedFile) {\n            if (types.includes(selectedFile.type)) {\n                setError(null);\n                setFile(selectedFile);\n            } else {\n                setFile(null);\n                setError(\"Please select an image file (png or jpg)\");\n            }\n        }\n       \n        \n    }\n    const {progress, url} = useSettingsStorage(file)\n    return (\n        <>\n           \n\n\n <div class=\"bg-white border-4 container  ml-10 w-1/2\">\n   <h6>Update Company Details</h6>\n   <div class=\"bg-white  rounded\">\n     <form action=\"\" onSubmit={updateNavbar}>\n\n       <div class=\"flex items-center mb-5\">\n         <label for=\"name\" class=\"w-20 inline-block text-left mr-4 text-gray-500 text-gray-500\">Name</label>\n         <input onChange={(e) => setName(e.target.value)} name=\"name\" id=\"name\" type=\"text\" placeholder=\"Company Name\" class=\"border-b-2 border-gray-400 flex-1 py-2 placeholder-gray-300 outline-none focus:border-indigo-400\"/>\n       </div>\n\n       <div class=\"flex items-center mb-10\">\n         <label for=\"twitter\" class=\"w-20 inline-block text-left mr-4 text-gray-500 text-gray-500\">Upload New Logo</label>\n         <input onChange={handleChange}  type=\"file\" name=\"twitter\" id=\"twitter\" placeholder=\"Your Twitter pseudonym\" class=\"border-b-2 border-gray-400 flex-1 py-2 placeholder-gray-300 outline-none focus:border-indigo-400\"/>\n       </div>\n       <LinearProgress variant=\"determinate\" value={progress} />\n       <b>Uploaded {progress} %</b>\n       <br />\n       <div class=\"text-right\">\n         <button type=\"submit\" class=\"py-2 px-6 bg-indigo-600 text-white font-bold rounded\">Save</button>\n       </div>\n     </form>\n   </div>\n </div>\n\n \n\n        </>\n    )\n}\n\nexport default EditNavbar\n"]},"metadata":{},"sourceType":"module"}