{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{Box,Button,Card,CircularProgress,Container,FormControl,FormHelperText,Grid,InputLabel,LinearProgress,makeStyles,MenuItem,Select,TextField,Typography}from'@material-ui/core';import React,{useEffect,useState}from'react';import{useHistory}from'react-router-dom';import{useDropzone}from'react-dropzone';import{db,storage,storageRef}from'../../firebase';import{DropzoneArea}from'material-ui-dropzone';import Alert from'@material-ui/lab/Alert';import{v4 as uuid}from'uuid';import ManualDashboardLayout from'../../components/ManualSidebar/ManualDashboardLayout';import StepDashboardLayout from'../../components/StepSidebar/StepDashboardLayout';import{useStorage}from'../../utils/useStorage';import{firebaseLooper}from'../../utils/tools';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{paper:{},avatar:{margin:theme.spacing(1),backgroundColor:'#141256'},form:{width:\"100%\",marginTop:theme.spacing(1)},submit:{maxWidth:\"50%\",background:\"#ff7a00\",borderRadius:'20px',margin:theme.spacing(3,0,2)},drag:{border:\"4px dashed #fff\"},drop:{textAlign:\"center\",color:\"#4a47a3\",fontFamily:\"roboto\"},backButton:{margiinTop:\"30px\",backgroundColor:\"#A997DF\",color:\"white\"},wrapper:_defineProperty({display:'flex',flex:'1 1 auto',overflow:'hidden',paddingTop:64},theme.breakpoints.up('lg'),{paddingLeft:256}),container:{display:'flex',flex:'1 1 auto',overflow:'hidden'},content:{flex:'1 1 auto',height:'100%',overflow:'auto'}};});var AddSteps=function AddSteps(_ref){var match=_ref.match;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),desc=_useState4[0],setDesc=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),disabled=_useState6[0],setDisabled=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),createdAt=_useState8[0],setCreatedAt=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),format=_useState10[0],setFormat=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),type=_useState12[0],setType=_useState12[1];var _useState13=useState(match.params.id),_useState14=_slicedToArray(_useState13,2),manual_id=_useState14[0],setCid=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),file=_useState16[0],setFile=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),error=_useState18[0],setError=_useState18[1];var _useState19=useState({mediaData:null}),_useState20=_slicedToArray(_useState19,2),media=_useState20[0],setMedia=_useState20[1];var types=[\"image/png\",\"image/jpeg\",\"image/jpg\"];var videoTypes=[\"video/mp4\",\"video/mkv\",\"video/mov\"];var audioTypes=[\"audio/mp3\",'audio/mpeg'];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),loading=_useState22[0],setLoading=_useState22[1];var _useState23=useState(''),_useState24=_slicedToArray(_useState23,2),message=_useState24[0],setMessage=_useState24[1];var history=useHistory();var handleReturn=function handleReturn(){history.go(-1);};var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),indexD=_useState26[0],setIndex=_useState26[1];useEffect(function(){db.collection('stepData').where('manual_id','==',\"\".concat(match.params.id)).onSnapshot(function(doc){var data=firebaseLooper(doc);setIndex(data);});},[]);var handleChange=function handleChange(loadedFiles){var selectedFile=loadedFiles[0];if(selectedFile){if(type===\"\"||format===\"\"){setError(\"Please Select a Type / Format first to proceed\");}if(format==='image'){if(types.includes(selectedFile.type)){setError(null);setFile(selectedFile);setDisabled(false);}else{setFile(null);setError(\"Please select an image file (png or jpg)\");setMessage(\"\");setDisabled(true);}}else if(format==='video'){if(videoTypes.includes(selectedFile.type)){setError(null);setFile(selectedFile);}else{setFile(null);setError(\"Please select a video file (mp4 or mkv)\");setMessage(\"\");setDisabled(true);}}else if(format==='audio'){if(audioTypes.includes(selectedFile.type)){setError(null);setFile(selectedFile);}else{setFile(null);setError(\"Please select an audio file (mp3 )\");setMessage(\"\");setDisabled(true);}}}};var _useStorage=useStorage(file),progress=_useStorage.progress,url=_useStorage.url;var handleSubmit=function handleSubmit(e){e.preventDefault();if((title===null||title===void 0?void 0:title.trim().length)===0||(desc===null||desc===void 0?void 0:desc.trim().length)===0){return setError(\"Empty Strings are not accepted as valid inputs ! Please try again with a valid input\");}var index=indexD.length;var steps={title:title,desc:desc,manual_id:manual_id,url:url,type:type,index:index,format:format};setLoading(true);db.collection('stepData').add(steps).then(function(){setLoading(false);setMessage('Step Added successfully ! Close the Window or Add another one');setTitle(\"\");setDesc(\"\");setError(\"\");setFormat(\"\");setType(\"\");});};function getPreview(url){if(format==='image'){return/*#__PURE__*/_jsx(\"img\",{width:\"450\",src:url});}else if(format==='video'){return/*#__PURE__*/_jsx(\"video\",{style:{width:'90%',marginTop:'20px'},controls:true,src:url,alt:\"First slide\"});}else if(format==='image'){return/*#__PURE__*/_jsx(\"audio\",{width:\"450\",src:url});}}var classes=useStyles();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Box,{py:3,style:{backgroundColor:'background.default',minHeight:'100%'},children:/*#__PURE__*/_jsx(Container,{maxWidth:false,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"You are currently Adding New Steps\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Typography,{variant:\"h1\",align:\"center\",gutterBottom:true,children:/*#__PURE__*/_jsx(\"b\",{children:\" Add  Step\"})}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex'},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,style:{marginRight:\"50px\"},children:[/*#__PURE__*/_jsxs(Grid,{item:true,lg:12,sm:12,xl:6,xs:12,children:[/*#__PURE__*/_jsx(TextField,{label:\"Content id\",value:manual_id,variant:\"outlined\",margin:\"normal\",fullWidth:true,disabled:true,onChange:function onChange(e){return setCid(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{value:title,variant:\"outlined\",error:title.length>40,margin:\"normal\",required:true,fullWidth:true,id:\"title\",label:\"Step Title\",name:\"title\",autoFocus:true,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsxs(FormHelperText,{children:[\"Title should be max \",title.length,\"/40\"]}),/*#__PURE__*/_jsx(TextField,{value:desc,error:desc.length>150,variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,rows:7,name:\"step_description\",label:\"Description\",onChange:function onChange(e){return setDesc(e.target.value);},id:\"step_description\",multiline:true}),/*#__PURE__*/_jsxs(FormHelperText,{style:{marginBottom:'20px'},children:[\"Description should be max \",desc.length,\"/150\"]}),/*#__PURE__*/_jsxs(FormControl,{required:true,style:{marginBottom:'20px'},fullWidth:true,variant:\"outlined\",children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Select Type\"}),/*#__PURE__*/_jsxs(Select,{required:true,label:\"Select Type\",value:type,onChange:function onChange(e){return setType(e.target.value);},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"info\",children:\"Info\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"camera\",children:\"Camera\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"critical\",children:\"Critical\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"normal\",children:\"Normal\"})]})]}),/*#__PURE__*/_jsxs(FormControl,{required:true,style:{marginBottom:'20px'},fullWidth:true,variant:\"outlined\",children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Select Format \"}),/*#__PURE__*/_jsxs(Select,{value:format,label:\"Select Format\",required:true,onChange:function onChange(e){return setFormat(e.target.value);},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"image\",children:\"Image\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"video\",children:\"Video\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"audio\",children:\"Audio\"})]})]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(Grid,{xs:12,lg:12,sm:12,children:[error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(InputLabel,{variant:\"contained\",children:\"Add Media\"}),/*#__PURE__*/_jsx(DropzoneArea,{dropzoneClass:classes.drop,showFileNames:true,onChange:function onChange(loadedFiles){return handleChange(loadedFiles);},dropzoneText:\"Drag and Drop / Click to ADD Media\",showAlerts:false,filesLimit:1}),/*#__PURE__*/_jsx(LinearProgress,{style:{marginTop:10},variant:\"determinate\",value:progress}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:url?getPreview(url):/*#__PURE__*/_jsx(\"img\",{src:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAREAAAC4CAMAAADzLiguAAAANlBMVEXp7vG6vsHs8fS2ur3c4eTU2dzm6u3P1Ne4vL/u8/a4vL67v8G0ubzDx8rY3eDEyMvh5unKz9Izr04MAAADb0lEQVR4nO2c63KrIBRGFY1CY4x5/5c93nKiICZGGOvuWj86adowYc0HWxgxSQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOC3oiJwdJ/2oJr6Epy6Sc4qxeTXKtNPfoYfP9NXDj//f0xfv97oX2X6cU4l5pGl6TWNgdbF0b37AnPXUWwMVEd37wvqLKKQNnzm6A5uxcRMSEuWH93DrTRV/8XbaVBnQdFj9u4nm13Vpc+ILk3wy5FCn3LYqHL43hG+9ti0PqmRCNGO2HRMVJlGNqIx8mpakpEQyzRBRlSSd+u0vT0RY8Tkt6rq1mnXcl9fpBjp130DOt2Vk8HI9exG1G16VV81u5qWkBF7Ibxn6SrDSF5ZC7UdqxIRRoyzcZR9P25EGCnsiLRLwK87JMGIqt3NkjdL15VdQxFGSkfIm+v7Irt7jUmovm0f3B3o1Q7pVHuViMjIZeOo6aYdffP8hwQjSePuQq+U33Ee9ikRYcQ4tSar/Z996vMoEWHkue31wTSiJpV6WYkII4myjFS5rz/FdIAtKpFhxJpJqod3Xp3POEtKJFTf7vdGv2KSeYU4F7cLSoRkJFHJvRqcZDr3CnFrkntdIsVIW3CK8tam/ZEbb1+ckrSUEjlG2jeNUsbvw10PjimZf0KSkfVPLAyZxYHzV4woT0LcgSOk1rylWLu7YpaSv5KR9ftvpin5G0ZWhoyjRKIRU1tvF9XbO5JeSgQaMXU1nyrfJmSmRJ6RVkia3iZ/+CAhaVdcRiXijPRCpoPAex3iSYm06qvq+Q7ZZ0NmVDIxIiYjTyGdkv5vG4SINGIm9/32Kfl4yAg1YuppIlolWxIi0Yip7R2ybTdGizNiC9mMFlZr1O6zA8Iysjsh0oy0ZXf36SNRRsxlU1WRb8RcQpw/EmSkuw4JcGJPkJE6wJBJJVXfxXuMdho5d0YwkmDEBSM2GLGJboRaYxs5d0YSjNgZeVRBjoNXYowkTR6GsWkBRgI3jRG7aYzYTWPEbvqkRqI97sCc1MiwaaYfSRGa/JzPH3k+oyYNciEyZ2j4dE8Ac49vhmXHYdCjyOM+68p3QusXY8owm6uL6LPNqz0RlWTXozv3Haq5R5hXW66XMyakxwRb400p/IcNAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4FD+AZS0NBe99dfKAAAAAElFTkSuQmCC\"})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',marginTop:'25px'},children:[!loading&&/*#__PURE__*/_jsx(Button,{type:\"submit\",style:{width:'50%',color:'white',background:'orange'},variant:\"contained\",color:\"primary\",disabled:disabled||desc.length>150||title.length>40,children:\"Add Step\"}),loading&&/*#__PURE__*/_jsx(Button,{type:\"submit\",style:{width:'50%',color:'white',background:'grey'},variant:\"contained\",color:\"primary\",disabled:true,children:\"Adding Step...\"})]}),message&&/*#__PURE__*/_jsx(Alert,{severity:\"success\",children:message})]})]})})})})})})});};export default AddSteps;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/Steps/AddSteps.jsx"],"names":["Box","Button","Card","CircularProgress","Container","FormControl","FormHelperText","Grid","InputLabel","LinearProgress","makeStyles","MenuItem","Select","TextField","Typography","React","useEffect","useState","useHistory","useDropzone","db","storage","storageRef","DropzoneArea","Alert","v4","uuid","ManualDashboardLayout","StepDashboardLayout","useStorage","firebaseLooper","useStyles","theme","paper","avatar","margin","spacing","backgroundColor","form","width","marginTop","submit","maxWidth","background","borderRadius","drag","border","drop","textAlign","color","fontFamily","backButton","margiinTop","wrapper","display","flex","overflow","paddingTop","breakpoints","up","paddingLeft","container","content","height","AddSteps","match","title","setTitle","desc","setDesc","disabled","setDisabled","createdAt","setCreatedAt","format","setFormat","type","setType","params","id","manual_id","setCid","file","setFile","error","setError","mediaData","media","setMedia","types","videoTypes","audioTypes","loading","setLoading","message","setMessage","history","handleReturn","go","indexD","setIndex","collection","where","onSnapshot","doc","data","handleChange","loadedFiles","selectedFile","includes","progress","url","handleSubmit","e","preventDefault","trim","length","index","steps","add","then","getPreview","classes","minHeight","marginRight","target","value","marginBottom","justifyContent"],"mappings":"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","sourcesContent":["import { Box, Button, Card, CircularProgress, Container, FormControl, FormHelperText, Grid, InputLabel, LinearProgress, makeStyles, MenuItem, Select, TextField, Typography } from '@material-ui/core'\r\nimport React, { useEffect, useState } from 'react';\r\nimport {useHistory} from 'react-router-dom'\r\nimport {useDropzone} from 'react-dropzone';\r\nimport {db, storage, storageRef} from '../../firebase'\r\nimport { DropzoneArea } from 'material-ui-dropzone';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { v4 as uuid } from 'uuid'\r\nimport ManualDashboardLayout from '../../components/ManualSidebar/ManualDashboardLayout'\r\nimport StepDashboardLayout from '../../components/StepSidebar/StepDashboardLayout';\r\nimport { useStorage } from '../../utils/useStorage';\r\nimport { firebaseLooper } from '../../utils/tools';\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    \r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: '#141256',\r\n  },\r\n  form: {\r\n    width:\"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    maxWidth: \"50%\",\r\n      background: \"#ff7a00\",\r\n      borderRadius: '20px',\r\n      margin: theme.spacing(3, 0, 2),\r\n  },\r\n  drag: {\r\n \r\n  border: \"4px dashed #fff\",\r\n  },\r\n  drop: {\r\n    textAlign: \"center\",\r\n    color: \"#4a47a3\",\r\n    fontFamily: \"roboto\"\r\n  },\r\n  backButton: {\r\n      margiinTop: \"30px\",\r\n        backgroundColor: \"#A997DF\",\r\n        color: \"white\",\r\n        \r\n    },\r\n    wrapper: {\r\n  display: 'flex',\r\n  flex: '1 1 auto',\r\n  overflow: 'hidden',\r\n  paddingTop: 64,\r\n  [theme.breakpoints.up('lg')]: {\r\n    paddingLeft: 256\r\n  },\r\n\r\n  },\r\n  container: {\r\n      display: 'flex',\r\n  flex: '1 1 auto',\r\n  overflow: 'hidden'\r\n  },\r\n  content: {\r\n    \r\n      flex: '1 1 auto',\r\n  height: '100%',\r\n  overflow: 'auto'\r\n    },\r\n}));\r\n\r\n\r\nconst AddSteps = ({match}) => {\r\n\r\n\r\n  const [title, setTitle] = useState('')\r\n  const [desc, setDesc] = useState('');\r\n  const [disabled, setDisabled] = useState(false);\r\n  const [createdAt, setCreatedAt] = useState('');\r\n  const [format, setFormat] = useState('')\r\n   const [type, setType] = useState('');\r\n  const [manual_id, setCid] = useState(match.params.id)\r\n  const [file, setFile] = useState(null);\r\n  const [error, setError] = useState('')\r\n  const [media, setMedia] = useState({\r\n    mediaData: null\r\n  })\r\n   const types = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\r\n   const videoTypes = [\"video/mp4\", \"video/mkv\", \"video/mov\"];\r\n   const audioTypes = [\"audio/mp3\", 'audio/mpeg']\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('')\r\n  const history = useHistory();\r\n  const handleReturn = () => {\r\n    history.go(-1)\r\n  }\r\n  const [indexD, setIndex] = useState([])\r\n  useEffect(() => {\r\n    db.collection('stepData').where('manual_id', '==', `${match.params.id}`).onSnapshot(doc=>{\r\n      const data = firebaseLooper(doc)\r\n      setIndex(data)\r\n    })\r\n  }, [])\r\n  const handleChange = (loadedFiles) => {\r\n\r\n   \r\n        let selectedFile = loadedFiles[0]\r\n        \r\n        if (selectedFile) {\r\n\r\n          if(type === \"\" || format === \"\"){\r\n            setError(\"Please Select a Type / Format first to proceed\")\r\n          }\r\n          if(format === 'image'){\r\n             if (types.includes(selectedFile.type)) {\r\n                setError(null);\r\n                setFile(selectedFile);\r\n                setDisabled(false)\r\n            } else {\r\n                setFile(null);\r\n                setError(\"Please select an image file (png or jpg)\");\r\n                setMessage(\"\")\r\n                setDisabled(true)\r\n            }\r\n          }else if(format === 'video'){\r\n            if (videoTypes.includes(selectedFile.type)) {\r\n                setError(null);\r\n                setFile(selectedFile);\r\n            } else {\r\n                setFile(null);\r\n                setError(\"Please select a video file (mp4 or mkv)\");\r\n                setMessage(\"\")\r\n                setDisabled(true)\r\n            }\r\n          }else if(format === 'audio'){\r\n            if (audioTypes.includes(selectedFile.type)) {\r\n                setError(null);\r\n                setFile(selectedFile);\r\n            } else {\r\n                setFile(null);\r\n                setError(\"Please select an audio file (mp3 )\");\r\n                setMessage(\"\")\r\n                setDisabled(true)\r\n            }\r\n          }\r\n           \r\n        }\r\n       \r\n       \r\n    }\r\n    const { progress, url } = useStorage(file);\r\n\r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      if(title?.trim().length === 0 || desc?.trim().length === 0 ){\r\n        return setError(\"Empty Strings are not accepted as valid inputs ! Please try again with a valid input\");\r\n      }\r\n    \r\n    const index = indexD.length\r\n    const steps = {title, desc, manual_id, url, type, index, format };\r\n    setLoading(true);\r\n    db.collection('stepData').add(steps).then(()=>{\r\n      setLoading(false)\r\n      setMessage('Step Added successfully ! Close the Window or Add another one')\r\n      setTitle(\"\")\r\n      setDesc(\"\")\r\n      setError(\"\")\r\n      setFormat(\"\")\r\n      setType(\"\")\r\n     \r\n    })\r\n  }\r\n\r\n  function getPreview(url){\r\n    if(format === 'image'){\r\n      return <img width='450' src={url}/>\r\n    }\r\n    else if(format === 'video'){\r\n      return <video\r\n    style={{ width: '90%', marginTop: '20px'}}\r\n    controls\r\n      src={url}\r\n      alt=\"First slide\"\r\n    />\r\n    }\r\n    else if(format === 'image'){\r\n      return <audio width='450' src={url}/>\r\n    }\r\n  }\r\n \r\n \r\n\r\n  const classes= useStyles();\r\n    return (\r\n      <>\r\n     \r\n        <div >\r\n        <div >\r\n          <Card >\r\n            <Box\r\n               py={3}\r\n              style={{\r\n                backgroundColor: 'background.default',\r\n                minHeight: '100%',\r\n              }}\r\n            >\r\n              <Container  maxWidth={false}>\r\n          <div className={classes.paper}>\r\n            <Alert severity=\"info\">You are currently Adding New Steps</Alert>\r\n            <br/>\r\n            <Typography variant=\"h1\" align='center' gutterBottom>\r\n         <b> Add  Step</b>\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit}>\r\n          \r\n          <div style={{display: 'flex'}}>\r\n          <Grid \r\n           container\r\n           spacing={3}\r\n          style={{marginRight: \"50px\"}} >\r\n          <Grid\r\n          item\r\n            lg={12}\r\n            sm={12}\r\n            xl={6}\r\n            xs={12}\r\n          >\r\n            <TextField\r\n              label=\"Content id\"\r\n              value={manual_id}\r\n              variant='outlined'\r\n              margin='normal'\r\n              fullWidth\r\n              disabled\r\n              onChange={(e) => setCid(e.target.value)}\r\n              />\r\n              <TextField\r\n              value={title}\r\n                variant=\"outlined\"\r\n                error={title.length > 40}\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"title\"\r\n                label=\"Step Title\"\r\n                name=\"title\"\r\n                autoFocus\r\n                onChange={(e) => setTitle(e.target.value)}\r\n              />\r\n              <FormHelperText>Title should be max {title.length}/40</FormHelperText>\r\n              <TextField\r\n              value={desc}\r\n                error={desc.length > 150}\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                rows={7}\r\n                name=\"step_description\"\r\n                label=\"Description\"\r\n                onChange={(e) => setDesc(e.target.value)}\r\n                id=\"step_description\"\r\n                multiline\r\n                \r\n                \r\n              />\r\n              <FormHelperText style={{marginBottom: '20px'}}>Description should be max {desc.length}/150</FormHelperText>\r\n              <FormControl required  style={{marginBottom: '20px'}} fullWidth variant='outlined'>\r\n              <InputLabel>Select Type</InputLabel>\r\n              <Select\r\n              required\r\n              label=\"Select Type\"\r\n              value={type}\r\n             \r\n                onChange={(e) => setType(e.target.value)}\r\n              >\r\n                <MenuItem value='info'>Info</MenuItem>\r\n                 <MenuItem value='camera'>Camera</MenuItem>\r\n                  <MenuItem value='critical'>Critical</MenuItem>\r\n                   <MenuItem value='normal'>Normal</MenuItem>\r\n              </Select>\r\n              </FormControl>\r\n              <FormControl required  style={{marginBottom: '20px'}} fullWidth variant='outlined'>\r\n          <InputLabel>Select Format </InputLabel>\r\n              <Select\r\n             \r\n              value={format}\r\n                label=\"Select Format\"\r\n               required\r\n                \r\n                onChange={(e) => setFormat(e.target.value)}\r\n              >\r\n                <MenuItem value='image'>Image</MenuItem>\r\n                 <MenuItem value='video'>Video</MenuItem>\r\n                  <MenuItem value='audio'>Audio</MenuItem>\r\n                  \r\n              </Select>\r\n              </FormControl>\r\n             \r\n              <br/>\r\n              \r\n          </Grid>\r\n         \r\n          \r\n              <Grid\r\n            xs={12}\r\n            lg={12}\r\n            sm={12}\r\n            >\r\n      {error &&  <Alert severity=\"error\">{error}</Alert>}\r\n      <br/>\r\n       <InputLabel variant=\"contained\">Add Media</InputLabel>\r\n       <DropzoneArea\r\n       \r\n       dropzoneClass={classes.drop}\r\n        showFileNames\r\n        onChange={(loadedFiles) => handleChange(loadedFiles)}\r\n        dropzoneText=\"Drag and Drop / Click to ADD Media\"\r\n        showAlerts={false}\r\n        filesLimit={1}\r\n      />\r\n    \r\n     {/* <h5>{progress}% Uploaded</h5> */}\r\n     <LinearProgress style={{marginTop: 10}} variant=\"determinate\" value={progress} />\r\n     <div style={{display: 'flex', justifyContent: 'center'}}>\r\n       {url ?\r\n         getPreview(url)\r\n         : <img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAREAAAC4CAMAAADzLiguAAAANlBMVEXp7vG6vsHs8fS2ur3c4eTU2dzm6u3P1Ne4vL/u8/a4vL67v8G0ubzDx8rY3eDEyMvh5unKz9Izr04MAAADb0lEQVR4nO2c63KrIBRGFY1CY4x5/5c93nKiICZGGOvuWj86adowYc0HWxgxSQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOC3oiJwdJ/2oJr6Epy6Sc4qxeTXKtNPfoYfP9NXDj//f0xfv97oX2X6cU4l5pGl6TWNgdbF0b37AnPXUWwMVEd37wvqLKKQNnzm6A5uxcRMSEuWH93DrTRV/8XbaVBnQdFj9u4nm13Vpc+ILk3wy5FCn3LYqHL43hG+9ti0PqmRCNGO2HRMVJlGNqIx8mpakpEQyzRBRlSSd+u0vT0RY8Tkt6rq1mnXcl9fpBjp130DOt2Vk8HI9exG1G16VV81u5qWkBF7Ibxn6SrDSF5ZC7UdqxIRRoyzcZR9P25EGCnsiLRLwK87JMGIqt3NkjdL15VdQxFGSkfIm+v7Irt7jUmovm0f3B3o1Q7pVHuViMjIZeOo6aYdffP8hwQjSePuQq+U33Ee9ikRYcQ4tSar/Z996vMoEWHkue31wTSiJpV6WYkII4myjFS5rz/FdIAtKpFhxJpJqod3Xp3POEtKJFTf7vdGv2KSeYU4F7cLSoRkJFHJvRqcZDr3CnFrkntdIsVIW3CK8tam/ZEbb1+ckrSUEjlG2jeNUsbvw10PjimZf0KSkfVPLAyZxYHzV4woT0LcgSOk1rylWLu7YpaSv5KR9ftvpin5G0ZWhoyjRKIRU1tvF9XbO5JeSgQaMXU1nyrfJmSmRJ6RVkia3iZ/+CAhaVdcRiXijPRCpoPAex3iSYm06qvq+Q7ZZ0NmVDIxIiYjTyGdkv5vG4SINGIm9/32Kfl4yAg1YuppIlolWxIi0Yip7R2ybTdGizNiC9mMFlZr1O6zA8Iysjsh0oy0ZXf36SNRRsxlU1WRb8RcQpw/EmSkuw4JcGJPkJE6wJBJJVXfxXuMdho5d0YwkmDEBSM2GLGJboRaYxs5d0YSjNgZeVRBjoNXYowkTR6GsWkBRgI3jRG7aYzYTWPEbvqkRqI97sCc1MiwaaYfSRGa/JzPH3k+oyYNciEyZ2j4dE8Ac49vhmXHYdCjyOM+68p3QusXY8owm6uL6LPNqz0RlWTXozv3Haq5R5hXW66XMyakxwRb400p/IcNAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4FD+AZS0NBe99dfKAAAAAElFTkSuQmCC'/>\r\n       }\r\n     </div>\r\n     </Grid>       \r\n          </Grid>\r\n   \r\n     </div>\r\n\r\n       <div style={{display: 'flex', justifyContent: 'center', marginTop: '25px'}}>\r\n         {!loading && <Button\r\n\r\n            type=\"submit\"\r\n            style={{width: '50%', color: 'white', background: 'orange'}}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disabled={disabled || desc.length > 150 || title.length > 40}\r\n          >\r\n            Add Step\r\n            </Button>}\r\n         {\r\n           loading && <Button\r\n            type=\"submit\"\r\n            style={{width: '50%', color: 'white', background: 'grey'}}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disabled\r\n            \r\n          >Adding Step...</Button>\r\n         }   \r\n       </div>\r\n       {message && <Alert severity=\"success\">{message}</Alert>}\r\n          </form>\r\n          </div>\r\n          \r\n        </Container>\r\n        </Box>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n        \r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddSteps\r\n"]},"metadata":{},"sourceType":"module"}