{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Table,Button,Dialog,DialogActions,Toolbar,DialogContent,DialogContentText,DialogTitle,TableBody,TableCell,TableRow,TextField,Typography,Collapse,Box,TableHead}from\"@material-ui/core\";import{Alert,AlertTitle}from\"@material-ui/lab\";import{useEffect,useState}from\"react\";import{db}from\"../../../firebase\";import EditIcon from'@material-ui/icons/Edit';import DeleteIcon from'@material-ui/icons/Delete';import{firebaseLooper}from\"../../../utils/tools\";import DQComponentsView from\"../../DQPages/DQCOnfigDetails/DQComponentsView\";import DQComponents from\"../../DQPages/DQCOnfigDetails/DQComponents\";import BrandView from\"../../brands/brandsComp/BrandView\";import ServiceView from\"../../servicesreq/ServiceComp/ServiceView\";import ExpandLessIcon from'@material-ui/icons/ExpandLess';import ExpandMoreIcon from'@material-ui/icons/ExpandMore';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function DQConfigView(_ref){var module=_ref.module,match=_ref.match,type=_ref.type;var _useState=useState(module.title),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),length=_useState4[0],setLength=_useState4[1];var _useState5=useState(module.desc),_useState6=_slicedToArray(_useState5,2),desc=_useState6[0],setDesc=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),open=_useState8[0],setOpen=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),openDel=_useState10[0],setOpenDel=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),openC=_useState12[0],setOpenC=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),components=_useState14[0],setComponents=_useState14[1];useEffect(function(){db.collection('DQNew').doc(match.params.id).collection('content').doc('config').collection('components').where('module_id','==',module.id).onSnapshot(function(snap){var data=firebaseLooper(snap);data.sort(function(a,b){return a.index-b.index;});setComponents(data);setLength(data.length);});},[]);function handleOpenDel(){setOpenDel(true);}function handleCloseDel(){setOpenDel(false);}function openComponent(){setOpenC(true);}function closeComponent(){setOpenC(false);}function handleOpen(){setOpen(true);}function handleClose(){setOpen(false);}function handleUpdate(){db.collection('DQNew').doc(match.params.id).collection('content').doc('config').collection('module').doc(module.id).update({title:title,desc:desc});}function handleDelete(id){db.collection('DQNew').doc(match.params.id).collection('content').doc('config').collection('module').doc(id).delete();}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(TableBody,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{background:'#E8F6EF'},component:\"th\",scope:\"row\",children:module.title}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:module.desc}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{onClick:handleOpen,children:/*#__PURE__*/_jsx(EditIcon,{className:\"animate-bounce\"})}),/*#__PURE__*/_jsx(Button,{onClick:handleOpenDel,children:/*#__PURE__*/_jsx(DeleteIcon,{className:\"hover:text-red-600\"})}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){return setOpenC(!openC);},children:!openC?/*#__PURE__*/_jsx(ExpandMoreIcon,{}):/*#__PURE__*/_jsx(ExpandLessIcon,{})})]})})]},module.id),/*#__PURE__*/_jsxs(Collapse,{in:openC,timeout:\"auto\",unmountOnExit:true,children:[/*#__PURE__*/_jsx(DQComponents,{index:length,type:type,match:match,module_id:module.id}),type===0&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Table,{align:true,\"aria-label\":\"purchases\",children:[/*#__PURE__*/_jsxs(TableHead,{children:[/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},children:/*#__PURE__*/_jsx(\"b\",{className:\"text-md font-bold italic\",children:\"Title\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-md font-bold italic\",children:\"Value\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"right\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-md font-bold italic\",children:\"Actions\"})})]}),/*#__PURE__*/_jsx(_Fragment,{children:components.map(function(data){return/*#__PURE__*/_jsx(DQComponentsView,{match:match,components:data},data.id);})})]})]}),type===1&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Table,{align:true,\"aria-label\":\"purchases\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'}}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},children:/*#__PURE__*/_jsx(\"b\",{className:\"text-md font-bold italic\",children:\"Description\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-md font-bold italic\",children:\"Required Parameters\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-md font-bold italic\",children:\"Instrument/Gauges\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-md font-bold italic\",children:\"Preferred Pipe & Connection\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"right\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-md font-bold italic\",children:\"Options\"})})]})})}),/*#__PURE__*/_jsx(_Fragment,{children:components.map(function(data){return/*#__PURE__*/_jsx(ServiceView,{match:match,module:data},data.id);})})]})]})]})]}),/*#__PURE__*/_jsxs(Dialog,{style:{alignItems:'center'},fullWidth:true,open:open,onClose:handleClose,children:[/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",gutterBottom:true,children:/*#__PURE__*/_jsx(\"b\",{children:\"Edit Details\"})}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(TextField,{style:{marginBottom:'3%'},value:title,variant:\"outlined\",fullWidth:true,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{multiline:true,rows:7,value:desc,variant:\"outlined\",fullWidth:true,onChange:function onChange(e){return setDesc(e.target.value);}})]})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{disabled:title===''||desc==='',onClick:handleUpdate,style:{backgroundColor:'orange',color:'whitesmoke'},children:\"Update\"})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:openDel,onClose:handleCloseDel,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsxs(Alert,{severity:\"error\",variant:\"filled\",children:[/*#__PURE__*/_jsx(AlertTitle,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Delete\"})}),/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Are You Sure You Want To Delete?\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{color:\"white\",id:\"alert-dialog-description\",children:\"Deleting will be a permanent action and data pervailing will be permanently deleted and can not be retrieved back.                    \"})})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseDel,color:\"primary\",variant:\"outlined\",children:\"Disagree\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){return handleDelete(module.id);},color:\"secondary\",variant:\"outlined\",autoFocus:true,children:\"Agree\"})]})]})]});}export default DQConfigView;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/DQConfig/components/DQConfigView.jsx"],"names":["Table","Button","Dialog","DialogActions","Toolbar","DialogContent","DialogContentText","DialogTitle","TableBody","TableCell","TableRow","TextField","Typography","Collapse","Box","TableHead","Alert","AlertTitle","useEffect","useState","db","EditIcon","DeleteIcon","firebaseLooper","DQComponentsView","DQComponents","BrandView","ServiceView","ExpandLessIcon","ExpandMoreIcon","DQConfigView","module","match","type","title","setTitle","length","setLength","desc","setDesc","open","setOpen","openDel","setOpenDel","openC","setOpenC","components","setComponents","collection","doc","params","id","where","onSnapshot","snap","data","sort","a","b","index","handleOpenDel","handleCloseDel","openComponent","closeComponent","handleOpen","handleClose","handleUpdate","update","handleDelete","delete","background","e","display","justifyContent","color","font","map","alignItems","marginBottom","target","value","backgroundColor"],"mappings":"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","sourcesContent":["import { Table,Button, Dialog, DialogActions,Toolbar, DialogContent, DialogContentText, DialogTitle, TableBody, TableCell, TableRow, TextField, Typography, Collapse, Box, TableHead } from \"@material-ui/core\"\nimport { Alert, AlertTitle } from \"@material-ui/lab\"\nimport { useEffect, useState } from \"react\"\nimport { db } from \"../../../firebase\"\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { firebaseLooper } from \"../../../utils/tools\";\nimport DQComponentsView from \"../../DQPages/DQCOnfigDetails/DQComponentsView\";\nimport DQComponents from \"../../DQPages/DQCOnfigDetails/DQComponents\";\nimport BrandView from \"../../brands/brandsComp/BrandView\";\nimport ServiceView from \"../../servicesreq/ServiceComp/ServiceView\";\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nfunction DQConfigView({module, match,type}) {\n\tconst [title, setTitle] = useState(module.title)\n\tconst[length,setLength] = useState(0)\n\tconst [desc, setDesc] = useState(module.desc)\n\tconst [open, setOpen] = useState(false)\n\tconst [openDel, setOpenDel] = useState(false)\n\tconst [openC, setOpenC] = useState(false)\n    const [components, setComponents] = useState([])\n    useEffect(() => {\n        db.collection('DQNew').doc(match.params.id)\n        .collection('content').doc('config')\n        .collection('components') \n        .where('module_id', '==', module.id)\n        .onSnapshot(snap => {\n            const data = firebaseLooper(snap)\n\t    data.sort(function(a,b){\n\t\t    return(a.index-b.index)\n\t    })\n            setComponents(data)\n\t    setLength(data.length)\n        })\n    }, [])\n\tfunction handleOpenDel(){\n\t\tsetOpenDel(true)\n\t}\n\tfunction handleCloseDel(){\n\t\tsetOpenDel(false)\n\t\t\n\t}\n\tfunction openComponent(){\n\t\tsetOpenC(true)\n\t}\n\tfunction closeComponent(){\n\t\tsetOpenC(false)\n\t\n\t}\n\tfunction handleOpen(){\n\t\tsetOpen(true)\n\t}\n\tfunction handleClose(){\n\t\tsetOpen(false)\n\t}\n\tfunction handleUpdate(){\n\t\tdb.collection('DQNew')\n\t\t.doc(match.params.id)\n\t\t.collection('content')\n\t\t.doc('config')\n\t\t.collection('module')\n\t\t.doc(module.id)\n\t\t.update({title, desc})\n\t}\n\tfunction handleDelete(id){\n\t\tdb.collection('DQNew')\n\t\t.doc(match.params.id)\n\t\t.collection('content')\n\t\t.doc('config')\n\t\t.collection('module')\n\t\t.doc(id)\n\t\t.delete()\n\t}\n\treturn (\n\t\t<>\n       \n\t\t<TableBody>\n\t\t\t\n\t\t\t<TableRow key={module.id}>\n\t\t\t<TableCell style={{background: '#E8F6EF'}} component=\"th\" scope=\"row\">\n\t\t\t\t{module.title}\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"left\">{module.desc}</TableCell>\n\t\t\t<TableCell align=\"right\">\n\t\t\t\t<div>\n\t\t\t\t\t<Button  onClick={handleOpen}><EditIcon className='animate-bounce'/></Button>\n\t\t\t\t\t<Button onClick={handleOpenDel}><DeleteIcon className='hover:text-red-600'/></Button>\n\t\t\t\t\t<Button onClick={(e) => setOpenC(!openC)}>{!openC ? <ExpandMoreIcon/> : <ExpandLessIcon/>}</Button>\n\t\t\t\t</div>\n\t\t\t</TableCell>\n\t\t\t</TableRow>\n            <Collapse in={openC} timeout=\"auto\" unmountOnExit>\n                <DQComponents index={length} type={type} match={match} module_id={module.id}/>\n           { type ===0 &&\n           <div style={{display: 'flex', justifyContent: 'center'}}  >\n              <br />\n              <Table align aria-label=\"purchases\">\n                <TableHead>\n                  \n                  <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}}><b className='text-md font-bold italic'>Title</b></TableCell>\n\t\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"left\"><b className='text-md font-bold italic'>Value</b></TableCell>\n\t\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\"><b className='text-md font-bold italic'>Actions</b></TableCell>\n                 \n                </TableHead>\n                <>\n               \n                  {\n                  components.map(data => (\n                      <DQComponentsView match={match} key={data.id} components={data}/>\n                  ))\n                }\n                    \n                </>\n              </Table>\n            </div>}\n            {\n                type===1 &&\n                <div style={{display: 'flex', justifyContent: 'center'}}  >\n                <br />\n                <Table align aria-label=\"purchases\">\n                  <TableHead>\n                    \n\t\t\t<>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}}></TableCell>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}}><b className='text-md font-bold italic'>Description</b></TableCell>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"left\"><b className='text-md font-bold italic'>Required Parameters</b></TableCell>\n\t\t\t\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"left\"><b className='text-md font-bold italic'>Instrument/Gauges</b></TableCell>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"left\"><b className='text-md font-bold italic'>Preferred Pipe & Connection</b></TableCell>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\"><b className='text-md font-bold italic'>Options</b></TableCell>\n\t\t\t\n\t\t\t</TableRow>\n\t\t\t</>\n                   \n                  </TableHead>\n                  <>\n                  \n                    {\n                    components.map(data => (\n                        <ServiceView match={match} key={data.id} module={data}/>\n                    ))\n                  }\n                      \n                  </>\n                </Table>\n              </div>\n            }\n          </Collapse>\n\t\t\t</TableBody>\n           \n\t\t\t <Dialog style={{alignItems: 'center'}} fullWidth open={open} onClose={handleClose}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Typography variant='h4' align='center' gutterBottom><b>Edit Details</b></Typography>\n\t\t\t\t\t<form  >\n\t\t\t\t\t<TextField style={{marginBottom: '3%'}} value={title} variant='outlined' fullWidth onChange={(e) => setTitle(e.target.value)}/>\n\t\t\t\t<TextField multiline rows={7} value={desc} variant='outlined' fullWidth onChange={(e) => setDesc(e.target.value)}/>\n\t\t\t\t</form>\n\t\t\t\t</DialogContent>\n\t\t\t\t\n\t\t\t\t\n\t\t\t<DialogActions>\n\t\t\t\t<Button  onClick={handleClose}>Cancel</Button>\n\t\t\t\t<Button disabled={title===''|| desc ==='' } onClick={handleUpdate} style={{backgroundColor: 'orange', color: 'whitesmoke'}}>Update</Button>\n\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t\t{/* Open delete dialog */}\n\t\t\t <Dialog\n\t\t\t \n                    open={openDel}\n                    onClose={handleCloseDel}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                  <Alert severity=\"error\" variant=\"filled\">\n                    <AlertTitle><strong>Delete</strong></AlertTitle>\n                    <DialogTitle id=\"alert-dialog-title\">{\"Are You Sure You Want To Delete?\"}</DialogTitle>\n                    <DialogContent>\n                    <DialogContentText color=\"white\" id=\"alert-dialog-description\">\n                        Deleting will be a permanent action and data pervailing will be permanently deleted and can not be retrieved back.                    </DialogContentText>\n                    </DialogContent>\n                    </Alert>\n                    <DialogActions>\n                    <Button onClick={handleCloseDel} color=\"primary\" variant=\"outlined\">\n                        Disagree\n                    </Button>\n                    <Button   onClick={(e) => handleDelete(module.id)} color=\"secondary\" variant=\"outlined\" autoFocus>\n                        Agree\n                    </Button>\n                    </DialogActions>\n                </Dialog>\n                \n\t   \n\t\t</>\n\t)\n}\n\nexport default DQConfigView\n"]},"metadata":{},"sourceType":"module"}