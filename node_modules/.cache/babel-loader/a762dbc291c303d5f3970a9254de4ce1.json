{"ast":null,"code":"var _jsxFileName = \"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/components/VideoCall/RenderVc.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport '@opentok/client'; // import './index.css';\n// import './polyfills';\n// import {\n//   API_KEY,\n//   SESSION_ID,\n//   TOKEN\n// } from './config';\n\nimport VideoCall from './VideoCall';\nimport { Button, Card, Container, Dialog, DialogActions, DialogContent, DialogTitle, Grid, InputLabel, Select, TextField, Toolbar } from '@material-ui/core';\nimport { db } from '../../firebase';\nimport { useAuth } from '../context/AuthContext';\nimport { firebaseLooper } from '../../utils/tools';\nimport { useVideoStorage } from '../../utils/useVideoStorage';\nimport OpenTokPage from '../../Pages/VideoCallPage/OpenTokPage';\nimport config from '../../Pages/VideoCallPage/config';\nimport { SettingsBackupRestoreSharp } from '@material-ui/icons';\nimport ListUsers from './ListUsers';\nimport screenfull from 'screenfull';\nimport Chatbox from '../../Pages/VideoCallPage/components/Chatbox';\nimport React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport MailIcon from '@material-ui/icons/Mail';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\nimport { API_KEY, SESSION_ID, TOKEN } from './config';\nimport Whiteboard from '../Whiteboard/Whiteboard';\nimport InviteForm from '../InviteForm/InviteForm';\nimport AddIcon from '@material-ui/icons/Add';\nimport TestVideo from '../../VideoCallModel/TestVideo';\nimport EntryPage from '../../VideoCallModel/EntryPage';\nimport Page from '../Page';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst drawerWidth = 550;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    background: 'black',\n    display: 'flex'\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginRight: drawerWidth\n  },\n  title: {\n    flexGrow: 1\n  },\n  hide: {\n    display: 'none'\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-start'\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    marginRight: -drawerWidth\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginRight: 0\n  }\n}));\nexport default function RenderVc({\n  config\n}) {\n  _s();\n\n  const classes = useStyles();\n  const theme = useTheme();\n  const [openDrawer, setOpenDrawer] = React.useState(false);\n  const [file, setFile] = useState(null);\n  const [error, setError] = useState(\"\");\n  const [call_id, setCallId] = useState('');\n  const [currentCall, setCurrentCall] = useState([]);\n  const [whiteboardOpen, setWhiteboardOpen] = useState(false);\n  const [format, setFormat] = useState('');\n  const [configData, setConfigData] = useState([]);\n  const [disabled, setDisabled] = useState(true);\n  const [open, setOpen] = useState(false);\n  const [openInvite, setOpenInvite] = useState(false);\n  const [token, setToken] = useState(`${config.TOKEN}`);\n  const [session_id, setSessionId] = useState(`${config.SESSION_ID}`);\n  const types = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\n  const videoTypes = [\"video/mp4\", \"video/mkv\", \"video/mov\"];\n  const audioTypes = [\"audio/mp3\", \"audio/mpeg\"];\n  const [message, setMessage] = useState('');\n  const {\n    currentUser\n  } = useAuth();\n  useEffect(() => {\n    db.collection('OpenTokConfig').get().then(snapshot => {\n      const data = firebaseLooper(snapshot);\n      console.log(data[0]);\n      setConfigData(data[0]);\n    });\n    db.collection('CallCurrent').onSnapshot(snapshot => {\n      const callData = firebaseLooper(snapshot);\n      callData.sort(function (a, b) {\n        return a.index - b.index;\n      });\n      setCurrentCall(callData[callData.length - 1]);\n      setCallId(callData[callData.length - 1].call_id);\n    });\n  }, []);\n\n  const handleChange = e => {\n    let selectedFile = e.target.files[0];\n\n    if (selectedFile) {\n      if (format === 'image') {\n        if (types.includes(selectedFile.type)) {\n          setError(null);\n          setFile(selectedFile);\n          setDisabled(false);\n        } else {\n          setFile(null);\n          setError(\"Please select an image file (png or jpg)\");\n        }\n      } else if (format === 'video') {\n        if (videoTypes.includes(selectedFile.type)) {\n          setError(null);\n          setFile(selectedFile);\n          setDisabled(false);\n        } else {\n          setFile(null);\n          setError(\"Please select a video file (mp4 or mkv)\");\n        }\n      } else if (format === 'audio') {\n        if (audioTypes.includes(selectedFile.type)) {\n          setError(null);\n          setFile(selectedFile);\n          setDisabled(false);\n        } else {\n          setFile(null);\n          setError(\"Please select an audio file (mp3 )\");\n        }\n      }\n    }\n  };\n\n  let {\n    progress,\n    url\n  } = useVideoStorage(file);\n\n  const handleSubmit = () => {\n    db.collection('CallMedia').add({\n      call_id,\n      url,\n      format\n    }).then(() => {\n      setFile(null);\n      setDisabled(true);\n      setMessage('The File has been sent, If you wish to send another file repeat the same');\n    });\n  };\n\n  const handleSession = () => {\n    setSessionId(configData.session_id);\n    setToken(configData.token);\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const openInviteBox = () => {\n    setOpenInvite(true);\n  };\n\n  const closeInvite = () => {\n    setOpenInvite(false);\n  };\n\n  const handleWhiteboardOpen = () => {\n    setWhiteboardOpen(true);\n  };\n\n  const handleWhiteboardClose = () => {\n    setWhiteboardOpen(false);\n  };\n\n  const handleDrawerOpen = () => {\n    setOpenDrawer(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpenDrawer(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Page, {\n    title: \"Video Call | LyoIms\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"absolute\",\n        style: {\n          top: 64,\n          background: 'black'\n        },\n        className: clsx(classes.appBar, {\n          [classes.appBarShift]: openDrawer\n        }),\n        children: /*#__PURE__*/_jsxDEV(Toolbar, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            noWrap: true,\n            className: classes.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            href: \"/\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                background: 'red',\n                color: 'white'\n              },\n              children: \"Disconnect\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            target: \"_blank\",\n            href: \"/machine-data\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                background: 'blue',\n                color: 'white'\n              },\n              children: \"Machines\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            style: {\n              color: 'orange'\n            },\n            onClick: openInviteBox,\n            children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            target: \"_blank\",\n            href: \"/whiteboard\",\n            style: {\n              color: 'orange'\n            },\n            children: /*#__PURE__*/_jsxDEV(OpenInBrowserIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            style: {\n              color: 'orange'\n            },\n            onClick: handleClickOpen,\n            children: /*#__PURE__*/_jsxDEV(AttachFileIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            style: {\n              color: 'orange'\n            },\n            \"aria-label\": \"open drawer\",\n            edge: \"end\",\n            onClick: handleDrawerOpen,\n            className: clsx(openDrawer && classes.hide),\n            children: /*#__PURE__*/_jsxDEV(QuestionAnswerIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 12\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: clsx(classes.content, {\n          [classes.contentShift]: openDrawer\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.drawerHeader\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(TestVideo, {\n          config: config\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n        className: classes.drawer,\n        variant: \"persistent\",\n        anchor: \"right\",\n        open: openDrawer,\n        classes: {\n          paper: classes.drawerPaper\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.drawerHeader,\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: handleDrawerClose,\n            children: theme.direction === 'rtl' ? /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 42\n            }, this) : /*#__PURE__*/_jsxDEV(ChevronRightIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 64\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 9\n        }, this), currentUser ? /*#__PURE__*/_jsxDEV(Chatbox, {\n          call_id: call_id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 22\n        }, this) : /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [\"You need to \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/login\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 68\n          }, this), \" to enable chat\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 53\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        fullWidth: true,\n        open: open,\n        onClose: handleClose,\n        children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleClose,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800 dark:text-white md:text-3xl\",\n          children: \"Share Media \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 16\n        }, this), \"                  \", /*#__PURE__*/_jsxDEV(\"select\", {\n          style: {\n            border: '2px solid whitesmoke',\n            margin: '2%'\n          },\n          value: format,\n          required: true,\n          fullWidth: true,\n          InputLabelProps: {\n            shrink: true\n          },\n          onChange: e => setFormat(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            selected: true,\n            hidden: true,\n            children: \"Select a Format\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"image\",\n            children: \"Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"video\",\n            children: \"Video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"audio\",\n            children: \"Audio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 128\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"w-full flex flex-col items-center px-4 py-6 bg-white text-black rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-black hover:text-black\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-8 h-8\",\n            fill: \"currentColor\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 20 20\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mt-2 text-base leading-normal\",\n            children: \"Select a file\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"file\",\n            class: \"hidden\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 17\n        }, this), file && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [progress, \"% uploaded\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-gray-600 dark:text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          style: {\n            backgroundColor: 'orange',\n            marginLeft: '25%'\n          },\n          disabled: disabled,\n          href: \"#\",\n          className: \"px-5 py-2 w-50 mb-10 font-semibold text-gray-100 transition-colors duration-200 transform bg-gray-900 rounded-md hover:bg-gray-700\",\n          children: \"Send Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 21\n        }, this), message && /*#__PURE__*/_jsxDEV(\"b\", {\n          style: {\n            color: 'green'\n          },\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        fullScreen: true,\n        open: whiteboardOpen,\n        onClose: handleWhiteboardClose,\n        children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleWhiteboardClose,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Whiteboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: openInvite,\n        onClose: closeInvite,\n        fullWidth: true,\n        children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: closeInvite,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(InviteForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 8\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RenderVc, \"oIpnvyxUdHkEmPqB3dXYi/sYMN0=\", false, function () {\n  return [useStyles, useTheme, useAuth, useVideoStorage];\n});\n\n_c = RenderVc;\n\nvar _c;\n\n$RefreshReg$(_c, \"RenderVc\");","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/components/VideoCall/RenderVc.jsx"],"names":["useEffect","useState","VideoCall","Button","Card","Container","Dialog","DialogActions","DialogContent","DialogTitle","Grid","InputLabel","Select","TextField","Toolbar","db","useAuth","firebaseLooper","useVideoStorage","OpenTokPage","config","SettingsBackupRestoreSharp","ListUsers","screenfull","Chatbox","React","clsx","makeStyles","useTheme","Drawer","AppBar","CssBaseline","List","Typography","Divider","IconButton","MenuIcon","ChevronLeftIcon","ChevronRightIcon","ListItem","ListItemIcon","ListItemText","InboxIcon","MailIcon","AttachFileIcon","QuestionAnswerIcon","OpenInBrowserIcon","API_KEY","SESSION_ID","TOKEN","Whiteboard","InviteForm","AddIcon","TestVideo","EntryPage","Page","drawerWidth","useStyles","theme","root","background","display","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","width","easeOut","enteringScreen","marginRight","title","flexGrow","hide","drawer","flexShrink","drawerPaper","drawerHeader","alignItems","padding","spacing","mixins","toolbar","justifyContent","content","contentShift","RenderVc","classes","openDrawer","setOpenDrawer","file","setFile","error","setError","call_id","setCallId","currentCall","setCurrentCall","whiteboardOpen","setWhiteboardOpen","format","setFormat","configData","setConfigData","disabled","setDisabled","open","setOpen","openInvite","setOpenInvite","token","setToken","session_id","setSessionId","types","videoTypes","audioTypes","message","setMessage","currentUser","collection","get","then","snapshot","data","console","log","onSnapshot","callData","sort","a","b","index","length","handleChange","e","selectedFile","target","files","includes","type","progress","url","handleSubmit","add","handleSession","handleClickOpen","handleClose","openInviteBox","closeInvite","handleWhiteboardOpen","handleWhiteboardClose","handleDrawerOpen","handleDrawerClose","top","color","paper","direction","border","margin","shrink","value","backgroundColor","marginLeft"],"mappings":"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","sourcesContent":["import  { useEffect, useState } from 'react';\r\nimport '@opentok/client';\r\n// import './index.css';\r\n// import './polyfills';\r\n// import {\r\n\r\n//   API_KEY,\r\n//   SESSION_ID,\r\n//   TOKEN\r\n// } from './config';\r\nimport VideoCall from './VideoCall';\r\n import { Button, Card, Container, Dialog, DialogActions, DialogContent, DialogTitle, Grid, InputLabel, Select, TextField, Toolbar } from '@material-ui/core';\r\nimport { db } from '../../firebase';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { firebaseLooper } from '../../utils/tools';\r\nimport { useVideoStorage } from '../../utils/useVideoStorage';\r\nimport OpenTokPage from '../../Pages/VideoCallPage/OpenTokPage';\r\nimport config from '../../Pages/VideoCallPage/config';\r\nimport { SettingsBackupRestoreSharp } from '@material-ui/icons';\r\nimport ListUsers from './ListUsers';\r\nimport screenfull from 'screenfull';\r\nimport Chatbox from '../../Pages/VideoCallPage/components/Chatbox';\r\n\r\n\r\nimport React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\r\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\r\nimport {\r\n\r\n  API_KEY,\r\n  SESSION_ID,\r\n  TOKEN\r\n} from './config';\r\nimport Whiteboard from '../Whiteboard/Whiteboard';\r\nimport InviteForm from '../InviteForm/InviteForm';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport TestVideo from '../../VideoCallModel/TestVideo';\r\nimport EntryPage from '../../VideoCallModel/EntryPage';\r\nimport Page from '../Page';\r\n\r\nconst drawerWidth = 550;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    background: 'black',\r\n    display: 'flex',\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginRight: drawerWidth,\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: 'flex-start',\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginRight: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginRight: 0,\r\n  },\r\n}));\r\n\r\nexport default function RenderVc({config}) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [openDrawer, setOpenDrawer] = React.useState(false);\r\n     const [file, setFile] = useState(null);\r\n   const [error, setError] = useState(\"\")\r\n   const [call_id, setCallId] = useState('')\r\n   const [currentCall, setCurrentCall] = useState([])\r\n   const [whiteboardOpen, setWhiteboardOpen] = useState(false)\r\n    const [format, setFormat] = useState('')\r\n    const [configData, setConfigData] = useState([])\r\n    const [disabled, setDisabled] = useState(true)\r\n    const [open, setOpen] = useState(false)\r\n    const [openInvite, setOpenInvite] = useState(false)\r\n    const [token, setToken] = useState(`${config.TOKEN}`)\r\n    const [session_id, setSessionId] = useState(`${config.SESSION_ID}`)\r\n    const types = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\r\n     const videoTypes = [\"video/mp4\", \"video/mkv\", \"video/mov\"];\r\n   const audioTypes = [\"audio/mp3\", \"audio/mpeg\"]\r\n      const [message, setMessage] = useState('')\r\n      const {currentUser} = useAuth()\r\n     useEffect(() => {\r\n      \r\n        \r\n \r\n      db.collection('OpenTokConfig').get().then(snapshot => {\r\n      const data = firebaseLooper(snapshot)\r\n      console.log(data[0])\r\n      setConfigData(data[0])\r\n      \r\n    })\r\n\r\n    db.collection('CallCurrent').onSnapshot(snapshot => {\r\n      const callData = firebaseLooper(snapshot)\r\n        callData.sort(function(a,b){\r\n          return(a.index-b.index)\r\n        })\r\n      setCurrentCall(callData[callData.length -1])\r\n      setCallId(callData[callData.length-1].call_id)\r\n      \r\n    })\r\n\r\n  }, [])\r\n\r\n  const handleChange = (e) => {\r\n        let selectedFile = e.target.files[0];\r\n          \r\n           if (selectedFile) {\r\n          if(format === 'image'){\r\n             if (types.includes(selectedFile.type)) {\r\n                setError(null);\r\n                setFile(selectedFile);\r\n                setDisabled(false)\r\n            } else {\r\n                setFile(null);\r\n                setError(\"Please select an image file (png or jpg)\");\r\n                \r\n            }\r\n          }else if(format === 'video'){\r\n            if (videoTypes.includes(selectedFile.type)) {\r\n                setError(null);\r\n                setFile(selectedFile);\r\n                 setDisabled(false)\r\n            } else {\r\n                setFile(null);\r\n                setError(\"Please select a video file (mp4 or mkv)\");\r\n            }\r\n          }else if(format === 'audio'){\r\n            if (audioTypes.includes(selectedFile.type)) {\r\n                setError(null);\r\n                setFile(selectedFile);\r\n                 setDisabled(false)\r\n            } else {\r\n                setFile(null);\r\n                setError(\"Please select an audio file (mp3 )\");\r\n            }\r\n          }\r\n           \r\n        }\r\n    }\r\n    let { progress, url } = useVideoStorage(file);\r\n\r\n    const handleSubmit = () => {\r\n      db.collection('CallMedia').add({call_id,url, format}).then(() => {\r\n        setFile(null)\r\n        setDisabled(true)\r\n        setMessage('The File has been sent, If you wish to send another file repeat the same')\r\n      })\r\n    }\r\n    const handleSession = () => {\r\n      setSessionId(configData.session_id)\r\n      setToken(configData.token)\r\n    }\r\n    const handleClickOpen = () => {\r\n      setOpen(true)\r\n    }\r\n    const handleClose = () => {\r\n      setOpen(false)\r\n    }\r\n     const openInviteBox = () => {\r\n      setOpenInvite(true)\r\n    }\r\n    const closeInvite = () => {\r\n      setOpenInvite(false)\r\n    }\r\n     const handleWhiteboardOpen = () => {\r\n      setWhiteboardOpen(true)\r\n    }\r\n    const handleWhiteboardClose = () => {\r\n      setWhiteboardOpen(false)\r\n    }\r\n    \r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpenDrawer(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpenDrawer(false);\r\n  };\r\n\r\n  return (\r\n    <Page title='Video Call | LyoIms'>\r\n       <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"absolute\"\r\n        style={{top: 64, background: 'black'}}\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: openDrawer,\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" noWrap className={classes.title}>\r\n           \r\n          </Typography>\r\n          <IconButton href=\"/\">\r\n            <Button style={{background: 'red', color: 'white'}}>Disconnect</Button>\r\n          </IconButton>\r\n          <IconButton target=\"_blank\"  href=\"/machine-data\">\r\n            <Button style={{background: 'blue', color: 'white'}}>Machines</Button>\r\n          </IconButton>\r\n          <IconButton style={{color: 'orange'}} onClick={openInviteBox}>\r\n            <AddIcon/>\r\n          </IconButton>\r\n          <IconButton target=\"_blank\" href='/whiteboard' style={{color: 'orange'}} >\r\n            <OpenInBrowserIcon/>\r\n          </IconButton>\r\n          <IconButton style={{color: 'orange'}} onClick={handleClickOpen}>\r\n            <AttachFileIcon/>\r\n          </IconButton>\r\n          <IconButton\r\n            style={{color: 'orange'}}\r\n            aria-label=\"open drawer\"\r\n            edge=\"end\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(openDrawer && classes.hide)}\r\n          >\r\n           <QuestionAnswerIcon/>\r\n          </IconButton>\r\n          \r\n        </Toolbar>\r\n      </AppBar>\r\n      <main\r\n        className={clsx(classes.content, {\r\n          [classes.contentShift]: openDrawer,\r\n        })}\r\n      >\r\n        <div className={classes.drawerHeader} />\r\n       <TestVideo config={config}/>\r\n      </main>\r\n      <Drawer\r\n        className={classes.drawer}\r\n        variant=\"persistent\"\r\n        anchor=\"right\"\r\n        open={openDrawer}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <div className={classes.drawerHeader}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === 'rtl' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n          </IconButton>\r\n        </div>\r\n       \r\n      {currentUser ? <Chatbox call_id={call_id}/> : <b>You need to <a href='/login'>Login</a> to enable chat</b>}\r\n      </Drawer>\r\n           <Dialog fullWidth open={open} onClose={handleClose}>\r\n             <Toolbar>\r\n              <Button onClick={handleClose}>Close</Button>\r\n           </Toolbar>            \r\n               <h2 className=\"text-2xl font-bold text-gray-800 dark:text-white md:text-3xl\">Share Media </h2>                  <select\r\n             style={{ border: '2px solid whitesmoke', margin: '2%'}}\r\n                \r\n                value={format}\r\n                  \r\n                required\r\n                  fullWidth\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                  onChange={(e) => setFormat(e.target.value)}\r\n                >\r\n                  <option value='' selected hidden>Select a Format</option>\r\n                  <option value='image'>Image</option>\r\n                  <option value='video'>Video</option>\r\n                    <option value='audio'>Audio</option>\r\n                    \r\n                </select>\r\n                \r\n                \r\n                <label className=\"w-full flex flex-col items-center px-4 py-6 bg-white text-black rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-black hover:text-black\">\r\n                    <svg className=\"w-8 h-8\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                        <path d=\"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z\" />\r\n                    </svg>\r\n                    <span className=\"mt-2 text-base leading-normal\">Select a file</span>\r\n                    <input onChange={handleChange} type='file' class=\"hidden\" />\r\n                </label>\r\n           \r\n                {file && <p>{progress}% uploaded</p>}\r\n                <p className=\"mt-2 text-gray-600 dark:text-gray-400\"></p>\r\n                \r\n                \r\n                    <button onClick={handleSubmit} style={{backgroundColor: 'orange', marginLeft: '25%'}} disabled={disabled} href=\"#\" className=\"px-5 py-2 w-50 mb-10 font-semibold text-gray-100 transition-colors duration-200 transform bg-gray-900 rounded-md hover:bg-gray-700\">Send Now</button>\r\n                \r\n                {message && <b style={{color: 'green'}}>{message}</b>}\r\n\r\n\r\n            </Dialog> \r\n             \r\n            <Dialog fullScreen open={whiteboardOpen} onClose={handleWhiteboardClose}>\r\n              <Toolbar>\r\n              <Button onClick={handleWhiteboardClose}>Close</Button>\r\n           </Toolbar> \r\n              <Whiteboard/>\r\n            </Dialog>\r\n\r\n            <Dialog open={openInvite} onClose={closeInvite} fullWidth>\r\n              <Toolbar>\r\n              <Button onClick={closeInvite}>Close</Button>\r\n           </Toolbar>\r\n              <InviteForm/>\r\n            </Dialog>\r\n           \r\n    </div>\r\n    </Page>\r\n   \r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}