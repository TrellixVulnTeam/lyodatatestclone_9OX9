{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import{Button,Dialog,DialogActions,DialogContent,DialogContentText,DialogTitle,FormHelperText,TextField}from'@material-ui/core';import{Link}from'react-router-dom';import{db}from'../../firebase';import{Alert,AlertTitle}from'@material-ui/lab';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RecipeData(_ref){var rows=_ref.rows,length=_ref.length,match=_ref.match;var _useState=useState(rows.title),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),openEdit=_useState10[0],setOpenEdit=_useState10[1];var handleEditOpen=function handleEditOpen(){setOpenEdit(true);};var handleEditClose=function handleEditClose(){setOpenEdit(false);};var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var handleDelete=function handleDelete(id){db.collection('recipes').doc(id).delete().then(function(){console.log('data deleted');});};var updateRecipe=function updateRecipe(e){e.preventDefault();if((title===null||title===void 0?void 0:title.trim().length)===0){return setError('Empty spaces are not valid inputs ! Please try again with a valid input');}setLoading(true);db.collection('recipes').doc(rows.id).update({title:title}).then(function(data){console.log(data);setOpenEdit(false);setLoading(false);setError(\"\");});};return/*#__PURE__*/_jsxs(TableContainer,{component:Paper,children:[/*#__PURE__*/_jsx(Table,{style:{minWidth:500},\"aria-label\":\"custom pagination table\",children:/*#__PURE__*/_jsx(TableBody,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:/*#__PURE__*/_jsx(\"b\",{children:rows.title})}),/*#__PURE__*/_jsx(TableCell,{style:{width:160},align:\"right\",children:rows.createdBy}),/*#__PURE__*/_jsx(TableCell,{style:{width:160},align:\"right\",children:/*#__PURE__*/_jsx(Button,{children:/*#__PURE__*/_jsx(Link,{to:\"/Recipe/\".concat(rows.id,\"/Recipe-values\"),style:{textDecoration:'none',color:'inherit'},children:\"Open\"})})}),/*#__PURE__*/_jsx(TableCell,{style:{width:160},align:\"right\",children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return handleEditOpen();},style:{color:'darkblue'},children:\"Edit\"})}),/*#__PURE__*/_jsx(TableCell,{style:{width:160},align:\"right\",children:/*#__PURE__*/_jsx(Button,{onClick:handleOpen,style:{color:'red'},children:\"Delete\"})})]},rows.id)})}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsxs(Alert,{severity:\"error\",variant:\"filled\",children:[/*#__PURE__*/_jsx(AlertTitle,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Delete\"})}),/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Are You Sure You Want To Delete?\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{color:\"white\",id:\"alert-dialog-description\",children:\"Deleting will be a permanent action and data pervailing will be permanently deleted and can not be retrieved back.                    \"})})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"primary\",variant:\"outlined\",children:\"Disagree\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){handleDelete(rows.id);handleClose();},color:\"secondary\",variant:\"outlined\",autoFocus:true,children:\"Agree\"})]})]}),/*#__PURE__*/_jsxs(Dialog,{fullWidth:true,open:openEdit,onClose:handleEditClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Edit \".concat(title)}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateRecipe,children:[error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),/*#__PURE__*/_jsx(TextField,{label:\"Recipe Name\",defaultValue:title,error:title===\"\"||title.length>40,variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"title\",name:\"title\",autoFocus:true,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsxs(FormHelperText,{children:[\"Title should be max \",title.length,\"/40\"]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:handleEditClose,children:\"Cancel\"}),!loading&&/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"outlined\",color:\"primary\",disabled:title===\"\"||title.length>40,children:\"Update\"}),loading&&/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"outlined\",color:\"primary\",disabled:true,children:\"Updating values...\"})]})]})})]})]});}","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/Recipee/RecipeData.jsx"],"names":["React","useState","Table","TableBody","TableCell","TableContainer","TableRow","Paper","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","FormHelperText","TextField","Link","db","Alert","AlertTitle","RecipeData","rows","length","match","title","setTitle","open","setOpen","error","setError","loading","setLoading","openEdit","setOpenEdit","handleEditOpen","handleEditClose","handleOpen","handleClose","handleDelete","id","collection","doc","delete","then","console","log","updateRecipe","e","preventDefault","trim","update","data","minWidth","width","createdBy","textDecoration","color","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nimport { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, FormHelperText, TextField } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { db } from '../../firebase';\nimport { Alert, AlertTitle } from '@material-ui/lab';\n\n\nexport default function RecipeData({rows, length, match}) {\n    const [title, setTitle] = useState(rows.title)\n    const [open, setOpen] = useState(false)\n    const [error, setError] = useState('')\n    const [loading, setLoading] = useState(false)\n    const [openEdit, setOpenEdit] = useState(false)\n\n const handleEditOpen = () => {\n      setOpenEdit(true)\n    }\n    const handleEditClose = () => {\n      setOpenEdit(false)\n    }\n    const handleOpen = () =>{\n        setOpen(true)\n    }\n    const handleClose = () => {\n        setOpen(false)\n    }\n\n    const handleDelete = (id) => {\n        db.collection('recipes').doc(id).delete().then(() =>{\n            console.log('data deleted')\n        })\n    }\n   const updateRecipe=(e) => {\n    e.preventDefault()\n     if(title?.trim().length === 0){\n       return setError('Empty spaces are not valid inputs ! Please try again with a valid input')\n     }\n    setLoading(true)\n    db.collection('recipes').doc(rows.id).update({title}).then((data) => {\n        console.log(data)\n       setOpenEdit(false)\n        setLoading(false)\n        setError(\"\")\n    })\n    \n  }\n \n  return (\n    <TableContainer  component={Paper}>\n      <Table style={{minWidth: 500}} aria-label=\"custom pagination table\">\n        <TableBody>\n         \n            <TableRow key={rows.id}>\n              <TableCell component=\"th\" scope=\"row\">\n                <b>{rows.title}</b>\n              </TableCell>\n              <TableCell style={{ width: 160 }} align=\"right\">\n                {rows.createdBy}\n              </TableCell>\n              <TableCell style={{ width: 160 }} align=\"right\">\n               <Button ><Link to={`/Recipe/${rows.id}/Recipe-values`} style={{textDecoration: 'none', color: 'inherit'}}>Open</Link></Button>\n              </TableCell>\n              <TableCell style={{ width: 160 }} align=\"right\">\n              <Button onClick={() => handleEditOpen()} style={{color: 'darkblue'}}>Edit</Button>\n              </TableCell>\n              <TableCell style={{ width: 160 }} align=\"right\">\n               <Button onClick={handleOpen} style={{color: 'red'}}>Delete</Button>\n              </TableCell>\n              \n               \n            </TableRow>\n        </TableBody>\n      </Table>\n      <Dialog\n            open={open}\n                onClose={handleClose}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <Alert severity=\"error\" variant=\"filled\">\n                <AlertTitle><strong>Delete</strong></AlertTitle>\n                <DialogTitle id=\"alert-dialog-title\">{\"Are You Sure You Want To Delete?\"}</DialogTitle>\n                <DialogContent>\n                <DialogContentText color=\"white\" id=\"alert-dialog-description\">\n                    Deleting will be a permanent action and data pervailing will be permanently deleted and can not be retrieved back.                    </DialogContentText>\n                </DialogContent>\n                </Alert>\n                <DialogActions>\n                <Button onClick={handleClose} color=\"primary\" variant=\"outlined\">\n                    Disagree\n                </Button>\n                <Button   onClick={(e)=>{\n                    handleDelete(rows.id);\n                        handleClose()}} color=\"secondary\" variant=\"outlined\" autoFocus>\n                    Agree\n                </Button>\n                </DialogActions>\n                </Dialog>\n\n                <Dialog\n                fullWidth\n                    open={openEdit}\n                    onClose={handleEditClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">{`Edit ${title}`}</DialogTitle>\n                    <DialogContent>\n                     \n                    <form  onSubmit={updateRecipe} >\n                      {error && <Alert severity='error'>{error}</Alert>}\n                        <TextField\n                        label=\"Recipe Name\"\n                        defaultValue={title}\n                        error={title=== \"\" || title.length > 40}\n                          variant=\"outlined\"\n                          margin=\"normal\"\n                          required\n                          fullWidth\n                          id=\"title\"\n                          name=\"title\"\n                          autoFocus\n                          onChange={(e) => setTitle(e.target.value)}\n                        />\n                    <FormHelperText>Title should be max {title.length}/40</FormHelperText>\n                    <DialogActions>\n                      <Button color=\"secondary\" onClick={handleEditClose}>Cancel</Button>\n                       {!loading && <Button\n                          type=\"submit\"\n                          fullWidth\n                          variant=\"outlined\"\n                          color=\"primary\"\n                         disabled={title=== \"\" || title.length > 40}\n                         \n                        >\n                          Update\n                          </Button>}\n                      {\n                        loading && <Button\n                          type=\"submit\"\n                          fullWidth\n                          variant=\"outlined\"\n                          color=\"primary\"\n                          disabled\n                          \n                        >Updating values...</Button>\n                      }   \n                    </DialogActions>\n                     \n                  </form>\n                    </DialogContent>\n                </Dialog>\n    </TableContainer>\n  );\n}"]},"metadata":{},"sourceType":"module"}