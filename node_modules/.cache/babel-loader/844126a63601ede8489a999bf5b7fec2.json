{"ast":null,"code":"var _jsxFileName = \"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/components/VideoCall/VideoCall.jsx\";\nimport React from 'react';\nimport { OTSession, OTPublisher, OTStreams, OTSubscriber } from 'opentok-react';\nimport { Button, Typography } from '@material-ui/core';\nimport VideocamOffIcon from '@material-ui/icons/VideocamOff';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class VideoCall extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onSessionError = error => {\n      this.setState({\n        error\n      });\n    };\n\n    this.onPublish = () => {\n      console.log('Publish Success');\n    };\n\n    this.onPublishError = error => {\n      this.setState({\n        error\n      });\n    };\n\n    this.onSubscribe = () => {\n      console.log('Subscribe Success');\n    };\n\n    this.onSubscribeError = error => {\n      this.setState({\n        error\n      });\n    };\n\n    this.toggleVideo = () => {\n      this.setState(state => ({\n        publishVideo: !state.publishVideo\n      }));\n    };\n\n    this.state = {\n      message: '',\n      error: null,\n      connection: 'Connecting',\n      publishVideo: true\n    };\n    this.sessionEventHandlers = {\n      sessionConnected: () => {\n        this.setState({\n          connection: 'Connected'\n        });\n      },\n      sessionDisconnected: () => {\n        this.setState({\n          connection: 'Disconnected'\n        });\n      },\n      sessionReconnected: () => {\n        this.setState({\n          connection: 'Reconnected'\n        });\n      },\n      sessionReconnecting: () => {\n        this.setState({\n          connection: 'Reconnecting'\n        });\n      }\n    };\n    this.publisherEventHandlers = {\n      accessDenied: () => {\n        console.log('User denied access to media source');\n      },\n      streamCreated: () => {\n        console.log('Publisher stream created');\n      },\n      streamDestroyed: ({\n        reason\n      }) => {\n        console.log(`Publisher stream destroyed because: ${reason}`);\n      }\n    };\n    this.subscriberEventHandlers = {\n      videoEnabled: () => {\n        console.log('Subscriber video enabled');\n      },\n      videoDisabled: () => {\n        console.log('Subscriber video disabled');\n      }\n    };\n  }\n\n  render() {\n    const {\n      apiKey,\n      sessionId,\n      token\n    } = this.props.credentials;\n    const {\n      error,\n      connection,\n      publishVideo\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h3\",\n        align: \"center\",\n        id: \"sessionStatus\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Session Status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 68\n        }, this), \" \", connection]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Error:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), \" \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(OTSession, {\n        apiKey: apiKey,\n        sessionId: sessionId,\n        token: token,\n        onError: this.onSessionError,\n        eventHandlers: this.sessionEventHandlers,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            startIcon: /*#__PURE__*/_jsxDEV(VideocamOffIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 34\n            }, this),\n            style: {\n              marginBottom: '2%',\n              marginLeft: '10%',\n              backgroundImage: 'linear-gradient(to left bottom, #420ffa, #004dff, #006eff, #238aff, #59a3ff)',\n              color: 'white',\n              width: '15%'\n            },\n            id: \"videoButton\",\n            onClick: this.toggleVideo,\n            children: [publishVideo ? 'Disable' : 'Enable', \" Video\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(OTPublisher, {\n            properties: {\n              publishVideo,\n              width: 500,\n              height: 300\n            },\n            onPublish: this.onPublish,\n            onError: this.onPublishError,\n            eventHandlers: this.publisherEventHandlers\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(OTStreams, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginRight: '5%',\n              marginTop: '2%'\n            },\n            children: /*#__PURE__*/_jsxDEV(OTSubscriber, {\n              properties: {\n                width: 400,\n                height: 250\n              },\n              onSubscribe: this.onSubscribe,\n              onError: this.onSubscribeError,\n              eventHandlers: this.subscriberEventHandlers\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/components/VideoCall/VideoCall.jsx"],"names":["React","OTSession","OTPublisher","OTStreams","OTSubscriber","Button","Typography","VideocamOffIcon","VideoCall","Component","constructor","props","onSessionError","error","setState","onPublish","console","log","onPublishError","onSubscribe","onSubscribeError","toggleVideo","state","publishVideo","message","connection","sessionEventHandlers","sessionConnected","sessionDisconnected","sessionReconnected","sessionReconnecting","publisherEventHandlers","accessDenied","streamCreated","streamDestroyed","reason","subscriberEventHandlers","videoEnabled","videoDisabled","render","apiKey","sessionId","token","credentials","display","flexDirection","justifyContent","marginBottom","marginLeft","backgroundImage","color","width","height","marginRight","marginTop"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { OTSession, OTPublisher, OTStreams, OTSubscriber } from 'opentok-react';\r\nimport { Button, Typography } from '@material-ui/core';\r\nimport VideocamOffIcon from '@material-ui/icons/VideocamOff';\r\n\r\nexport default class VideoCall extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      message: '',\r\n      error: null,\r\n      connection: 'Connecting',\r\n      publishVideo: true,\r\n    };\r\n\r\n    this.sessionEventHandlers = {\r\n      sessionConnected: () => {\r\n        this.setState({ connection: 'Connected' });\r\n      },\r\n      sessionDisconnected: () => {\r\n        this.setState({ connection: 'Disconnected' });\r\n      },\r\n      sessionReconnected: () => {\r\n        this.setState({ connection: 'Reconnected' });\r\n      },\r\n      sessionReconnecting: () => {\r\n        this.setState({ connection: 'Reconnecting' });\r\n      },\r\n    };\r\n\r\n    this.publisherEventHandlers = {\r\n      accessDenied: () => {\r\n        console.log('User denied access to media source');\r\n      },\r\n      streamCreated: () => {\r\n        console.log('Publisher stream created');\r\n      },\r\n      streamDestroyed: ({ reason }) => {\r\n        console.log(`Publisher stream destroyed because: ${reason}`);\r\n      },\r\n    };\r\n\r\n    this.subscriberEventHandlers = {\r\n      videoEnabled: () => {\r\n        console.log('Subscriber video enabled');\r\n      },\r\n      videoDisabled: () => {\r\n        console.log('Subscriber video disabled');\r\n      },\r\n    };\r\n  }\r\n\r\n  onSessionError = error => {\r\n    this.setState({ error });\r\n  };\r\n\r\n  onPublish = () => {\r\n    console.log('Publish Success');\r\n  };\r\n\r\n  onPublishError = error => {\r\n    this.setState({ error });\r\n  };\r\n\r\n  onSubscribe = () => {\r\n    console.log('Subscribe Success');\r\n  };\r\n\r\n  onSubscribeError = error => {\r\n    this.setState({ error });\r\n  };\r\n\r\n  toggleVideo = () => {\r\n    this.setState(state => ({\r\n      publishVideo: !state.publishVideo,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { apiKey, sessionId, token } = this.props.credentials;\r\n    const { error, connection, publishVideo } = this.state;\r\n    return (\r\n      <div>\r\n        <Typography variant='h3' align='center' id=\"sessionStatus\"><b>Session Status:</b> {connection}</Typography>\r\n        {error ? (\r\n          <div className=\"error\">\r\n            <strong>Error:</strong> {error}\r\n          </div>\r\n        ) : null}\r\n        <OTSession\r\n          apiKey={apiKey}\r\n          sessionId={sessionId}\r\n          token={token}\r\n          onError={this.onSessionError}\r\n          eventHandlers={this.sessionEventHandlers}\r\n        >\r\n          <div style={{display: 'flex', flexDirection: 'column', justifyContent: 'center', marginBottom: '20px'}}> \r\n           \r\n              <Button startIcon={<VideocamOffIcon/>} style={{marginBottom: '2%',marginLeft: '10%',backgroundImage: 'linear-gradient(to left bottom, #420ffa, #004dff, #006eff, #238aff, #59a3ff)', color: 'white', width: '15%'}}id=\"videoButton\" onClick={this.toggleVideo}>\r\n            {publishVideo ? 'Disable' : 'Enable'} Video\r\n          </Button>\r\n         \r\n           \r\n           \r\n          <OTPublisher\r\n            properties={{ publishVideo, width: 500, height: 300, }}\r\n            onPublish={this.onPublish}\r\n            onError={this.onPublishError}\r\n            eventHandlers={this.publisherEventHandlers}\r\n          />\r\n          </div>\r\n         \r\n          <OTStreams>\r\n            <div style={{ marginRight: '5%', marginTop: '2%'}}>\r\n               <OTSubscriber\r\n              properties={{ width: 400, height: 250 }}\r\n              onSubscribe={this.onSubscribe}\r\n              onError={this.onSubscribeError}\r\n              eventHandlers={this.subscriberEventHandlers}\r\n            />\r\n            </div>\r\n           \r\n          </OTStreams>\r\n        </OTSession>\r\n      </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}