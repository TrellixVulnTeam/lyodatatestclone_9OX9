{"ast":null,"code":"var _jsxFileName = \"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/Steps/Steps.jsx\",\n    _s = $RefreshSig$();\n\nimport { Button, Card, Container, Dialog, DialogContent, makeStyles, Switch, Toolbar, Typography } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport StepItem from './StepItem';\nimport { Link, useHistory } from 'react-router-dom';\nimport { db, storageRef } from '../../firebase';\nimport { firebaseLooper } from '../../utils/tools';\nimport AddIcon from '@material-ui/icons/Add';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport Page from '../../components/Page';\nimport ManualDashboardLayout from '../../components/ManualSidebar/ManualDashboardLayout';\nimport OutlinedTimeline from './Timeline';\nimport StepCarousel from './StepCarousel';\nimport Carousel from 'react-bootstrap/Carousel';\nimport AddSteps from './AddSteps';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  add: {\n    backgroundImage: 'linear-gradient(to left bottom, #fa630f, #fc8218, #fd9d29, #feb63f, #ffce59)',\n    borderRadius: '20px',\n    margin: theme.spacing(3, 0, 2)\n  },\n  backButton: {\n    backgroundColor: \"black\",\n    color: \"white\",\n    borderRadius: \"20px\",\n    marginRight: \"30px\",\n    marginLeft: \"20px\"\n  },\n  wrapper: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden',\n    paddingTop: 64,\n    [theme.breakpoints.up('lg')]: {\n      paddingLeft: 256\n    }\n  },\n  container: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden'\n  },\n  content: {\n    padding: '20px',\n    flex: '1 1 auto',\n    height: '100%',\n    overflow: 'auto'\n  }\n}));\n\nconst Steps = ({\n  match\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const [mTitle, setMTitle] = useState('');\n  const [steps, setSteps] = useState([{}]);\n  const [checked, setChecked] = useState(true);\n  const [open, setOpen] = useState(false);\n  const dbRef = db.collection('stepData').where('manual_id', '==', `${match.params.id}`);\n\n  const handleReturn = () => {\n    history.push('/machine-data');\n  };\n\n  useEffect(() => {\n    db.collection('manualData').doc(match.params.id).onSnapshot(doc => {\n      setMTitle(doc.data().title);\n    });\n    dbRef.onSnapshot(snapshot => {\n      const stepData = firebaseLooper(snapshot);\n      stepData.sort(function (a, b) {\n        return a.index - b.index;\n      });\n      setSteps(stepData);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Page, {\n    title: \"Steps\",\n    children: [/*#__PURE__*/_jsxDEV(ManualDashboardLayout, {\n      match: match\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.wrapper,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.container,\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          className: classes.content,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              paddingLeft: '5rem',\n              paddingRight: '5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h1\",\n              align: \"center\",\n              gutterBottom: true,\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Steps\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 74\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'flex-end'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginRight: '25px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"MODE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 26\n                }, this), /*#__PURE__*/_jsxDEV(Switch, {\n                  onChange: e => setChecked(!checked),\n                  checked: checked,\n                  color: \"primary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"primary\",\n                onClick: () => setOpen(!open),\n                children: \"Add Steps\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 20\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this), checked ? /*#__PURE__*/_jsxDEV(Container, {\n            children: steps && steps.map(data => /*#__PURE__*/_jsxDEV(StepItem, {\n              data: data\n            }, data.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 25\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Carousel, {\n            nextIcon: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \" flex items-center w-full px-6 py-2 font-semibold text-white transition duration-500 ease-in-out transform bg-black rounded-lg lg:w-auto  focus:shadow-outline focus:outline-none focus:ring-2 ring-offset-current ring-offset-2 \",\n              children: \"Next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 26\n            }, this),\n            prevIcon: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"flex items-center w-full px-6 py-2 font-semibold text-white transition duration-500 ease-in-out transform bg-black rounded-lg lg:w-auto  focus:shadow-outline focus:outline-none focus:ring-2 ring-offset-current ring-offset-2\",\n              children: \"Prev\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 26\n            }, this),\n            children: steps.map(data => /*#__PURE__*/_jsxDEV(Carousel.Item, {\n              style: {\n                height: '80vh',\n                width: '75%',\n                marginLeft: '14%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    backgroundColor: 'black',\n                    opacity: 0.5\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h3\",\n                    align: \"center\",\n                    style: {\n                      color: 'orange'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: data.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 133,\n                      columnNumber: 80\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 14\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body1\",\n                    align: \"center\",\n                    style: {\n                      color: 'orange'\n                    },\n                    children: data.desc\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 7\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false), data.format === 'image' ? /*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  width: '100%',\n                  height: '75vh'\n                },\n                src: data.url,\n                alt: \"First slide\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 4\n              }, this) : data.format === 'video' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"video\", {\n                  style: {\n                    width: '100%',\n                    height: '75vh'\n                  },\n                  controls: true,\n                  src: data.url,\n                  alt: \"First slide\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 8\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 5\n              }, this) : data.format === 'audio' ? /*#__PURE__*/_jsxDEV(\"audio\", {\n                style: {\n                  margin: '30%',\n                  marginTop: '5%',\n                  marginBottom: '20%'\n                },\n                controls: true,\n                src: data.url\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 9\n              }, this) : /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Not Available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 7\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 25\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n          open: open,\n          onClose: () => setOpen(false),\n          children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              onClick: () => setOpen(false),\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n            children: /*#__PURE__*/_jsxDEV(AddSteps, {\n              match: match\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 2\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Steps, \"m2CEKxeAjqmAO2b06akyIYrLGw4=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = Steps;\nexport default Steps;\n\nvar _c;\n\n$RefreshReg$(_c, \"Steps\");","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/Steps/Steps.jsx"],"names":["Button","Card","Container","Dialog","DialogContent","makeStyles","Switch","Toolbar","Typography","React","useEffect","useState","StepItem","Link","useHistory","db","storageRef","firebaseLooper","AddIcon","ArrowBackIcon","Page","ManualDashboardLayout","OutlinedTimeline","StepCarousel","Carousel","AddSteps","useStyles","theme","add","backgroundImage","borderRadius","margin","spacing","backButton","backgroundColor","color","marginRight","marginLeft","wrapper","display","flex","overflow","paddingTop","breakpoints","up","paddingLeft","container","content","padding","height","Steps","match","classes","history","mTitle","setMTitle","steps","setSteps","checked","setChecked","open","setOpen","dbRef","collection","where","params","id","handleReturn","push","doc","onSnapshot","data","title","snapshot","stepData","sort","a","b","index","justifyContent","paddingRight","e","map","width","opacity","desc","format","url","marginTop","marginBottom"],"mappings":"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","sourcesContent":["import { Button, Card, Container, Dialog, DialogContent, makeStyles, Switch, Toolbar, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react'\r\nimport StepItem from './StepItem';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport {db, storageRef } from '../../firebase'\r\nimport { firebaseLooper } from '../../utils/tools';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport Page from '../../components/Page';\r\nimport ManualDashboardLayout from '../../components/ManualSidebar/ManualDashboardLayout'\r\nimport OutlinedTimeline from './Timeline';\r\nimport StepCarousel from './StepCarousel';\r\nimport Carousel from 'react-bootstrap/Carousel'\r\nimport AddSteps from './AddSteps';\r\nconst useStyles = makeStyles((theme) =>( {\r\n    add: {\r\n     \r\n    backgroundImage: 'linear-gradient(to left bottom, #fa630f, #fc8218, #fd9d29, #feb63f, #ffce59)',\r\n    borderRadius: '20px',\r\n    margin: theme.spacing(3, 0, 2),\r\n \r\n    },\r\n    backButton: {\r\n        backgroundColor: \"black\",\r\n        color: \"white\",\r\n        borderRadius: \"20px\",\r\n        marginRight: \"30px\",\r\n        marginLeft: \"20px\",\r\n    },\r\n    wrapper: {\r\n  display: 'flex',\r\n  flex: '1 1 auto',\r\n  overflow: 'hidden',\r\n  paddingTop: 64,\r\n  [theme.breakpoints.up('lg')]: {\r\n    paddingLeft: 256\r\n  },\r\n  \r\n  },\r\n  container: {\r\n      display: 'flex',\r\n  flex: '1 1 auto',\r\n  overflow: 'hidden'\r\n  },\r\n  content: {\r\n     padding: '20px',\r\n      flex: '1 1 auto',\r\n  height: '100%',\r\n  overflow: 'auto'\r\n    },\r\n}))\r\n\r\n\r\nconst Steps = ({match}) => {\r\n    const classes = useStyles();\r\n    const history=useHistory()\r\n     const [mTitle, setMTitle] = useState('')\r\n    const [steps, setSteps] = useState([{}])\r\n    const [checked, setChecked] = useState(true)\r\n    const [open, setOpen] = useState(false)\r\n    const dbRef =   db.collection('stepData').where('manual_id', '==', `${match.params.id}`)\r\n\r\n    const handleReturn = () => {\r\n        history.push('/machine-data')\r\n    }\r\n    useEffect(() => {\r\n\r\n         db.collection('manualData')\r\n       .doc(match.params.id)\r\n        .onSnapshot(doc => {\r\n         setMTitle(doc.data().title)\r\n        })\r\n        \r\n      dbRef.onSnapshot((snapshot) => {\r\n            const stepData = firebaseLooper(snapshot)\r\n            stepData.sort(function(a,b) {\r\n                return(a.index-b.index)\r\n            })\r\n            setSteps(stepData)\r\n            \r\n        })\r\n\r\n    }, [])\r\n    \r\n\r\n\r\n    return (\r\n        <Page title=\"Steps\">\r\n            <ManualDashboardLayout match={match}/>\r\n           \r\n            <div className={classes.wrapper}>\r\n        <div className={classes.container}>\r\n          <Card className={classes.content}>\r\n            \r\n                \r\n                <div style={{display: 'flex', justifyContent: 'space-between', paddingLeft: '5rem', paddingRight: '5rem'}}>\r\n                    <Typography variant='h1' align='center' gutterBottom><b>Steps</b></Typography>\r\n                  <div style={{display: 'flex', justifyContent: 'flex-end'}}\r\n                  >\r\n                     <div style={{marginRight: '25px'}}>\r\n                         <b>MODE</b>\r\n                    <Switch onChange={(e) => setChecked(!checked)} checked={checked} color='primary'/> \r\n                    </div>\r\n                   <Button variant='contained' color='primary' onClick={() => setOpen(!open)}>Add Steps</Button>\r\n                \r\n                  </div>\r\n                   </div>\r\n             \r\n              { \r\n              checked? \r\n              <Container>\r\n                  {\r\n                   steps&&\r\n                    steps.map((data) => (\r\n                        <StepItem key={data.id} data={data} />\r\n                        \r\n                    ))\r\n                  \r\n                }  \r\n               </Container>\r\n               :\r\n\r\n               <Carousel \r\n              nextIcon ={<span className=\" flex items-center w-full px-6 py-2 font-semibold text-white transition duration-500 ease-in-out transform bg-black rounded-lg lg:w-auto  focus:shadow-outline focus:outline-none focus:ring-2 ring-offset-current ring-offset-2 \">Next</span>}\r\n               prevIcon={<span  className=\"flex items-center w-full px-6 py-2 font-semibold text-white transition duration-500 ease-in-out transform bg-black rounded-lg lg:w-auto  focus:shadow-outline focus:outline-none focus:ring-2 ring-offset-current ring-offset-2\">Prev</span>}\r\n               >\r\n               {\r\n                   steps.map((data) => (\r\n                      \r\n                        <Carousel.Item   style={{height: '80vh', width: '75%', marginLeft: '14%'}}>\r\n                             <>\r\n        <div style={{backgroundColor: 'black', opacity: 0.5}}>\r\n             <Typography variant='h3' align='center' style={{color: 'orange'}}><b>{data.title}</b></Typography>\r\n      <Typography variant='body1' align='center' style={{color: 'orange'}}>{data.desc}</Typography>\r\n        </div>\r\n     \r\n    </>\r\n   { data.format === 'image'?\r\n   <img\r\n   style={{width: '100%', height: '75vh'}}\r\n      src={data.url}\r\n      alt=\"First slide\"\r\n    />\r\n    :\r\n    data.format === 'video'?\r\n    <div>\r\n       <video\r\n    style={{width: '100%', height: '75vh'}}\r\n   \r\n    controls\r\n      src={data.url}\r\n      alt=\"First slide\"\r\n    />\r\n    </div>\r\n   \r\n    :  data.format === 'audio'?\r\n    \r\n        <audio style={{ margin: '30%', marginTop: '5%', marginBottom: '20%'}}  controls src={data.url}/>\r\n   \r\n    : <b>Not Available</b>\r\n    }\r\n   \r\n  </Carousel.Item>\r\n  \r\n \r\n                   ))\r\n               }\r\n\r\n  \r\n</Carousel>\r\n              }\r\n\r\n     \r\n                \r\n          </Card>\r\n         <Dialog open={open} onClose={() => setOpen(false)}>\r\n           <Toolbar>\r\n               <Button variant='contained' color='primary' onClick={() =>setOpen(false)}>Close</Button>\r\n           </Toolbar>\r\n         \r\n           <DialogContent>\r\n <AddSteps match={match}/>\r\n           </DialogContent>\r\n             \r\n         </Dialog>\r\n        </div>\r\n      </div>\r\n           \r\n        </Page>\r\n    )\r\n}\r\n\r\nexport default Steps"]},"metadata":{},"sourceType":"module"}