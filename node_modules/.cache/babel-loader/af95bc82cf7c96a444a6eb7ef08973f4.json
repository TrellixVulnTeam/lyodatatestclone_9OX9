{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{TextField,Button,IconButton}from\"@material-ui/core\";import{useState}from\"react\";import{useEffect}from\"react\";import{db}from\"../../../firebase\";import{firebaseLooper}from\"../../../utils/tools\";import DeleteSweepIcon from'@material-ui/icons/DeleteSweep';import{Alert}from\"@material-ui/lab\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SpecDetails(_ref){var match=_ref.match,tid=_ref.tid;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),descs=_useState2[0],setDescs=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),desc=_useState4[0],setDesc=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){db.collection('DQNew').doc(match.params.id).collection('content').doc('designSpecs').collection('points').where('tid','==',\"\".concat(tid)).onSnapshot(function(snap){var data=firebaseLooper(snap);data.sort(function(a,b){return a.index-b.index;});setDescs(data);});},[]);function handleChange(id,data){var desc=data;db.collection('DQNew').doc(match.params.id).collection('content').doc('designSpecs').collection('points').doc(id).update({desc:desc}).then(function(){setError(\"\");});}function handleDelete(id){db.collection('DQNew').doc(match.params.id).collection('content').doc('designSpecs').collection('points').doc(id).delete();}function handleSubmit(e){e.preventDefault();if((desc===null||desc===void 0?void 0:desc.trim().length)===0){return setError(\"Can not add blank spaces as input!\");}db.collection('DQNew').doc(match.params.id).collection('content').doc('designSpecs').collection('points').add({desc:desc,tid:tid,index:descs.length}).then(function(){setDesc(\" \");setError(\"\");});setDesc(\"\");}return/*#__PURE__*/_jsxs(\"div\",{children:[error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),descs.map(function(data){return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl mr-3\",children:\"\\u29BF\"}),/*#__PURE__*/_jsx(TextField,{multiline:true,className:\"mb-5\",variant:\"outlined\",fullWidth:true,defaultValue:data.desc,onChange:handleChange(data.id,data.desc)},data.id),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(e){return handleDelete(data.id);},children:/*#__PURE__*/_jsx(DeleteSweepIcon,{className:\"hover:text-red-600\"})})]});}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-10\",style:{display:'flex',justifyContent:'space-evenly'},children:[/*#__PURE__*/_jsx(TextField,{className:\"mr-5 mb-10\",value:desc,variant:\"outlined\",fullWidth:true,label:\"Add new Data\",onChange:function onChange(e){return setDesc(e.target.value);}}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,disabled:desc==='',style:{color:'orange'},children:\"Add \"})]})]});}export default SpecDetails;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/Design-Specs/DScomps/SpecDetails.jsx"],"names":["TextField","Button","IconButton","useState","useEffect","db","firebaseLooper","DeleteSweepIcon","Alert","SpecDetails","match","tid","descs","setDescs","desc","setDesc","error","setError","collection","doc","params","id","where","onSnapshot","snap","data","sort","a","b","index","handleChange","update","then","handleDelete","delete","handleSubmit","e","preventDefault","trim","length","add","map","display","justifyContent","target","value","color"],"mappings":"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","sourcesContent":["import { TextField, Button, IconButton } from \"@material-ui/core\"\nimport { useState } from \"react\"\nimport { useEffect } from \"react\"\nimport { db } from \"../../../firebase\"\nimport { firebaseLooper } from \"../../../utils/tools\"\nimport DeleteSweepIcon from '@material-ui/icons/DeleteSweep';\nimport { Alert } from \"@material-ui/lab\"\n\nfunction SpecDetails({match, tid}) {\n\tconst [descs, setDescs] = useState([])\n\tconst [desc, setDesc] = useState('')\n\tconst [error, setError] = useState('')\n\tuseEffect(() => {\n\t\tdb.collection('DQNew').doc(match.params.id)\n\t\t.collection('content').doc('designSpecs').collection('points')\n\t\t.where('tid', '==', `${tid}`).onSnapshot(snap => {\n\t\t\tconst data = firebaseLooper(snap)\n\t\t\tdata.sort(function(a,b){\n\t\t\t\treturn(a.index-b.index)\n\t\t\t})\n\t\t\tsetDescs(data)\n\t\t})\n\t}, [])\n\tfunction handleChange(id, data){\n\t\tconst desc = data\n\t\tdb.collection('DQNew').doc(match.params.id)\n\t\t.collection('content').doc('designSpecs').collection('points')\n\t\t.doc(id).update({desc}).then(() => {setError(\"\")})\n\t}\n\tfunction handleDelete (id){\n\t\t\n\t\tdb.collection('DQNew').doc(match.params.id)\n\t\t.collection('content').doc('designSpecs').collection('points')\n\t\t.doc(id).delete()\n\t}\n\n\tfunction handleSubmit(e){\n\t\te.preventDefault()\n\t\tif(desc?.trim().length === 0){\n\t\t\treturn setError(\"Can not add blank spaces as input!\")\n\t\t}\n\t\tdb.collection('DQNew').doc(match.params.id)\n\t\t.collection('content').doc('designSpecs').collection('points')\n\t\t.add({desc,tid,index: descs.length}).then(() => {\n\t\t\tsetDesc(\" \")\n\t\t\tsetError(\"\")})\n\t\t\tsetDesc(\"\")\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{error && <Alert severity=\"error\">{error}</Alert>}\n\t\t\t{\n\t\t\t\tdescs.map(data => (\n\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'space-between'}}>\n\t\t\t\t\t\t<p className='text-2xl mr-3'>â¦¿</p>\n\t\t\t\t\t\t<TextField multiline className='mb-5' variant='outlined' fullWidth key={data.id} defaultValue={data.desc} onChange={handleChange(data.id,data.desc)}/>\n\t\t\t\t\t\t<IconButton onClick={(e) =>handleDelete(data.id)}><DeleteSweepIcon className='hover:text-red-600' /></IconButton>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t))\n\t\t\t\n\t\t\t} \n\t\t\t<div className='p-10' style={{display: 'flex', justifyContent: 'space-evenly'}}>\n\t\t\t\t<TextField className='mr-5 mb-10' value={desc}  variant='outlined' fullWidth  label='Add new Data' onChange={(e) => setDesc(e.target.value)}/>\n\t\t\t\t<Button onClick={handleSubmit} disabled={desc===''} style={{color: 'orange'}} >Add </Button>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t)\n}\n\nexport default SpecDetails\n"]},"metadata":{},"sourceType":"module"}