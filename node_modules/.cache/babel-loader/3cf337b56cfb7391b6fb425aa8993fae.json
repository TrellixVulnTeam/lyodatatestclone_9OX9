{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Dialog,DialogActions,DialogContent,DialogContentText,DialogTitle,FormHelperText,TableBody,TableCell,TableRow,TextField,Typography}from\"@material-ui/core\";import EditIcon from\"@material-ui/icons/Edit\";import DeleteForeverIcon from\"@material-ui/icons/DeleteForever\";import{Alert,AlertTitle}from\"@material-ui/lab\";import{useState}from\"react\";import{db}from\"../../../firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function DQComponentsView(_ref){var components=_ref.components,match=_ref.match,module_id=_ref.module_id;var _useState=useState(components.title),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(components.value),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),open=_useState8[0],setOpen=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),openDel=_useState10[0],setOpenDel=_useState10[1];function handleOpenDel(){setOpenDel(true);}function handleCloseDel(){setOpenDel(false);}function handleOpen(){setOpen(true);}function handleClose(){setOpen(false);}function handleUpdate(e){e.preventDefault();if((title===null||title===void 0?void 0:title.trim().length)===0||(value===null||value===void 0?void 0:value.trim().length)===0){return setError(\"Empty strings are not accepted as valid strings ! Please try again with a valid string\");}db.collection('DQNew').doc(match.params.id).collection('content').doc('config').collection('components').doc(components.id).update({title:title,value:value}).then(function(){setOpen(false);});}function handleDelete(id){db.collection('DQNew').doc(match.params.id).collection('content').doc('config').collection('components').doc(id).delete();}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TableBody,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{background:'#E8F6EF'},component:\"th\",scope:\"row\",align:\"left\",children:components.title}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:components.value}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{onClick:handleOpen,children:/*#__PURE__*/_jsx(EditIcon,{className:\"animate-bounce\"})}),/*#__PURE__*/_jsx(Button,{onClick:handleOpenDel,children:/*#__PURE__*/_jsx(DeleteForeverIcon,{className:\"hover:text-red-600\"})})]})})]},components.id)}),/*#__PURE__*/_jsx(Dialog,{style:{alignItems:'center'},fullWidth:true,open:open,onClose:handleClose,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdate,children:[error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",gutterBottom:true,children:/*#__PURE__*/_jsx(\"b\",{children:\"Edit Details\"})}),/*#__PURE__*/_jsx(TextField,{required:true,label:\"Title\",error:title.length>30,value:title,variant:\"outlined\",fullWidth:true,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsxs(FormHelperText,{style:{marginBottom:'3%'},children:[\"Title should be max \",title.length,\"/30\"]}),/*#__PURE__*/_jsx(TextField,{value:value,variant:\"outlined\",error:value.length>300,fullWidth:true,onChange:function onChange(e){return setValue(e.target.value);}}),/*#__PURE__*/_jsxs(FormHelperText,{style:{marginBottom:'3%'},children:[\"Value should be max \",value.length,\"/300\"]})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:handleClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",style:{backgroundColor:'orange',color:'whitesmoke'},children:\"Update\"})]})]})}),/*#__PURE__*/_jsxs(Dialog,{open:openDel,onClose:handleCloseDel,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsxs(Alert,{severity:\"error\",variant:\"filled\",children:[/*#__PURE__*/_jsx(AlertTitle,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Delete\"})}),/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Are You Sure You Want To Delete?\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{color:\"white\",id:\"alert-dialog-description\",children:\"Deleting will be a permanent action and data pervailing will be permanently deleted and can not be retrieved back.                    \"})})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseDel,color:\"primary\",variant:\"outlined\",children:\"Disagree\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){return handleDelete(components.id);},color:\"secondary\",variant:\"outlined\",autoFocus:true,children:\"Agree\"})]})]})]});}export default DQComponentsView;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/DQPages/DQCOnfigDetails/DQComponentsView.jsx"],"names":["Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","FormHelperText","TableBody","TableCell","TableRow","TextField","Typography","EditIcon","DeleteForeverIcon","Alert","AlertTitle","useState","db","DQComponentsView","components","match","module_id","title","setTitle","value","setValue","error","setError","open","setOpen","openDel","setOpenDel","handleOpenDel","handleCloseDel","handleOpen","handleClose","handleUpdate","e","preventDefault","trim","length","collection","doc","params","id","update","then","handleDelete","delete","background","alignItems","target","marginBottom","backgroundColor","color"],"mappings":"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","sourcesContent":["import { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, FormHelperText, TableBody, TableCell, TableRow, TextField, Typography } from \"@material-ui/core\"\nimport  EditIcon from \"@material-ui/icons/Edit\"\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\"\nimport { Alert, AlertTitle } from \"@material-ui/lab\"\nimport { useState } from \"react\"\nimport { db } from \"../../../firebase\"\n\nfunction DQComponentsView({components, match, module_id}) {\n\tconst [title, setTitle] = useState(components.title)\n\tconst [value, setValue] = useState(components.value)\n\tconst [error, setError] = useState(\"\")\n\tconst [open, setOpen] = useState(false)\n\tconst [openDel, setOpenDel] = useState(false)\n\tfunction handleOpenDel(){\n\t\tsetOpenDel(true)\n\t}\n\tfunction handleCloseDel(){\n\t\tsetOpenDel(false)\n\t\t\n\t}\n\tfunction handleOpen(){\n\t\tsetOpen(true)\n\t}\n\tfunction handleClose(){\n\t\tsetOpen(false)\n\t}\n\tfunction handleUpdate(e){\n\t\te.preventDefault()\n\t\tif(title?.trim().length === 0 || value?.trim().length === 0){\n\t\t\treturn setError(\"Empty strings are not accepted as valid strings ! Please try again with a valid string\")\n\t\t}\n\t\tdb.collection('DQNew')\n\t\t.doc(match.params.id)\n\t\t.collection('content')\n\t\t.doc('config')\n\t\t.collection('components')\n\t\t.doc(components.id)\n\t\t.update({title, value})\n\t\t.then(() => {setOpen(false)})\n\t}\n\tfunction handleDelete(id){\n\t\tdb.collection('DQNew')\n\t\t.doc(match.params.id)\n\t\t.collection('content')\n\t\t.doc('config')\n\t\t.collection('components')\n\t\t.doc(id)\n\t\t.delete()\n\t}\n\treturn (\n\t\t<>\n\t\t<TableBody>\n\t\t\t\n\t\t\t<TableRow key={components.id}>\n\t\t\t<TableCell style={{background: '#E8F6EF'}}  component=\"th\" scope=\"row\" align='left'>\n\t\t\t\t{components.title}\n\t\t\t</TableCell>\n\t\t\t\n\t\t\t<TableCell  align='left'>\n\t\t\t\t{components.value}\n\t\t\t</TableCell>\n\t\t\t<TableCell align=\"right\">\n\t\t\t\t<div>\n\t\t\t\t\t<Button  onClick={handleOpen}><EditIcon className='animate-bounce'/></Button>\n\t\t\t\t\t<Button onClick={handleOpenDel}><DeleteForeverIcon className='hover:text-red-600'/></Button>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t\n\t\t\t</TableBody>\n\t\t\t <Dialog style={{alignItems: 'center'}} fullWidth open={open} onClose={handleClose}>\n\t\t\t\t<form onSubmit={handleUpdate}>\n\t\t\t\t\t{error && <Alert severity='error'>{error}</Alert>}\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t<Typography variant='h4' align='center' gutterBottom><b>Edit Details</b></Typography>\n\t\t\t\t\t\n\t\t\t\t\t<TextField required label=\"Title\" error={title.length > 30}  value={title} variant='outlined' fullWidth onChange={(e) => setTitle(e.target.value)}/>\n\t\t\t\t\t<FormHelperText style={{marginBottom: '3%'}}>Title should be max {title.length}/30</FormHelperText>\n\t\t\t\t\t<TextField  value={value} variant='outlined' error={value.length > 300} fullWidth onChange={(e) => setValue(e.target.value)}/>\n\t\t\t\t\t<FormHelperText style={{marginBottom: '3%'}}>Value should be max {value.length}/300</FormHelperText>\n\t\t\t\t</DialogContent>\n\t\t\t\t\n\t\t\t\t\n\t\t\t<DialogActions>\n\t\t\t\t<Button variant='contained' color='secondary' onClick={handleClose}>Cancel</Button>\n\t\t\t\t<Button type='submit' style={{backgroundColor: 'orange', color: 'whitesmoke'}}>Update</Button>\n\t\t\t</DialogActions>\n\t\t\t</form>\n\t\t\t</Dialog>\n\t\t\t{/* Open delete dialog */}\n\t\t\t <Dialog\n\t\t\t \n                    open={openDel}\n                    onClose={handleCloseDel}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                  <Alert severity=\"error\" variant=\"filled\">\n                    <AlertTitle><strong>Delete</strong></AlertTitle>\n                    <DialogTitle id=\"alert-dialog-title\">{\"Are You Sure You Want To Delete?\"}</DialogTitle>\n                    <DialogContent>\n                    <DialogContentText color=\"white\" id=\"alert-dialog-description\">\n                        Deleting will be a permanent action and data pervailing will be permanently deleted and can not be retrieved back.                    </DialogContentText>\n                    </DialogContent>\n                    </Alert>\n                    <DialogActions>\n                    <Button onClick={handleCloseDel} color=\"primary\" variant=\"outlined\">\n                        Disagree\n                    </Button>\n                    <Button   onClick={(e) => handleDelete(components.id)} color=\"secondary\" variant=\"outlined\" autoFocus>\n                        Agree\n                    </Button>\n                    </DialogActions>\n                </Dialog>\n\t\t</>\n\t)\n}\n\nexport default DQComponentsView\n"]},"metadata":{},"sourceType":"module"}