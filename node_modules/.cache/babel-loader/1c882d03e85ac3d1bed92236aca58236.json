{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useEffect,useState}from'react';import ContentDataBox from'./ContentDataBox';import{Button,Card,Container,Grid,makeStyles,Paper,TableCell,TableFooter,TablePagination,TableRow,TextField,Typography,useTheme}from'@material-ui/core';import{db}from'../../firebase';import{firebaseLooper}from'../../utils/tools';import IconButton from'@material-ui/core/IconButton';import FirstPageIcon from'@material-ui/icons/FirstPage';import KeyboardArrowLeft from'@material-ui/icons/KeyboardArrowLeft';import KeyboardArrowRight from'@material-ui/icons/KeyboardArrowRight';import LastPageIcon from'@material-ui/icons/LastPage';import ContentDashboardLayout from'../../components/ContentSidebar/ContentDashboardLayout';import{useHistory}from'react-router-dom';import{Autocomplete}from'@material-ui/lab';import Page from'../../components/Page';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{layoutRoot:{display:'flex',height:'100%',overflow:'hidden',width:'100%'},avatar:{margin:theme.spacing(1),backgroundColor:'#141256'},wrapper:_defineProperty({display:'flex',flex:'1 1 auto',overflow:'hidden',paddingTop:64},theme.breakpoints.up('lg'),{paddingLeft:256}),container:{display:'flex',flex:'1 1 auto',overflow:'hidden'},content:{padding:'20px',flex:'1 1 auto',height:'100%',overflow:'auto'},table:{minWidth:500},root:{flexShrink:0,marginLeft:theme.spacing(2.5)}};});function TablePaginationActions(props){var classes=useStyles();var theme=useTheme();var count=props.count,page=props.page,rowsPerPage=props.rowsPerPage,onChangePage=props.onChangePage;var handleFirstPageButtonClick=function handleFirstPageButtonClick(event){onChangePage(event,0);};var handleBackButtonClick=function handleBackButtonClick(event){onChangePage(event,page-1);};var handleNextButtonClick=function handleNextButtonClick(event){onChangePage(event,page+1);};var handleLastPageButtonClick=function handleLastPageButtonClick(event){onChangePage(event,Math.max(0,Math.ceil(count/rowsPerPage)-1));};return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleFirstPageButtonClick,disabled:page===0,\"aria-label\":\"first page\",children:theme.direction==='rtl'?/*#__PURE__*/_jsx(LastPageIcon,{}):/*#__PURE__*/_jsx(FirstPageIcon,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:handleBackButtonClick,disabled:page===0,\"aria-label\":\"previous page\",children:theme.direction==='rtl'?/*#__PURE__*/_jsx(KeyboardArrowRight,{}):/*#__PURE__*/_jsx(KeyboardArrowLeft,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:handleNextButtonClick,disabled:page>=Math.ceil(count/rowsPerPage)-1,\"aria-label\":\"next page\",children:theme.direction==='rtl'?/*#__PURE__*/_jsx(KeyboardArrowLeft,{}):/*#__PURE__*/_jsx(KeyboardArrowRight,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:handleLastPageButtonClick,disabled:page>=Math.ceil(count/rowsPerPage)-1,\"aria-label\":\"last page\",children:theme.direction==='rtl'?/*#__PURE__*/_jsx(FirstPageIcon,{}):/*#__PURE__*/_jsx(LastPageIcon,{})})]});}var ContentsData=function ContentsData(_ref){var match=_ref.match;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),mTitle=_useState4[0],setMTitle=_useState4[1];var _useState5=useState([{}]),_useState6=_slicedToArray(_useState5,2),content=_useState6[0],setContent=_useState6[1];var history=useHistory();var classes=useStyles();useEffect(function(){db.collection('machineData').doc(match.params.id).onSnapshot(function(doc){setMTitle(doc.data().title);});db.collection('moduleData').where('mid','==',\"\".concat(match.params.id)).onSnapshot(function(doc){var data=firebaseLooper(doc);setContent(data);});},[]);var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),page=_React$useState2[0],setPage=_React$useState2[1];var _React$useState3=React.useState(5),_React$useState4=_slicedToArray(_React$useState3,2),rowsPerPage=_React$useState4[0],setRowsPerPage=_React$useState4[1];var emptyRows=rowsPerPage-Math.min(rowsPerPage,content.length-page*rowsPerPage);var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(parseInt(event.target.value,10));setPage(0);};return/*#__PURE__*/_jsx(Page,{title:\"Modules | LyoIms\",children:/*#__PURE__*/_jsxs(Paper,{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(ContentDashboardLayout,{match:match}),/*#__PURE__*/_jsx(\"div\",{className:classes.wrapper,children:/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:/*#__PURE__*/_jsx(Card,{className:classes.content,children:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Typography,{align:\"left\",variant:\"h4\",children:/*#__PURE__*/_jsx(\"b\",{children:mTitle})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{align:\"center\",variant:\"h1\",children:/*#__PURE__*/_jsx(\"b\",{style:{color:'#43425D',font:'var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) 28px/40px var(--unnamed-font-family-roboto)'},children:\"Modules\"})}),/*#__PURE__*/_jsx(Typography,{align:\"center\",variant:\"body2\",style:{color:'#43425D'},children:\"These are all the required Modules\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{style:{border:'2px solid whitesmoke'},onChange:function onChange(e){return setTitle(e.target.value);},type:\"text\",className:\"h-14 w-96 pr-8 pl-5 rounded z-0 focus:shadow focus:outline-none\",placeholder:\"Search Modules...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-4 right-3\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-search text-gray-400 z-20 hover:text-gray-500\"}),\" \"]})]}),/*#__PURE__*/_jsx(Button,{style:{width:'15%',marginLeft:'4%',marginRight:'3%',backgroundColor:'orange',color:'white'},href:\"/machine-data/\".concat(match.params.id,\"/Add-module\"),children:\"ADD New \"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Grid,{className:\"bg-gray-100\",container:true,spacing:3,children:content.filter(function(data){if(title===\"\"){return data;}else if(data.title.toLowerCase().includes(title.toLocaleLowerCase())){return data;}}).map(function(data){return/*#__PURE__*/_jsx(ContentDataBox,{data:data,match:match},data.id);})})]})})})})})})]})});};export default ContentsData;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/ContentsData/ContentsData.jsx"],"names":["React","useEffect","useState","ContentDataBox","Button","Card","Container","Grid","makeStyles","Paper","TableCell","TableFooter","TablePagination","TableRow","TextField","Typography","useTheme","db","firebaseLooper","IconButton","FirstPageIcon","KeyboardArrowLeft","KeyboardArrowRight","LastPageIcon","ContentDashboardLayout","useHistory","Autocomplete","Page","useStyles","theme","layoutRoot","display","height","overflow","width","avatar","margin","spacing","backgroundColor","wrapper","flex","paddingTop","breakpoints","up","paddingLeft","container","content","padding","table","minWidth","root","flexShrink","marginLeft","TablePaginationActions","props","classes","count","page","rowsPerPage","onChangePage","handleFirstPageButtonClick","event","handleBackButtonClick","handleNextButtonClick","handleLastPageButtonClick","Math","max","ceil","direction","ContentsData","match","title","setTitle","mTitle","setMTitle","setContent","history","collection","doc","params","id","onSnapshot","data","where","setPage","setRowsPerPage","emptyRows","min","length","handleChangePage","newPage","handleChangeRowsPerPage","parseInt","target","value","color","font","justifyContent","border","e","marginRight","filter","toLowerCase","includes","toLocaleLowerCase","map"],"mappings":"wVACA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,SAAvB,CAAkCC,IAAlC,CAAwCC,UAAxC,CAAoDC,KAApD,CAA2DC,SAA3D,CAAsEC,WAAtE,CAAmFC,eAAnF,CAAoGC,QAApG,CAA8GC,SAA9G,CAAyHC,UAAzH,CAAqIC,QAArI,KAAqJ,mBAArJ,CACA,OAASC,EAAT,KAAmB,gBAAnB,CACA,OAASC,cAAT,KAA+B,mBAA/B,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,8BAA1B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,sCAA9B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,uCAA/B,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CAEA,MAAOC,CAAAA,sBAAP,KAAmC,wDAAnC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,YAAT,KAA6B,kBAA7B,CACA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,C,6IAEA,GAAMC,CAAAA,SAAS,CAAGpB,UAAU,CAAC,SAACqB,KAAD,QAAY,CACvCC,UAAU,CAAE,CAEVC,OAAO,CAAE,MAFC,CAGVC,MAAM,CAAE,MAHE,CAIVC,QAAQ,CAAE,QAJA,CAKVC,KAAK,CAAE,MALG,CAD2B,CASvCC,MAAM,CAAE,CACNC,MAAM,CAAEP,KAAK,CAACQ,OAAN,CAAc,CAAd,CADF,CAENC,eAAe,CAAE,SAFX,CAT+B,CAaxCC,OAAO,kBACNR,OAAO,CAAE,MADH,CAENS,IAAI,CAAE,UAFA,CAGNP,QAAQ,CAAE,QAHJ,CAINQ,UAAU,CAAE,EAJN,EAKLZ,KAAK,CAACa,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CALK,CAKwB,CAC5BC,WAAW,CAAE,GADe,CALxB,CAbiC,CAuBvCC,SAAS,CAAE,CAEPd,OAAO,CAAE,MAFF,CAGXS,IAAI,CAAE,UAHK,CAIXP,QAAQ,CAAE,QAJC,CAvB4B,CA6BvCa,OAAO,CAAE,CACPC,OAAO,CAAE,MADF,CAELP,IAAI,CAAE,UAFD,CAGTR,MAAM,CAAE,MAHC,CAITC,QAAQ,CAAE,MAJD,CA7B8B,CAmCpCe,KAAK,CAAE,CACRC,QAAQ,CAAE,GADF,CAnC6B,CAsCvCC,IAAI,CAAE,CACJC,UAAU,CAAE,CADR,CAEJC,UAAU,CAAEvB,KAAK,CAACQ,OAAN,CAAc,GAAd,CAFR,CAtCiC,CAAZ,EAAD,CAA5B,CAqDA,QAASgB,CAAAA,sBAAT,CAAgCC,KAAhC,CAAuC,CACrC,GAAMC,CAAAA,OAAO,CAAG3B,SAAS,EAAzB,CACA,GAAMC,CAAAA,KAAK,CAAGb,QAAQ,EAAtB,CAFqC,GAG7BwC,CAAAA,KAH6B,CAGcF,KAHd,CAG7BE,KAH6B,CAGtBC,IAHsB,CAGcH,KAHd,CAGtBG,IAHsB,CAGhBC,WAHgB,CAGcJ,KAHd,CAGhBI,WAHgB,CAGHC,YAHG,CAGcL,KAHd,CAGHK,YAHG,CAKrC,GAAMC,CAAAA,0BAA0B,CAAG,QAA7BA,CAAAA,0BAA6B,CAACC,KAAD,CAAW,CAC5CF,YAAY,CAACE,KAAD,CAAQ,CAAR,CAAZ,CACD,CAFD,CAIA,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACD,KAAD,CAAW,CACvCF,YAAY,CAACE,KAAD,CAAQJ,IAAI,CAAG,CAAf,CAAZ,CACD,CAFD,CAIA,GAAMM,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACF,KAAD,CAAW,CACvCF,YAAY,CAACE,KAAD,CAAQJ,IAAI,CAAG,CAAf,CAAZ,CACD,CAFD,CAIA,GAAMO,CAAAA,yBAAyB,CAAG,QAA5BA,CAAAA,yBAA4B,CAACH,KAAD,CAAW,CAC3CF,YAAY,CAACE,KAAD,CAAQI,IAAI,CAACC,GAAL,CAAS,CAAT,CAAYD,IAAI,CAACE,IAAL,CAAUX,KAAK,CAAGE,WAAlB,EAAiC,CAA7C,CAAR,CAAZ,CACD,CAFD,CAIA,mBACE,aAAK,SAAS,CAAEH,OAAO,CAACL,IAAxB,wBACE,KAAC,UAAD,EACE,OAAO,CAAEU,0BADX,CAEE,QAAQ,CAAEH,IAAI,GAAK,CAFrB,CAGE,aAAW,YAHb,UAKG5B,KAAK,CAACuC,SAAN,GAAoB,KAApB,cAA4B,KAAC,YAAD,IAA5B,cAA+C,KAAC,aAAD,IALlD,EADF,cAQE,KAAC,UAAD,EAAY,OAAO,CAAEN,qBAArB,CAA4C,QAAQ,CAAEL,IAAI,GAAK,CAA/D,CAAkE,aAAW,eAA7E,UACG5B,KAAK,CAACuC,SAAN,GAAoB,KAApB,cAA4B,KAAC,kBAAD,IAA5B,cAAqD,KAAC,iBAAD,IADxD,EARF,cAWE,KAAC,UAAD,EACE,OAAO,CAAEL,qBADX,CAEE,QAAQ,CAAEN,IAAI,EAAIQ,IAAI,CAACE,IAAL,CAAUX,KAAK,CAAGE,WAAlB,EAAiC,CAFrD,CAGE,aAAW,WAHb,UAKG7B,KAAK,CAACuC,SAAN,GAAoB,KAApB,cAA4B,KAAC,iBAAD,IAA5B,cAAoD,KAAC,kBAAD,IALvD,EAXF,cAkBE,KAAC,UAAD,EACE,OAAO,CAAEJ,yBADX,CAEE,QAAQ,CAAEP,IAAI,EAAIQ,IAAI,CAACE,IAAL,CAAUX,KAAK,CAAGE,WAAlB,EAAiC,CAFrD,CAGE,aAAW,WAHb,UAKG7B,KAAK,CAACuC,SAAN,GAAoB,KAApB,cAA4B,KAAC,aAAD,IAA5B,cAAgD,KAAC,YAAD,IALnD,EAlBF,GADF,CA4BD,CAGD,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAa,IAAXC,CAAAA,KAAW,MAAXA,KAAW,eAEJpE,QAAQ,CAAC,EAAD,CAFJ,wCAEvBqE,KAFuB,eAEhBC,QAFgB,8BAGDtE,QAAQ,CAAC,EAAD,CAHP,yCAGtBuE,MAHsB,eAGdC,SAHc,8BAIIxE,QAAQ,CAAC,CAAC,EAAD,CAAD,CAJZ,yCAInB4C,OAJmB,eAIV6B,UAJU,eAK9B,GAAMC,CAAAA,OAAO,CAAGnD,UAAU,EAA1B,CACD,GAAM8B,CAAAA,OAAO,CAAG3B,SAAS,EAAzB,CAEC3B,SAAS,CAAE,UAAM,CACdgB,EAAE,CAAC4D,UAAH,CAAc,aAAd,EACCC,GADD,CACKR,KAAK,CAACS,MAAN,CAAaC,EADlB,EAEEC,UAFF,CAEa,SAAAH,GAAG,CAAI,CAClBJ,SAAS,CAACI,GAAG,CAACI,IAAJ,GAAWX,KAAZ,CAAT,CACA,CAJF,EAMCtD,EAAE,CAAC4D,UAAH,CAAc,YAAd,EACCM,KADD,CACO,KADP,CACe,IADf,WACyBb,KAAK,CAACS,MAAN,CAAaC,EADtC,GAECC,UAFD,CAEY,SAAAH,GAAG,CAAI,CACf,GAAMI,CAAAA,IAAI,CAAGhE,cAAc,CAAC4D,GAAD,CAA3B,CACAH,UAAU,CAACO,IAAD,CAAV,CACH,CALD,EAMH,CAbQ,CAaN,EAbM,CAAT,CAR8B,oBAuBLlF,KAAK,CAACE,QAAN,CAAe,CAAf,CAvBK,oDAuBtBuD,IAvBsB,qBAuBhB2B,OAvBgB,0CAwBMpF,KAAK,CAACE,QAAN,CAAe,CAAf,CAxBN,qDAwBzBwD,WAxByB,qBAwBZ2B,cAxBY,qBA0BhC,GAAMC,CAAAA,SAAS,CAAG5B,WAAW,CAAGO,IAAI,CAACsB,GAAL,CAAS7B,WAAT,CAAsBZ,OAAO,CAAC0C,MAAR,CAAiB/B,IAAI,CAAGC,WAA9C,CAAhC,CAEA,GAAM+B,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAC5B,KAAD,CAAQ6B,OAAR,CAAoB,CAC3CN,OAAO,CAACM,OAAD,CAAP,CACD,CAFD,CAIA,GAAMC,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAAC9B,KAAD,CAAW,CACzCwB,cAAc,CAACO,QAAQ,CAAC/B,KAAK,CAACgC,MAAN,CAAaC,KAAd,CAAqB,EAArB,CAAT,CAAd,CACAV,OAAO,CAAC,CAAD,CAAP,CACD,CAHD,CAME,mBACE,KAAC,IAAD,EAAM,KAAK,CAAC,kBAAZ,uBACI,MAAC,KAAD,EAAO,SAAS,CAAC,aAAjB,wBACF,KAAC,sBAAD,EAAwB,KAAK,CAAEd,KAA/B,EADE,cAED,YAAK,SAAS,CAAEf,OAAO,CAAChB,OAAxB,uBACD,YAAK,SAAS,CAAEgB,OAAO,CAACV,SAAxB,uBACE,KAAC,IAAD,EAAO,SAAS,CAAEU,OAAO,CAACT,OAA1B,uBACE,sCAEJ,kCACE,MAAC,IAAD,yBACE,KAAC,UAAD,EAAY,KAAK,CAAC,MAAlB,CAAyB,OAAO,CAAC,IAAjC,uBAAsC,mBAAI2B,MAAJ,EAAtC,EADF,cAEA,oCACI,KAAC,UAAD,EAAY,KAAK,CAAC,QAAlB,CAA2B,OAAO,CAAC,IAAnC,uBAAwC,UAAG,KAAK,CAAE,CAACsB,KAAK,CAAE,SAAR,CAAmBC,IAAI,CAAE,uHAAzB,CAAV,qBAAxC,EADJ,cAEK,KAAC,UAAD,EAAY,KAAK,CAAC,QAAlB,CAA2B,OAAO,CAAC,OAAnC,CAA2C,KAAK,CAAE,CAACD,KAAK,CAAE,SAAR,CAAlD,gDAFL,GAFA,cAMI,aANJ,cAOM,aAAK,KAAK,CAAE,CAAChE,OAAO,CAAE,MAAV,CAAkBkE,cAAc,CAAE,UAAlC,CAAZ,wBACH,aAAK,SAAS,CAAC,UAAf,wBACI,cAAO,KAAK,CAAE,CAAEC,MAAM,CAAE,sBAAV,CAAd,CAAiD,QAAQ,CAAE,kBAACC,CAAD,QAAO3B,CAAAA,QAAQ,CAAC2B,CAAC,CAACN,MAAF,CAASC,KAAV,CAAf,EAA3D,CAA4F,IAAI,CAAC,MAAjG,CAAwG,SAAS,CAAC,iEAAlH,CAAoL,WAAW,CAAC,mBAAhM,EADJ,cAEK,aAAK,SAAS,CAAC,wBAAf,4BAAyC,UAAG,SAAS,CAAC,qDAAb,EAAzC,OAFL,GADG,cAKF,KAAC,MAAD,EAAQ,KAAK,CAAE,CAAC5D,KAAK,CAAE,KAAR,CAAckB,UAAU,CAAE,IAA1B,CAAgCgD,WAAW,CAAE,IAA7C,CAAmD9D,eAAe,CAAE,QAApE,CAA8EyD,KAAK,CAAE,OAArF,CAAf,CAA8G,IAAI,yBAAmBzB,KAAK,CAACS,MAAN,CAAaC,EAAhC,eAAlH,sBALE,GAPN,cAeI,aAfJ,cAgBI,KAAC,IAAD,EAAO,SAAS,CAAC,aAAjB,CAA+B,SAAS,KAAxC,CAAyC,OAAO,CAAE,CAAlD,UAEDlC,OADI,CAGPuD,MAHO,CAGA,SAACnB,IAAD,CAAU,CACb,GAAGX,KAAK,GAAK,EAAb,CAAgB,CAChB,MAAOW,CAAAA,IAAP,CACH,CAFG,IAEG,IAAIA,IAAI,CAACX,KAAL,CAAW+B,WAAX,GAAyBC,QAAzB,CAAkChC,KAAK,CAACiC,iBAAN,EAAlC,CAAJ,CAAiE,CAChE,MAAOtB,CAAAA,IAAP,CACC,CACR,CATM,EAUNuB,GAVM,CAUF,SAACvB,IAAD,qBACH,KAAC,cAAD,EAA8B,IAAI,CAAEA,IAApC,CAA0C,KAAK,CAAEZ,KAAjD,EAAqBY,IAAI,CAACF,EAA1B,CADG,EAVE,CADH,EAhBJ,GADF,EAFI,EADF,EADF,EADC,EAFC,GADJ,EADF,CAsDH,CA5FD,CA8FA,cAAeX,CAAAA,YAAf","sourcesContent":["\r\nimport React, {useEffect, useState} from 'react'\r\nimport ContentDataBox from './ContentDataBox'\r\nimport { Button, Card, Container, Grid, makeStyles, Paper, TableCell, TableFooter, TablePagination, TableRow, TextField, Typography, useTheme } from '@material-ui/core';\r\nimport { db } from '../../firebase';\r\nimport { firebaseLooper } from '../../utils/tools';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport LastPageIcon from '@material-ui/icons/LastPage';\r\nimport PropTypes from 'prop-types';\r\nimport ContentDashboardLayout from '../../components/ContentSidebar/ContentDashboardLayout';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport Page from '../../components/Page';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  layoutRoot: {\r\n    \r\n    display: 'flex',\r\n    height: '100%',\r\n    overflow: 'hidden',\r\n    width: '100%',\r\n\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: '#141256',\r\n  },\r\n wrapper: {\r\n  display: 'flex',\r\n  flex: '1 1 auto',\r\n  overflow: 'hidden',\r\n  paddingTop: 64,\r\n  [theme.breakpoints.up('lg')]: {\r\n    paddingLeft: 256\r\n  },\r\n \r\n  },\r\n  container: {\r\n   \r\n      display: 'flex',\r\n  flex: '1 1 auto',\r\n  overflow: 'hidden'\r\n  },\r\n  content: {\r\n    padding: '20px',\r\n      flex: '1 1 auto',\r\n  height: '100%',\r\n  overflow: 'auto'\r\n    },\r\n     table: {\r\n    minWidth: 500,\r\n  },\r\n  root: {\r\n    flexShrink: 0,\r\n    marginLeft: theme.spacing(2.5),\r\n  },\r\n}));\r\n\r\nTablePaginationActions.propTypes = {\r\n  count: PropTypes.number.isRequired,\r\n  onChangePage: PropTypes.func.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n  rowsPerPage: PropTypes.number.isRequired,\r\n};\r\n\r\n\r\n\r\nfunction TablePaginationActions(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const { count, page, rowsPerPage, onChangePage } = props;\r\n\r\n  const handleFirstPageButtonClick = (event) => {\r\n    onChangePage(event, 0);\r\n  };\r\n\r\n  const handleBackButtonClick = (event) => {\r\n    onChangePage(event, page - 1);\r\n  };\r\n\r\n  const handleNextButtonClick = (event) => {\r\n    onChangePage(event, page + 1);\r\n  };\r\n\r\n  const handleLastPageButtonClick = (event) => {\r\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <IconButton\r\n        onClick={handleFirstPageButtonClick}\r\n        disabled={page === 0}\r\n        aria-label=\"first page\"\r\n      >\r\n        {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\r\n      </IconButton>\r\n      <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\r\n        {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleNextButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"next page\"\r\n      >\r\n        {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleLastPageButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"last page\"\r\n      >\r\n        {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\r\n      </IconButton>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst ContentsData = ({match}) => {\r\n    \r\n    const [title, setTitle] = useState('')\r\n     const [mTitle, setMTitle] = useState('')\r\n        const [content, setContent] = useState([{}])\r\n    const history = useHistory()\r\n   const classes = useStyles()\r\n\r\n    useEffect (() => {\r\n       db.collection('machineData')\r\n       .doc(match.params.id)\r\n        .onSnapshot(doc => {\r\n         setMTitle(doc.data().title)\r\n        })\r\n\r\n        db.collection('moduleData')\r\n        .where('mid' , '==' , `${match.params.id}`)\r\n        .onSnapshot(doc => {\r\n            const data = firebaseLooper(doc)\r\n            setContent(data)\r\n        })\r\n    }, [])\r\n        \r\n     const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n\r\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, content.length - page * rowsPerPage);\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n\r\n    return (\r\n      <Page title='Modules | LyoIms'>\r\n          <Paper className='bg-gray-100'>\r\n        <ContentDashboardLayout match={match} />\r\n         <div className={classes.wrapper}>\r\n        <div className={classes.container}>\r\n          <Card  className={classes.content}>\r\n            < >\r\n            \r\n        <div >\r\n          <Card >\r\n            <Typography align='left' variant='h4'><b>{mTitle}</b></Typography>\r\n          <div>\r\n              <Typography align='center' variant='h1'><b style={{color: '#43425D', font: 'var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) 28px/40px var(--unnamed-font-family-roboto)'}}>Modules</b></Typography>\r\n               <Typography align='center' variant='body2' style={{color: '#43425D'}} >These are all the required Modules</Typography>\r\n              </div>\r\n              <br/>\r\n                <div style={{display: 'flex', justifyContent: 'flex-end'}}>\r\n             <div className=\"relative\"> \r\n                 <input style={{ border: '2px solid whitesmoke'}} onChange={(e) => setTitle(e.target.value)} type=\"text\" className=\"h-14 w-96 pr-8 pl-5 rounded z-0 focus:shadow focus:outline-none\" placeholder=\"Search Modules...\"/>\r\n                  <div className=\"absolute top-4 right-3\"> <i className=\"fa fa-search text-gray-400 z-20 hover:text-gray-500\"></i> </div>\r\n              </div>\r\n              <Button style={{width: '15%',marginLeft: '4%', marginRight: '3%', backgroundColor: 'orange', color: 'white'}} href={`/machine-data/${match.params.id}/Add-module`}>ADD New </Button>\r\n              </div>\r\n              \r\n              <br />\r\n              <Grid  className='bg-gray-100' container spacing={3}>\r\n                {(\r\n             content\r\n          ).\r\n          filter((data) => {\r\n              if(title === \"\"){\r\n              return data\r\n          } else if (data.title.toLowerCase().includes(title.toLocaleLowerCase())){\r\n                  return data\r\n                  }\r\n          })\r\n          .map((data) => (\r\n            <ContentDataBox key={data.id} data={data} match={match} />\r\n          ))}\r\n              </Grid>\r\n              \r\n          </Card>\r\n        </div>\r\n      </>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n       \r\n      </Paper>\r\n      </Page>\r\n     \r\n     \r\n    )\r\n}\r\n\r\nexport default ContentsData\r\n"]},"metadata":{},"sourceType":"module"}