{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{useEffect,useState}from\"react\";import{db}from\"../../firebase\";import{firebaseLooper}from\"../../utils/tools\";import DQConfigView from\"./components/DQConfigView\";import{DialogContent,Fab,FormHelperText,makeStyles,Paper,Select,Table,TableBody,TableCell,TableContainer,TableHead,TableRow}from\"@material-ui/core\";import{Button,Dialog,Typography,TextField,DialogActions,Card}from\"@material-ui/core\";import DQLayout from\"../../components/DQNewSidebar/DQLayout\";import{NavLink}from\"react-router-dom\";import DQBrands from\"../brands/DQBrands\";import KeyboardArrowRightIcon from'@material-ui/icons/KeyboardArrowRight';import KeyboardArrowLeftIcon from'@material-ui/icons/KeyboardArrowLeft';import{Alert}from\"@material-ui/lab\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{layoutRoot:{backgroundColor:'whitesmoke',display:'flex',height:'100%',overflow:'hidden',width:'100%'},fab:{position:'fixed',bottom:theme.spacing(2),right:theme.spacing(2)},avatar:{margin:theme.spacing(1),backgroundColor:'#141256'},wrapper:_defineProperty({display:'flex',flex:'1 1 auto',overflow:'hidden',paddingTop:64},theme.breakpoints.up('lg'),{paddingLeft:250}),container:{display:'flex',flex:'1 1 auto',overflow:'hidden'},content:{padding:'20px',flex:'1 1 auto',height:'100%',overflow:'auto'}};});export default function DQConfigD(_ref){var match=_ref.match;var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),config=_useState2[0],setConfig=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),desc=_useState8[0],setDesc=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),openAdd=_useState10[0],setOpenAdd=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),type=_useState12[0],setType=_useState12[1];useEffect(function(){db.collection('DQNew').doc(match.params.id).collection('content').doc('config').collection('module').onSnapshot(function(snap){var data=firebaseLooper(snap);data.sort(function(a,b){return a.index-b.index;});setConfig(data);});},[]);function handleOpenAdd(){setOpenAdd(true);}function handleCloseAdd(){setOpenAdd(false);}function handleSubmit(e){e.preventDefault();if((title===null||title===void 0?void 0:title.trim().length)===0||(desc===null||desc===void 0?void 0:desc.trim().length)===0){return setError(\"Empty strings are not accepted as valid input ! Try again with a valid input\");}var index=config.length;db.collection('DQNew').doc(match.params.id).collection('content').doc('config').collection('module').add({title:title,desc:desc,index:index,type:type}).then(function(){setTitle('');setDesc(\"\");setError(\"\");setOpenAdd(false);});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(DQLayout,{match:match}),/*#__PURE__*/_jsx(\"div\",{className:classes.wrapper,children:/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:/*#__PURE__*/_jsxs(Card,{className:classes.content,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h1\",align:\"center\",gutterBottom:true,children:/*#__PURE__*/_jsx(\"b\",{children:\"Equipment Configuration\"})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',marginBottom:'3%',paddingRight:'3%',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(Button,{style:{color:'white',background:'black',marginRight:'4%'},onClick:handleOpenAdd,children:\"Add Module\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{component:Paper,children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},children:/*#__PURE__*/_jsx(\"b\",{className:\"text-lg font-bold italic\",children:\"Title\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-lg font-bold italic\",children:\"Description\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"right\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-lg font-bold italic\",children:\"Actions\"})})]})}),config&&config.map(function(data){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(DQConfigView,{type:data.type,match:match,module:data},data.id)});})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.fab,children:[/*#__PURE__*/_jsx(Fab,{component:NavLink,to:\"/DQ/\".concat(match.params.id,\"/Specifications\"),style:{marginRight:'20px'},color:\"primary\",\"aria-label\":\"add\",children:/*#__PURE__*/_jsx(KeyboardArrowLeftIcon,{})}),/*#__PURE__*/_jsx(Fab,{component:NavLink,to:\"/DQ/\".concat(match.params.id,\"/Design-Specs\"),color:\"primary\",\"aria-label\":\"add\",children:/*#__PURE__*/_jsx(KeyboardArrowRightIcon,{})})]}),/*#__PURE__*/_jsx(Dialog,{open:openAdd,fullWidth:true,onClose:handleCloseAdd,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",gutterBottom:true,style:{marginTop:'15px'},children:/*#__PURE__*/_jsx(\"b\",{children:\"Add New Modules\"})}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(TextField,{error:title.length>30,required:true,label:\"Title\",variant:\"outlined\",fullWidth:true,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsxs(FormHelperText,{style:{marginBottom:'5%'},children:[\"Title should be \",title.length,\"/30\"]}),/*#__PURE__*/_jsx(TextField,{error:desc.length>100,required:true,rows:5,multiline:true,label:\"Description\",variant:\"outlined\",fullWidth:true,onChange:function onChange(e){return setDesc(e.target.value);}}),/*#__PURE__*/_jsxs(FormHelperText,{style:{marginBottom:'5%'},children:[\"Description should be max \",desc.length,\"/100\"]}),/*#__PURE__*/_jsxs(Select,{required:true,onChange:function onChange(e){return setType(e.target.value);},value:type,variant:\"outlined\",fullWidth:true,children:[/*#__PURE__*/_jsx(\"option\",{selected:true,value:0,children:\"2 Row (Type 0)\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"SERVICES REQUIRED FROM CUSTOMER END\"})]}),/*#__PURE__*/_jsx(FormHelperText,{className:\"italic\",children:\"Select Type Before Adding Module\"})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseAdd,variant:\"contained\",color:\"secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",style:{background:'orange',color:'white'},children:\"Add New\"})]})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"br\",{})]})]})})})]});}","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/DQConfig/DQConfig.jsx"],"names":["useEffect","useState","db","firebaseLooper","DQConfigView","DialogContent","Fab","FormHelperText","makeStyles","Paper","Select","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Button","Dialog","Typography","TextField","DialogActions","Card","DQLayout","NavLink","DQBrands","KeyboardArrowRightIcon","KeyboardArrowLeftIcon","Alert","useStyles","theme","layoutRoot","backgroundColor","display","height","overflow","width","fab","position","bottom","spacing","right","avatar","margin","wrapper","flex","paddingTop","breakpoints","up","paddingLeft","container","content","padding","DQConfigD","match","classes","config","setConfig","title","setTitle","error","setError","desc","setDesc","openAdd","setOpenAdd","type","setType","collection","doc","params","id","onSnapshot","snap","data","sort","a","b","index","handleOpenAdd","handleCloseAdd","handleSubmit","e","preventDefault","trim","length","add","then","marginBottom","paddingRight","justifyContent","color","background","marginRight","font","map","marginTop","target","value"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\"\nimport { db } from \"../../firebase\"\nimport { firebaseLooper } from \"../../utils/tools\"\nimport DQConfigView from \"./components/DQConfigView\"\nimport { DialogContent, Fab, FormHelperText, makeStyles,  Paper, Select, Table, TableBody, TableCell, TableContainer, TableHead, TableRow  } from \"@material-ui/core\";\nimport { Button, Dialog, Typography, TextField, DialogActions, Card } from \"@material-ui/core\"\nimport DQLayout from \"../../components/DQNewSidebar/DQLayout\";\nimport { NavLink } from \"react-router-dom\";\nimport DQBrands from \"../brands/DQBrands\";\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\nimport { Alert } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme) => ({\n  layoutRoot: {\n   backgroundColor: 'whitesmoke',\n    display: 'flex',\n    height: '100%',\n    overflow: 'hidden',\n    width: '100%',\n\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: '#141256',\n  },\n wrapper: {\n  display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden',\n  paddingTop: 64,\n  [theme.breakpoints.up('lg')]: {\n    paddingLeft: 250\n  },\n  \n  },\n  container: {\n      display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden'\n  },\n  content: {\n   padding: '20px',\n      flex: '1 1 auto',\n  height: '100%',\n  overflow: 'auto'\n    },\n}));\n\nexport default function DQConfigD({match}) {\n\tconst classes = useStyles()\n    const [config, setConfig] = useState([])\n    const [title, setTitle] = useState('')\n    const [error, setError] = useState('')\n    const [desc, setDesc] = useState('')\n    const [openAdd, setOpenAdd] = useState(false)\n    const [type, setType] = useState(0)\n    useEffect(() => {\n        db.collection('DQNew').doc(match.params.id).collection('content').doc('config')\n        .collection('module').onSnapshot(snap => {\n            const data = firebaseLooper(snap)\n            data.sort(function(a,b){\n              return(a.index-b.index)\n            })\n            setConfig(data)\n        })\n    },[])\n    function handleOpenAdd(){\n\t\tsetOpenAdd(true)\n\t}\n\tfunction handleCloseAdd(){\n\t\tsetOpenAdd(false)\n\t}\n    function handleSubmit(e){\n      e.preventDefault()\n      if(title?.trim().length === 0 || desc?.trim().length === 0){\n        return setError(\"Empty strings are not accepted as valid input ! Try again with a valid input\")\n      }\n        const  index = config.length\n\t\tdb.collection('DQNew')\n\t\t.doc(match.params.id)\n\t\t.collection('content')\n\t\t.doc('config')\n\t\t.collection('module')\n\t\t.add({title, desc, index,type})\n    .then(() => {setTitle('')\n    setDesc(\"\")\n    setError(\"\")\n    setOpenAdd(false)\n    }\n    )\n    }\n\treturn (\n\t\t<>\n\t\t\n\t\t\t\n\t\t\t<DQLayout match={match}/>\n\t\t <div className={classes.wrapper}>\n        <div className={classes.container}>\n          <Card className={classes.content}>\n            <Typography variant='h1' align='center' gutterBottom ><b>Equipment Configuration</b></Typography>\n            <hr />\n          <div style={{display: 'flex', marginBottom: '3%', paddingRight: '3%', justifyContent: 'flex-end'}}>\n\t\t\t\t{/* <Button component={NavLink} to={`/DQ/${match.params.id}/General-Information`} style={{background: 'blue', color: 'white', marginLeft: '25px',  marginRight: '4%'}}>\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-arrow-90deg-left\" viewBox=\"0 0 16 16\">\n  <path fill-rule=\"evenodd\" d=\"M1.146 4.854a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H12.5A2.5 2.5 0 0 1 15 6.5v8a.5.5 0 0 1-1 0v-8A1.5 1.5 0 0 0 12.5 5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4z\"/>\n</svg>\n\t\t\t\t\t</Button> */}\n\t\t\t\t<Button style={{color: 'white', background: 'black', marginRight: '4%'}} onClick={handleOpenAdd}>Add Module</Button>\n\t\t\n\t\t\t\t{/* <Button component={NavLink} to={`/DQ/${match.params.id}/Specifications`} style={{background: 'blue', color: 'white'}}>\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-arrow-90deg-right\" viewBox=\"0 0 16 16\">\n  <path fill-rule=\"evenodd\" d=\"M14.854 4.854a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 4H3.5A2.5 2.5 0 0 0 1 6.5v8a.5.5 0 0 0 1 0v-8A1.5 1.5 0 0 1 3.5 5h9.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4z\"/>\n</svg>\n\t\t\t\t</Button> */}\n\t\t\t\t\n\t\t\t\t<br />\n\t\t\t</div>\n          <div>\n            <div component={Paper}>\n\t\t<Table aria-label=\"simple table\">\n\t\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}}><b className='text-lg font-bold italic'>Title</b></TableCell>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"left\"><b className='text-lg font-bold italic'>Description</b></TableCell>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\"><b className='text-lg font-bold italic'>Actions</b></TableCell>\n\t\t\t</TableRow>\n\t\t\t</TableHead>\n            {\n                config&&\n                config.map(data => (\n                    <>\n                     \n                            \n\t\t\t\t\t<DQConfigView type={data.type} match={match} key={data.id} module={data}/>\n \n                   </> \n                ))\n            }\n             \n            \t</Table>\n\t\t</div>\n    <div className={classes.fab}>\n\t\t\t\t<Fab component={NavLink} to={`/DQ/${match.params.id}/Specifications`} style={{marginRight: '20px'}}  color=\"primary\" aria-label=\"add\">\n  <KeyboardArrowLeftIcon/>\n</Fab>\n\n\t\t\t<Fab component={NavLink} to={`/DQ/${match.params.id}/Design-Specs`}  color=\"primary\" aria-label=\"add\">\n  <KeyboardArrowRightIcon/>\n</Fab>\n\t\t\t</div>\n        <Dialog open={openAdd} fullWidth onClose={handleCloseAdd}>\n<form onSubmit={handleSubmit}>\n  <Typography variant='h4' align='center'  gutterBottom style={{marginTop: '15px'}}><b>Add New Modules</b></Typography>\n  {error && <Alert severity=\"error\" >{error}</Alert>}\n<DialogContent>\n<TextField error={title.length > 30} required  label='Title'  variant='outlined' fullWidth onChange={(e) => setTitle(e.target.value)}/>\n<FormHelperText style={{marginBottom: '5%'}}>Title should be {title.length}/30</FormHelperText>\n<TextField error={desc.length>100} required  rows={5} multiline label='Description' variant='outlined' fullWidth onChange={(e) => setDesc(e.target.value)}/>  \n<FormHelperText style={{marginBottom: '5%'}}>Description should be max {desc.length}/100</FormHelperText>\n<Select required onChange={(e) => setType(e.target.value)} value={type} variant='outlined' fullWidth>\n  <option selected value={0}>2 Row (Type 0)</option>\n  <option value={1}>SERVICES REQUIRED FROM CUSTOMER END</option>\n</Select>\n<FormHelperText className='italic'>Select Type Before Adding Module</FormHelperText>\n</DialogContent>\n<DialogActions>\n<Button onClick={handleCloseAdd} variant='contained' color='secondary'>Cancel</Button>\n<Button type=\"submit\" style={{background:'orange', color:'white'}} >Add New</Button>\n</DialogActions>\n</form>\n\n\n</Dialog>\n\t\t<br />\n    <div>\n\n    </div>\n    <br />\n    <div>\n\n    </div>\n    <br />\n        </div>\n\n          </Card>\n        </div>\n      </div>\n     </>\n    \n\t)\n\t\n        }\n"]},"metadata":{},"sourceType":"module"}