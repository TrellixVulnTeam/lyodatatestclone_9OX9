{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Card,CardContent,Container,FormHelperText,makeStyles,TextField,Typography}from'@material-ui/core';import Alert from'@material-ui/lab/Alert';import React,{useEffect,useState}from'react';import{useHistory}from'react-router-dom';import{db}from'../../firebase';import{firebaseLooper}from'../../utils/tools';import{useAuth}from'../context/AuthContext';import faker from'faker';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center',borderRadius:\"20px\"},avatar:{margin:theme.spacing(1),backgroundColor:'#141256'},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1),alignItems:\"center\"},submit:{backgroundImage:'linear-gradient(to left bottom, #fa630f, #fc8218, #fd9d29, #feb63f, #ffce59)',align:\"center\",color:\"white\",width:\"100%\",borderRadius:'20px',margin:theme.spacing(3,0,2)}};});var AddMachines=function AddMachines(){var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setMachineName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),location=_useState4[0],setMachineLocation=_useState4[1];var _useState5=useState(currentUser.email),_useState6=_slicedToArray(_useState5,2),createdBy=_useState6[0],setCreatedBy=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),desc=_useState8[0],setDesc=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),error=_useState12[0],setError=_useState12[1];var notification=\"\".concat(currentUser.email,\" has created a new Machine!\");var link='machine-data';var history=useHistory();var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),notifyData=_useState14[0],setNotifyData=_useState14[1];var handleSubmit=function handleSubmit(e){e.preventDefault();var result={title:title,location:location,createdBy:createdBy,desc:desc};if((title===null||title===void 0?void 0:title.trim().length)===0||(desc===null||desc===void 0?void 0:desc.trim().length)===0||(location===null||location===void 0?void 0:location.trim().length)===0){return setError(\"Empty Spaces can't be added as input! Please try again with a valid input\");}db.collection('machineData').add(result).then(function(data){history.push('/machine-data');console.log(data);setLoading(true);setError(\"\");});};var classes=useStyles();return/*#__PURE__*/_jsx(Container,{component:\"main\",style:{marginBottom:\"100px\"},children:/*#__PURE__*/_jsxs(Container,{className:classes.paper,children:[/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"You are currently adding a new Machine\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h1\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Add Machine\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:classes.form,children:[error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(TextField,{value:title,variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,error:title.length>30,id:\"machine_name\",label:\"Machine Name\",name:\"machine_name\",autoFocus:true,onChange:function onChange(e){return setMachineName(e.target.value);}}),/*#__PURE__*/_jsx(FormHelperText,{children:\"Title should be max 30 Char\"}),/*#__PURE__*/_jsx(TextField,{value:location,variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,error:location.length>30,name:\"location\",label:\"Location\",onChange:function onChange(e){return setMachineLocation(e.target.value);},id:\"machine_location\"}),/*#__PURE__*/_jsx(FormHelperText,{style:{marginBottom:\"20px\"},children:\"Location should be max 30 char long\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,value:createdBy,variant:\"outlined\",id:\"user\",label:\"Created By\",type:\"text\",disabled:true,onChange:function onChange(e){return setCreatedBy(e.target.value);},style:{marginBottom:'20px'}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,value:desc,required:true,variant:\"outlined\",id:\"desc\",label:\"Description\",type:\"text\",multiline:true,rows:7,onChange:function onChange(e){return setDesc(e.target.value);}}),/*#__PURE__*/_jsxs(FormHelperText,{children:[\"Description should be min \",desc.length,\"/150\"]}),!loading&&/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",className:classes.submit,disabled:title.length>30||location.length>30,children:\"Add  Machine\"}),loading&&/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",disabled:true,className:classes.submit,children:\"Adding Machine...\"})]})})]})]})});};export default AddMachines;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/components/Machines/AddMachines.jsx"],"names":["Button","Card","CardContent","Container","FormHelperText","makeStyles","TextField","Typography","Alert","React","useEffect","useState","useHistory","db","firebaseLooper","useAuth","faker","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","borderRadius","avatar","margin","backgroundColor","form","width","submit","backgroundImage","align","color","AddMachines","currentUser","title","setMachineName","location","setMachineLocation","email","createdBy","setCreatedBy","desc","setDesc","loading","setLoading","error","setError","notification","link","history","notifyData","setNotifyData","handleSubmit","e","preventDefault","result","trim","length","collection","add","then","data","push","console","log","classes","marginBottom","target","value"],"mappings":"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","sourcesContent":["import { Button, Card, CardContent, Container, FormHelperText, makeStyles, TextField, Typography } from '@material-ui/core'\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport React, { useEffect, useState } from 'react';\r\nimport {useHistory} from 'react-router-dom'\r\nimport {db} from '../../firebase'\r\nimport {firebaseLooper} from '../../utils/tools'\r\nimport { useAuth } from '../context/AuthContext';\r\nimport faker from 'faker'\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    borderRadius: \"20px\"\r\n  \r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: '#141256',\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n    alignItems: \"center\"\r\n  },\r\n  submit: {\r\n      backgroundImage: 'linear-gradient(to left bottom, #fa630f, #fc8218, #fd9d29, #feb63f, #ffce59)',\r\n      align: \"center\",\r\n      color: \"white\",\r\n      width: \"100%\",\r\n      borderRadius: '20px',\r\n      margin: theme.spacing(3, 0, 2),\r\n  }\r\n}));\r\n\r\nconst AddMachines = () => {\r\n  const { currentUser } = useAuth()\r\n  const [title, setMachineName] = useState('')\r\n  const [location, setMachineLocation] = useState('');\r\n  const [createdBy, setCreatedBy] = useState(currentUser.email);\r\n   const [desc, setDesc] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('')\r\n  const notification = `${currentUser.email} has created a new Machine!`\r\n  const link = 'machine-data'\r\n  const history = useHistory();\r\n  const [notifyData, setNotifyData] = useState([])\r\n \r\n    const handleSubmit = (e) => {\r\n      \r\n    e.preventDefault();\r\n    var result = {title,location,createdBy,desc }\r\n    if(title?.trim().length===0 || desc?.trim().length===0 || location?.trim().length===0){\r\n      return setError(\"Empty Spaces can't be added as input! Please try again with a valid input\")\r\n    }\r\n   \r\n      db.collection('machineData').add(result).then(data => {\r\n          history.push('/machine-data')\r\n          console.log(data)\r\n          setLoading(true)\r\n          setError(\"\")\r\n        })\r\n   \r\n    \r\n       \r\n       \r\n    }\r\n\r\n\r\n\r\n  const classes= useStyles();\r\n    return (\r\n        <Container  component=\"main\" style={{ marginBottom: \"100px\"}}>\r\n          <Container className={classes.paper}>\r\n            <Alert severity=\"info\">You are currently adding a new Machine</Alert>\r\n            <br/>\r\n            <Typography component=\"h1\" variant=\"h1\">\r\n         <b>Add Machine</b> \r\n        </Typography>\r\n        <form onSubmit={handleSubmit} className={classes.form} >\r\n          {error && <Alert severity='error'>{error}</Alert>}\r\n          <Card >\r\n            <CardContent>\r\n\r\n              <TextField\r\n          value={title}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            error={title.length > 30}\r\n            \r\n            id=\"machine_name\"\r\n            label=\"Machine Name\"\r\n            name=\"machine_name\"\r\n            autoFocus\r\n            onChange={(e) => setMachineName(e.target.value)}\r\n          />\r\n          <FormHelperText>Title should be max 30 Char</FormHelperText>\r\n          <TextField\r\n          value={location}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            error={location.length > 30}\r\n            name=\"location\"\r\n            label=\"Location\"\r\n            onChange={(e) => setMachineLocation(e.target.value)}\r\n            id=\"machine_location\"\r\n            \r\n          />\r\n          <FormHelperText style={{marginBottom:\"20px\"}}>Location should be max 30 char long</FormHelperText>\r\n          \r\n           <TextField\r\n           fullWidth\r\n           value={createdBy}\r\n           variant=\"outlined\"\r\n            id=\"user\"\r\n            label=\"Created By\"\r\n            type=\"text\"\r\n            disabled\r\n            onChange ={(e) => setCreatedBy(e.target.value)}\r\n           style={{marginBottom: '20px'}}\r\n          />\r\n         \r\n           <TextField\r\n           fullWidth\r\n           value={desc}\r\n           required\r\n           variant=\"outlined\"\r\n            id=\"desc\"\r\n            label=\"Description\"\r\n            type=\"text\"\r\n            multiline\r\n            rows={7}\r\n            onChange ={(e) => setDesc(e.target.value)}\r\n           \r\n          />\r\n          <FormHelperText>Description should be min {desc.length}/150</FormHelperText>\r\n         {!loading && <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            className={classes.submit}\r\n            disabled={title.length > 30 ||  location.length > 30}\r\n          >\r\n            Add  Machine\r\n            </Button>}\r\n         {\r\n           loading && <Button\r\n            type=\"submit\"\r\n            \r\n            variant=\"contained\"\r\n            \r\n            disabled\r\n            className={classes.submit}\r\n          >Adding Machine...</Button>\r\n         }   \r\n\r\n            </CardContent>\r\n          </Card>\r\n          \r\n          </form>\r\n          </Container>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default AddMachines\r\n"]},"metadata":{},"sourceType":"module"}