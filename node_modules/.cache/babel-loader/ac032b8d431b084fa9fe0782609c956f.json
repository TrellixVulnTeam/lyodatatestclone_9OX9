{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{Button,Card,makeStyles,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Typography}from\"@material-ui/core\";import{useEffect,useState}from\"react\";import{db}from\"../../firebase\";import{firebaseLooper}from\"../../utils/tools\";import ArrowForwardIcon from'@material-ui/icons/ArrowForward';import SearchIcon from'@material-ui/icons/Search';import ContentDashboardLayout from\"../../components/ContentSidebar/ContentDashboardLayout\";import moment from\"moment\";import{NavLink}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{layoutRoot:{backgroundColor:'whitesmoke',display:'flex',height:'100%',overflow:'hidden',width:'100%'},avatar:{margin:theme.spacing(1),backgroundColor:'#141256'},wrapper:_defineProperty({display:'flex',flex:'1 1 auto',overflow:'hidden',paddingTop:64},theme.breakpoints.up('lg'),{paddingLeft:250}),container:{display:'flex',flex:'1 1 auto',overflow:'hidden'},content:{padding:'20px',flex:'1 1 auto',height:'100%',overflow:'auto'}};});function DQRnew(_ref){var match=_ref.match;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),reports=_useState2[0],setReports=_useState2[1];var classes=useStyles();var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];useEffect(function(){db.collection('DQNewReport').where('mid','==',\"\".concat(match.params.id)).onSnapshot(function(snapshot){var data=firebaseLooper(snapshot);data.sort(function(a,b){return b.timestamp-a.timestamp;});setReports(data);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ContentDashboardLayout,{match:match}),/*#__PURE__*/_jsx(\"div\",{className:classes.wrapper,children:/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:/*#__PURE__*/_jsxs(Card,{className:classes.content,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',paddingRight:'2.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{paddingLeft:'2.5rem'},children:[/*#__PURE__*/_jsx(Typography,{style:{color:'black'},variant:\"h1\",align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{children:\"DQ Reports\"})}),/*#__PURE__*/_jsx(Typography,{align:\"left\",variant:\"body2\",children:\" These are all the required DQ Reports and data \"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{style:{border:'2px solid whitesmoke'},onChange:function onChange(e){return setSearchTerm(e.target.value);},type:\"text\",className:\"h-14 w-96 pr-8 pl-5 rounded z-0 focus:shadow focus:outline-none\",placeholder:\"Search DQ Reports...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-4 right-3\",children:[/*#__PURE__*/_jsx(SearchIcon,{style:{opacity:'0.5'}}),\"  \"]})]}),/*#__PURE__*/_jsx(\"hr\",{})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{paddingLeft:'2.5rem',paddingRight:'2.5rem'},children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"right\",children:\"Description\"}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"right\",children:\"Date\"}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"right\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:reports.filter(function(data){if(searchTerm===\"\"){return data;}else if(data.name.toLowerCase().includes(searchTerm.toLocaleLowerCase())){return data;}}).map(function(row){var _row$timestamp;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{background:'#E8F6EF'},component:\"th\",scope:\"row\",children:row.name}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.desc}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:(_row$timestamp=row.timestamp)===null||_row$timestamp===void 0?void 0:_row$timestamp.toDate().toString().substring(0,15)}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Button,{className:\"animate-bounce\",component:NavLink,to:\"/DQR/\".concat(row.id,\"/Approval\"),children:/*#__PURE__*/_jsx(ArrowForwardIcon,{})})})]},row.id);})})]})})})]})})})]});}export default DQRnew;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/DQNewReports/DQRnew.jsx"],"names":["Button","Card","makeStyles","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Typography","useEffect","useState","db","firebaseLooper","ArrowForwardIcon","SearchIcon","ContentDashboardLayout","moment","NavLink","useStyles","theme","layoutRoot","backgroundColor","display","height","overflow","width","avatar","margin","spacing","wrapper","flex","paddingTop","breakpoints","up","paddingLeft","container","content","padding","DQRnew","match","reports","setReports","classes","searchTerm","setSearchTerm","collection","where","params","id","onSnapshot","snapshot","data","sort","a","b","timestamp","justifyContent","paddingRight","color","border","e","target","value","opacity","background","font","filter","name","toLowerCase","includes","toLocaleLowerCase","map","row","desc","toDate","toString","substring"],"mappings":"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","sourcesContent":["import { Button, Card, makeStyles, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow , Typography} from \"@material-ui/core\"\nimport { useEffect, useState } from \"react\"\nimport { db } from \"../../firebase\"\nimport { firebaseLooper } from \"../../utils/tools\"\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport SearchIcon from '@material-ui/icons/Search'\nimport ContentDashboardLayout from \"../../components/ContentSidebar/ContentDashboardLayout\";\nimport moment from \"moment\";\nimport { NavLink } from \"react-router-dom\";\nconst useStyles = makeStyles((theme) => ({\n  layoutRoot: {\n   backgroundColor: 'whitesmoke',\n    display: 'flex',\n    height: '100%',\n    overflow: 'hidden',\n    width: '100%',\n\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: '#141256',\n  },\n wrapper: {\n  display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden',\n  paddingTop: 64,\n  [theme.breakpoints.up('lg')]: {\n    paddingLeft: 250\n  },\n  \n  },\n  container: {\n      display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden'\n  },\n  content: {\n   padding: '20px',\n      flex: '1 1 auto',\n  height: '100%',\n  overflow: 'auto'\n    },\n}));\n\n\nfunction DQRnew({match}) {\n\tconst [reports, setReports] = useState([])\n\tconst classes = useStyles()\n  const [searchTerm, setSearchTerm] = useState('')\n\tuseEffect(() => {\n\t\tdb.collection('DQNewReport')\n\t\t.where('mid', '==', `${match.params.id}`)\n    \n\t\t.onSnapshot(snapshot => {\n\t\t\tconst data = firebaseLooper(snapshot)\n      data.sort(function(a,b){\n        return(b.timestamp - a.timestamp)\n      })\n\t\t\tsetReports(data)\n\t\t})\n\t}, [])\n\treturn (\n  <>\n\t<ContentDashboardLayout match={match}/>\n\t\t <div className={classes.wrapper}>\n        <div className={classes.container}>\n          <Card className={classes.content}>\n          <div style={{display: 'flex', justifyContent: 'space-between',  paddingRight: '2.5rem'}}>\n              {/* <Typography style={{marginRight: '15px'}} variant='h1' align='center'><b>{mTitle} : </b></Typography> */}\n              <div style={{paddingLeft: '2.5rem'}}\n              >\n                 <Typography style={{color: 'black'}} variant='h1' align='left'><b>DQ Reports</b></Typography>\n                  <Typography align='left' variant='body2' > These are all the required DQ Reports and data </Typography>\n              </div>\n              <div>\n              <div style={{display: 'flex', justifyContent: 'flex-end'}}>\n               \n               <div className=\"relative\"> \n            <input style={{ border: '2px solid whitesmoke'}} onChange={(e) => setSearchTerm(e.target.value)} type=\"text\" className=\"h-14 w-96 pr-8 pl-5 rounded z-0 focus:shadow focus:outline-none\" placeholder=\"Search DQ Reports...\"/>\n             <div className=\"absolute top-4 right-3\"><SearchIcon style={{opacity: '0.5'}}/>  </div>\n         </div>\n               {/* <Button color='primary' variant='contained' style={{width: '150px', marginLeft: '4%', marginRight: '2%',  color: 'white'}} component={NavLink} to={`/machine-data/${match.params.id}/Add-Manuals`}>ADD New </Button> */}\n       \n       <hr/>\n         </div>\n              </div>\n            </div>\n<br />\n<div style={{paddingLeft: '2.5rem', paddingRight: '2.5rem'}}>\n<TableContainer component={Paper}>\n      <Table  aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}}>Name</TableCell>\n            <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\">Description</TableCell>\n            <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\">Date</TableCell>\n            <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\">Actions</TableCell>\n         \n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {reports\n           .filter((data) => {\n            if(searchTerm === \"\"){\n              return data\n          } else if (data.name.toLowerCase().includes(searchTerm.toLocaleLowerCase())){\n                  return data\n                  }\n          })  \n          .map((row) => (\n            <TableRow key={row.id}>\n              <TableCell style={{background: '#E8F6EF'}} component=\"th\" scope=\"row\">\n                {row.name}\n              </TableCell>\n              <TableCell align=\"right\">{row.desc}</TableCell>\n              <TableCell align=\"right\">{row.timestamp?.toDate().toString().substring(0,15)}</TableCell>\n             \n              <TableCell align=\"right\"><Button className='animate-bounce' component={NavLink} to={`/DQR/${row.id}/Approval`}><ArrowForwardIcon/></Button></TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n</div>\n       \n          </Card>\n        </div>\n      </div>\n\t\t</>\n\t)\n}\n\nexport default DQRnew\n"]},"metadata":{},"sourceType":"module"}