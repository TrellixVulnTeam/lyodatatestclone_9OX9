{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{DialogContent,Fab,makeStyles,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow}from\"@material-ui/core\";import{Button,Dialog,Typography,TextField,DialogActions,Card}from\"@material-ui/core\";import{Alert}from\"@material-ui/lab\";import{useEffect}from\"react\";import{useState}from\"react\";import DQLayout from\"../../components/DQNewSidebar/DQLayout\";import{db}from\"../../firebase\";import{firebaseLooper}from\"../../utils/tools\";import DQmodules from\"../DQNew/DQmodules\";import DQConfigView from\"./DQCOnfigDetails/DQConfigView\";import DQSpecsView from\"./DQCOnfigDetails/DQSpecsView\";import DQModule from\"./DQModule/DQModule\";import KeyboardArrowRightIcon from'@material-ui/icons/KeyboardArrowRight';import KeyboardArrowLeftIcon from'@material-ui/icons/KeyboardArrowLeft';import{NavLink as RouterLink,matchPath,useLocation,NavLink}from'react-router-dom';import{FormHelperText}from\"@material-ui/core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{layoutRoot:{backgroundColor:'whitesmoke',display:'flex',height:'100%',overflow:'hidden',width:'100%'},fab:{position:'fixed',bottom:theme.spacing(2),right:theme.spacing(2)},avatar:{margin:theme.spacing(1),backgroundColor:'#141256'},wrapper:_defineProperty({display:'flex',flex:'1 1 auto',overflow:'hidden',paddingTop:64},theme.breakpoints.up('lg'),{paddingLeft:250}),container:{display:'flex',flex:'1 1 auto',overflow:'hidden'},content:{padding:'20px',flex:'1 1 auto',height:'100%',overflow:'auto'}};});function DQSpecs(_ref){var match=_ref.match;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),purpose=_useState2[0],setPurpose=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),review=_useState6[0],setReview=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),specs=_useState8[0],setSpecs=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),desc=_useState10[0],setDesc=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),open=_useState12[0],setOpen=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),openEdit=_useState14[0],setOpenEdit=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),openAdd=_useState16[0],setOpenAdd=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),index=_useState18[0],setIndex=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),error=_useState20[0],setError=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),opendelete=_useState22[0],setOpenDelete=_useState22[1];var _useState23=useState(''),_useState24=_slicedToArray(_useState23,2),titleModule=_useState24[0],setTitleModule=_useState24[1];var _useState25=useState(''),_useState26=_slicedToArray(_useState25,2),descModule=_useState26[0],setDescModule=_useState26[1];var classes=useStyles();function handleOpen(){setOpen(true);}function handleClose(){setOpen(false);}function handleOpenEdit(){setOpenEdit(true);}function handleCloseEdit(){setOpenEdit(false);}function handleOpenAdd(){setOpenAdd(true);}function handleCloseAdd(){setOpenAdd(false);}function handleOpenDel(){setOpenDelete(true);}function handleCloseDel(){setOpenDelete(false);}function handleUpdate(id){db.collection('DQNew').doc(match.params.id).collection('content').doc('specifications').update({name:name,desc:desc});}function handleSubmit(e){e.preventDefault();if((desc===null||desc===void 0?void 0:desc.trim().length)===0){return setError(\"Empty spaces are not accepted as a valid input! Please enter a valid input\");}db.collection('DQNew').doc(match.params.id).collection('content').doc('specifications').collection('specDetails').add({desc:desc,index:index}).then(function(){setOpenAdd(false);});}function handleSubmitNew(e){e.preventDefault();db.collection('DQNew').doc(match.params.id).collection('content').doc('specifications').set({name:name,desc:desc});}useEffect(function(){db.collection('DQNew').doc(match.params.id).collection('content').doc('specifications').onSnapshot(function(snapshot){var data=snapshot.data();setPurpose(data);if(data){setName(data.name);setDesc(data.desc);}});db.collection('DQNew').doc(match.params.id).collection('content').doc('specifications').collection('specDetails').onSnapshot(function(snapshot){var data=firebaseLooper(snapshot);data.sort(function(a,b){return a.index-b.index;});setSpecs(data);setIndex(data.length);});},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(DQLayout,{match:match}),/*#__PURE__*/_jsx(\"div\",{className:classes.wrapper,children:/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:/*#__PURE__*/_jsx(Card,{className:classes.content,children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h1\",align:\"center\",gutterBottom:true,children:/*#__PURE__*/_jsx(\"b\",{children:\"Specifications\"})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',paddingRight:'3%',marginBottom:'30px',justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(Button,{style:{color:'white',background:'black',marginRight:'4%'},onClick:handleOpenAdd,children:\"Add Specs\"})}),/*#__PURE__*/_jsxs(Dialog,{style:{alignItems:'center'},fullWidth:true,open:open,onClose:handleClose,children:[/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",gutterBottom:true,children:/*#__PURE__*/_jsx(\"b\",{children:\"Edit Details\"})}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(TextField,{style:{marginBottom:'3%'},value:name,variant:\"outlined\",fullWidth:true,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{multiline:true,rows:7,value:desc,variant:\"outlined\",fullWidth:true,onChange:function onChange(e){return setDesc(e.target.value);}})]})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleUpdate,style:{backgroundColor:'orange',color:'whitesmoke'},children:\"Update\"})]})]}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{className:classes.table,\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-lg font-bold italic\",children:\"Description\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"right\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-lg font-bold italic\",children:\"Actions\"})})]})}),specs.map(function(specs){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(DQSpecsView,{specs:specs,match:match},specs.id)});})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.fab,children:[/*#__PURE__*/_jsx(Fab,{component:NavLink,to:\"/DQ/\".concat(match.params.id,\"/General-Information\"),style:{marginRight:'20px'},color:\"primary\",\"aria-label\":\"add\",children:/*#__PURE__*/_jsx(KeyboardArrowLeftIcon,{})}),/*#__PURE__*/_jsx(Fab,{component:NavLink,to:\"/DQ/\".concat(match.params.id,\"/Equipment-Config\"),color:\"primary\",\"aria-label\":\"add\",children:/*#__PURE__*/_jsx(KeyboardArrowRightIcon,{})})]})]})]})})})})})]}),/*#__PURE__*/_jsx(Dialog,{open:openAdd,fullWidth:true,onClose:handleCloseAdd,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",gutterBottom:true,children:/*#__PURE__*/_jsx(\"b\",{children:\"Add New Specifications\"})}),/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"Reviews are generally added from glass\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TextField,{required:true,label:\"Description\",error:desc.length>150,multiline:true,rows:5,variant:\"outlined\",fullWidth:true,onChange:function onChange(e){return setDesc(e.target.value);}}),/*#__PURE__*/_jsxs(FormHelperText,{style:{marginBottom:'20px'},children:[\"Description should be max \",desc.length,\"/150\"]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error})]})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{disabled:desc.length>150,type:\"submit\",style:{background:'orange',color:'white'},children:\"Add New\"})})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});}export default DQSpecs;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/DQPages/DQSpecs.jsx"],"names":["DialogContent","Fab","makeStyles","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Button","Dialog","Typography","TextField","DialogActions","Card","Alert","useEffect","useState","DQLayout","db","firebaseLooper","DQmodules","DQConfigView","DQSpecsView","DQModule","KeyboardArrowRightIcon","KeyboardArrowLeftIcon","NavLink","RouterLink","matchPath","useLocation","FormHelperText","useStyles","theme","layoutRoot","backgroundColor","display","height","overflow","width","fab","position","bottom","spacing","right","avatar","margin","wrapper","flex","paddingTop","breakpoints","up","paddingLeft","container","content","padding","DQSpecs","match","purpose","setPurpose","name","setName","review","setReview","specs","setSpecs","desc","setDesc","open","setOpen","openEdit","setOpenEdit","openAdd","setOpenAdd","index","setIndex","error","setError","opendelete","setOpenDelete","titleModule","setTitleModule","descModule","setDescModule","classes","handleOpen","handleClose","handleOpenEdit","handleCloseEdit","handleOpenAdd","handleCloseAdd","handleOpenDel","handleCloseDel","handleUpdate","id","collection","doc","params","update","handleSubmit","e","preventDefault","trim","length","add","then","handleSubmitNew","set","onSnapshot","snapshot","data","sort","a","b","paddingRight","marginBottom","justifyContent","color","background","marginRight","alignItems","target","value","table","font","map"],"mappings":"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","sourcesContent":["import { DialogContent, Fab, makeStyles,  Paper,  Table, TableBody, TableCell, TableContainer, TableHead, TableRow  } from \"@material-ui/core\";\nimport { Button, Dialog, Typography, TextField, DialogActions, Card } from \"@material-ui/core\"\nimport { Alert } from \"@material-ui/lab\"\nimport { useEffect } from \"react\"\nimport { useState } from \"react\"\nimport DQLayout from \"../../components/DQNewSidebar/DQLayout\";\nimport { db } from \"../../firebase\"\nimport { firebaseLooper } from \"../../utils/tools\";\nimport DQmodules from \"../DQNew/DQmodules\";\nimport DQConfigView from \"./DQCOnfigDetails/DQConfigView\";\nimport DQSpecsView from \"./DQCOnfigDetails/DQSpecsView\";\nimport DQModule from \"./DQModule/DQModule\";\n\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\nimport {\n  NavLink as RouterLink,\n  matchPath,\n  useLocation,\n  NavLink\n} from 'react-router-dom';\nimport { FormHelperText } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  layoutRoot: {\n   backgroundColor: 'whitesmoke',\n    display: 'flex',\n    height: '100%',\n    overflow: 'hidden',\n    width: '100%',\n\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: '#141256',\n  },\n wrapper: {\n  display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden',\n  paddingTop: 64,\n  [theme.breakpoints.up('lg')]: {\n    paddingLeft: 250\n  },\n  \n  },\n  container: {\n      display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden'\n  },\n  content: {\n   padding: '20px',\n      flex: '1 1 auto',\n  height: '100%',\n  overflow: 'auto'\n    },\n}));\n\nfunction DQSpecs({match}) {\n\tconst [purpose, setPurpose] = useState({})\n\tconst [name, setName] = useState('')\n\tconst [review, setReview] = useState('')\n\tconst [specs,setSpecs] = useState([])\n\tconst [ desc, setDesc] = useState('')\n\tconst [open, setOpen] = useState(false)\n\tconst [openEdit, setOpenEdit] = useState(false)\n\tconst [openAdd, setOpenAdd] = useState(false)\n\tconst [index, setIndex] = useState(0)\n\tconst [error, setError] = useState('')\n\t\tconst [opendelete, setOpenDelete] = useState(false)\n\tconst [titleModule, setTitleModule] = useState('')\n\tconst [ descModule, setDescModule] = useState('')\n\tconst classes = useStyles()\n\n\tfunction handleOpen(){\n\t\tsetOpen(true)\n\t}\n\tfunction handleClose(){\n\t\tsetOpen(false)\n\t}\n\tfunction handleOpenEdit(){\n\t\tsetOpenEdit(true)\n\t}\n\tfunction handleCloseEdit(){\n\t\tsetOpenEdit(false)\n\t}\n\tfunction handleOpenAdd(){\n\t\tsetOpenAdd(true)\n\t}\n\tfunction handleCloseAdd(){\n\t\tsetOpenAdd(false)\n\t}\n\tfunction handleOpenDel(){\n\t\tsetOpenDelete(true)\n\t}\n\tfunction handleCloseDel(){\n\t\tsetOpenDelete(false)\n\t}\n\n\tfunction handleUpdate(id){\n\t\tdb.collection('DQNew')\n\t\t.doc(match.params.id)\n\t\t.collection('content')\n\t\t.doc('specifications')\n\t\t\n\t\t.update({name, desc})\n\t}\n\t\n\n\tfunction handleSubmit(e){\n\t\te.preventDefault()\n\t\tif(desc?.trim().length === 0){\n\t\t\treturn setError(\"Empty spaces are not accepted as a valid input! Please enter a valid input\")\n\t\t}\n\t\tdb.collection('DQNew')\n\t\t.doc(match.params.id)\n\t\t.collection('content')\n\t\t.doc('specifications')\n\t\t.collection('specDetails')\n\t\t.add({ desc,index}).then(() => {setOpenAdd(false)})\n\t}\n\n\tfunction handleSubmitNew(e){\n\t\te.preventDefault()\n\t\tdb.collection('DQNew')\n\t\t.doc(match.params.id)\n\t\t.collection('content')\n\t\t.doc('specifications')\n\t\t.set({name, desc})\n\t}\n\tuseEffect(() => {\n\t\tdb.collection('DQNew')\n\t\t.doc(match.params.id)\n\t\t.collection('content')\n\t\t.doc('specifications')\n\t\t.onSnapshot(snapshot => {\n\t\t\tconst data = snapshot.data()\n\t\t\tsetPurpose(data)\n\t\t\tif(data){\n\t\t\t\tsetName(data.name)\n\t\t\t\tsetDesc(data.desc)\n\t\t\t}\n\t\t\t\n\t\t})\n\t\tdb.collection('DQNew')\n\t\t.doc(match.params.id)\n\t\t.collection('content')\n\t\t.doc('specifications')\n\t\t.collection('specDetails')\n\t\t.onSnapshot(snapshot => {\n\t\t\tconst data = firebaseLooper(snapshot)\n\t\t\tdata.sort(function(a,b){\n\t\t\t\treturn(a.index-b.index)\n\t\t\t})\n\t\t\tsetSpecs(data)\n\t\t\tsetIndex(data.length)\n\t\t\t\n\t\t})\n\t}, [])\n\treturn (\n\t\t<div>\n\t\t\n\t\t\t<>\n\t\t\t<DQLayout match={match}/>\n\t\t <div className={classes.wrapper}>\n        <div className={classes.container}>\n          <Card className={classes.content}>\n           <div >\n\t\t\t\n\t\t\t\t<>\n\t\t\t\t<Typography variant='h1' align='center' gutterBottom><b>Specifications</b></Typography>\n\t\t\t<hr />\n\t\t\t\n\t\t\t<div style={{display: 'flex',  paddingRight: '3%',marginBottom: '30px', justifyContent: 'flex-end'}}>\n\t\t\t\t{/* <Button component={RouterLink} to={`/DQ/${match.params.id}/Equipment-Config`} style={{background: 'blue', color: 'white', marginLeft: '25px',  marginRight: '4%'}}>\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-arrow-90deg-left\" viewBox=\"0 0 16 16\">\n  <path fill-rule=\"evenodd\" d=\"M1.146 4.854a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H12.5A2.5 2.5 0 0 1 15 6.5v8a.5.5 0 0 1-1 0v-8A1.5 1.5 0 0 0 12.5 5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4z\"/>\n</svg>\n\t\t\t\t\t</Button> */}\n\t\t\t\t<Button style={{color: 'white', background: 'black', marginRight: '4%'}} onClick={handleOpenAdd}>Add Specs</Button>\n{/* \t\t\t\t\n\t\t\t\t<Button component={RouterLink} to={`/DQ/${match.params.id}/Design-Specs`} style={{background: 'blue', color: 'white', marginLeft: '25px'}}>\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-arrow-90deg-right\" viewBox=\"0 0 16 16\">\n  <path fill-rule=\"evenodd\" d=\"M14.854 4.854a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 4H3.5A2.5 2.5 0 0 0 1 6.5v8a.5.5 0 0 0 1 0v-8A1.5 1.5 0 0 1 3.5 5h9.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4z\"/>\n</svg>\n\t\t\t\t</Button> */}\n\t\t\t</div>\n\t\t\t<Dialog style={{alignItems: 'center'}} fullWidth open={open} onClose={handleClose}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Typography variant='h4' align='center' gutterBottom><b>Edit Details</b></Typography>\n\t\t\t\t\t<form  >\n\t\t\t\t\t<TextField style={{marginBottom: '3%'}} value={name} variant='outlined' fullWidth onChange={(e) => setName(e.target.value)}/>\n\t\t\t\t<TextField multiline rows={7} value={desc} variant='outlined' fullWidth onChange={(e) => setDesc(e.target.value)}/>\n\t\t\t\t</form>\n\t\t\t\t</DialogContent>\n\t\t\t\t\n\t\t\t\t\n\t\t\t<DialogActions>\n\t\t\t\t<Button onClick={handleClose}>Cancel</Button>\n\t\t\t\t<Button onClick={handleUpdate} style={{backgroundColor: 'orange', color: 'whitesmoke'}}>Update</Button>\n\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t\t{\n\t\t\t\t\t<>\n\t\t\t\t\t<TableContainer component={Paper}>\n\t\t<Table className={classes.table} aria-label=\"simple table\">\n\t\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align='left' ><b className='text-lg font-bold italic'>Description</b></TableCell>\n\t\t\t\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\"><b className='text-lg font-bold italic'>Actions</b></TableCell>\n\t\t\t</TableRow>\n\t\t\t</TableHead>\n\t\t\t\t\t{\n\t\t\t\t\t\tspecs.map(specs => (\n\t\t\t\t\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<DQSpecsView specs={specs} match={match} key={specs.id}/>\t\n\t\t\t\n\t\t\t\t\t</>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t</Table>\n\t\t</TableContainer>\n\t\t<div className={classes.fab}>\n\t\t\t\t<Fab component={NavLink} to={`/DQ/${match.params.id}/General-Information`} style={{marginRight: '20px'}}  color=\"primary\" aria-label=\"add\">\n  <KeyboardArrowLeftIcon/>\n</Fab>\n\n\t\t\t<Fab component={NavLink} to={`/DQ/${match.params.id}/Equipment-Config`}  color=\"primary\" aria-label=\"add\">\n  <KeyboardArrowRightIcon/>\n</Fab>\n\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t\t</>\n\t\t\t\t\t\n\t\t\t\n\t\t\n\t\t\n\t\t</div>\n\t\t\n          </Card>\n        </div>\n      </div>\n      </> \n\t\n\t\t<Dialog open={openAdd} fullWidth onClose={handleCloseAdd}>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t  <Typography variant='h4' align='center' gutterBottom><b>Add New Specifications</b></Typography>\n\t <Alert severity='info'>Reviews are generally added from glass</Alert>\n\t  <DialogContent>\n\t\t   <>\n\t\t<TextField required label='Description'  error={desc.length > 150} multiline rows={5}  variant='outlined' fullWidth onChange={(e) => setDesc(e.target.value)}/>\n\t\t <FormHelperText style={{marginBottom: '20px'}}>Description should be max {desc.length}/150</FormHelperText>\n\t\t {error && <Alert severity='error'>{error}</Alert>}\n\t\t\n\t  </> \n\t  </DialogContent>\n\t  <DialogActions>\n\t\t  <Button disabled={desc.length > 150} type=\"submit\" style={{background: 'orange', color:'white'}} >Add New</Button>\n\t  </DialogActions>\n\n\t\t\t</form>\n        \n\t\n          \n      </Dialog>\n     <br />\n\t <br />\n\t <br />\n\t\t\n\t\n\t</div>\n)}\n\nexport default DQSpecs\n"]},"metadata":{},"sourceType":"module"}