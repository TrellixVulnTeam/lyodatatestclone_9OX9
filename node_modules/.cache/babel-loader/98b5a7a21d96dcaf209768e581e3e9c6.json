{"ast":null,"code":"var _jsxFileName = \"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/DQNewReports/DQRAttachments.jsx\",\n    _s = $RefreshSig$();\n\nimport { Button, Card, Toolbar, makeStyles, Dialog, DialogContent, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography, TextField, Fab } from \"@material-ui/core\";\nimport { useEffect, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport DQRLayout from \"../../components/DQRLayout/DQRLayout\";\nimport { db } from \"../../firebase\";\nimport { firebaseLooper } from \"../../utils/tools\";\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  layoutRoot: {\n    backgroundColor: 'whitesmoke',\n    display: 'flex',\n    height: '100%',\n    overflow: 'hidden',\n    width: '100%'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: '#141256'\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2)\n  },\n  wrapper: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden',\n    paddingTop: 64,\n    [theme.breakpoints.up('lg')]: {\n      paddingLeft: 250\n    }\n  },\n  container: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden'\n  },\n  content: {\n    padding: '20px',\n    flex: '1 1 auto',\n    height: '100%',\n    overflow: 'auto'\n  }\n}));\n\nfunction DQRAttachments({\n  match\n}) {\n  _s();\n\n  const [reports, setReports] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [issuecomment, setIssueComment] = useState('');\n  const classes = useStyles();\n\n  function handleOpen() {\n    setOpen(true);\n  }\n\n  function handleNumChange(e, id) {\n    var dno = e.target.value;\n    db.collection('DQNewReport').doc(match.params.id).collection('content').doc('attachments').collection('details').doc(id).update({\n      dno: dno\n    });\n  }\n\n  function handleClose() {\n    setOpen(false);\n  }\n\n  useEffect(() => {\n    db.collection('DQNewReport').doc(match.params.id).collection('content').doc('attachments').collection('details').onSnapshot(snapshot => {\n      const data = firebaseLooper(snapshot);\n      setReports(data);\n    });\n  }, []);\n\n  function getResponse(res) {\n    if (res === 1) {\n      return /*#__PURE__*/_jsxDEV(\"b\", {\n        style: {\n          background: '#BBE5B3 0% 0% no-repeat padding-box',\n          borderRadius: '100px',\n          border: '2px solid var(--unnamed-color-ffffff)'\n        },\n        children: \"Accepted\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }, this);\n    } else if (res === 2) {\n      return /*#__PURE__*/_jsxDEV(\"b\", {\n        style: {\n          background: '#FF616D 0% 0% no-repeat padding-box',\n          borderRadius: '100px',\n          border: '2px solid var(--unnamed-color-ffffff)'\n        },\n        children: \"Rejected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 5\n      }, this);\n    } else if (res === 3) {\n      return /*#__PURE__*/_jsxDEV(\"b\", {\n        style: {\n          background: '#FFEAC9 0% 0% no-repeat padding-box',\n          borderRadius: '100px',\n          border: '2px solid var(--unnamed-color-ffffff)'\n        },\n        children: \"Issued\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"b\", {\n        style: {\n          background: '#CDF0EA 0% 0% no-repeat padding-box',\n          borderRadius: '100px',\n          border: '2px solid var(--unnamed-color-ffffff)'\n        },\n        children: \"Not Updated\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(DQRLayout, {\n      match: match\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.wrapper,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.container,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: classes.content,\n          children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              paddingRight: '5%',\n              paddingLeft: '5%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n              component: Paper,\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                \"aria-label\": \"simple table\",\n                children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                  children: /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      style: {\n                        background: '#4C4C6D',\n                        color: 'white',\n                        font: 'bold'\n                      },\n                      children: \"Description\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 120,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      style: {\n                        background: '#4C4C6D',\n                        color: 'white',\n                        font: 'bold'\n                      },\n                      align: \"right\",\n                      children: \"Drawing Number\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      style: {\n                        background: '#4C4C6D',\n                        color: 'white',\n                        font: 'bold'\n                      },\n                      align: \"right\",\n                      children: \"Revision\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 122,\n                      columnNumber: 6\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                  children: reports.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      style: {\n                        background: '#E8F6EF'\n                      },\n                      component: \"th\",\n                      scope: \"row\",\n                      children: row.desc\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 15\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"right\",\n                      children: /*#__PURE__*/_jsxDEV(TextField, {\n                        variant: \"outlined\",\n                        defaultValue: row.dno,\n                        onChange: e => handleNumChange(e, row.id),\n                        className: \"text-xl text-blue-gray-500 text-center\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 134,\n                        columnNumber: 15\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 133,\n                      columnNumber: 15\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"right\",\n                      children: row.rev\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 15\n                    }, this)]\n                  }, row.desc, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 13\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 9\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 6\n            }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n              fullWidth: true,\n              onClose: handleClose,\n              open: open,\n              children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleClose,\n                  children: \"Close\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n                className: \"text-xl underline text-bold text-center mb-3\",\n                children: \"Comment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xl text-blue-gray-500 text-center\",\n                children: issuecomment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.fab,\n            children: [/*#__PURE__*/_jsxDEV(Fab, {\n              component: NavLink,\n              to: `/DQR/${match.params.id}/Safety`,\n              style: {\n                marginRight: '20px'\n              },\n              color: \"primary\",\n              \"aria-label\": \"add\",\n              children: /*#__PURE__*/_jsxDEV(KeyboardArrowLeftIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 3\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Fab, {\n              component: NavLink,\n              to: `/DQR/${match.params.id}/Approval`,\n              style: {\n                color: 'white'\n              },\n              color: \"primary\",\n              \"aria-label\": \"add\",\n              children: /*#__PURE__*/_jsxDEV(KeyboardArrowRightIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 3\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 4\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(DQRAttachments, \"eH8AHwmOdMRKZlrHMtzTkU2yiTA=\", false, function () {\n  return [useStyles];\n});\n\n_c = DQRAttachments;\nexport default DQRAttachments;\n\nvar _c;\n\n$RefreshReg$(_c, \"DQRAttachments\");","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/DQNewReports/DQRAttachments.jsx"],"names":["Button","Card","Toolbar","makeStyles","Dialog","DialogContent","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Typography","TextField","Fab","useEffect","useState","NavLink","DQRLayout","db","firebaseLooper","KeyboardArrowRightIcon","KeyboardArrowLeftIcon","useStyles","theme","layoutRoot","backgroundColor","display","height","overflow","width","avatar","margin","spacing","fab","position","bottom","right","wrapper","flex","paddingTop","breakpoints","up","paddingLeft","container","content","padding","DQRAttachments","match","reports","setReports","open","setOpen","issuecomment","setIssueComment","classes","handleOpen","handleNumChange","e","id","dno","target","value","collection","doc","params","update","handleClose","onSnapshot","snapshot","data","getResponse","res","background","borderRadius","border","paddingRight","color","font","map","row","desc","rev","marginRight"],"mappings":"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","sourcesContent":["import { Button, Card,Toolbar, makeStyles,Dialog,DialogContent, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow , Typography, TextField, Fab} from \"@material-ui/core\"\nimport { useEffect, useState } from \"react\"\nimport { NavLink } from \"react-router-dom\"\nimport DQRLayout from \"../../components/DQRLayout/DQRLayout\"\nimport { db } from \"../../firebase\"\nimport { firebaseLooper } from \"../../utils/tools\"\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\n\n\nconst useStyles = makeStyles((theme) => ({\n    layoutRoot: {\n     backgroundColor: 'whitesmoke',\n      display: 'flex',\n      height: '100%',\n      overflow: 'hidden',\n      width: '100%',\n  \n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: '#141256',\n    },\n    fab: {\n      position: 'fixed',\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n   wrapper: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden',\n    paddingTop: 64,\n    [theme.breakpoints.up('lg')]: {\n      paddingLeft: 250\n    },\n    \n    },\n    container: {\n        display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden'\n    },\n    content: {\n     padding: '20px',\n        flex: '1 1 auto',\n    height: '100%',\n    overflow: 'auto'\n      },\n  }));\n\n  \nfunction DQRAttachments({match}) {\n\tconst [reports, setReports] = useState([])\n\tconst [open, setOpen] = useState(false)\n\tconst [issuecomment, setIssueComment] = useState('')\n    const classes = useStyles()\n\n\tfunction handleOpen(){\n\t\tsetOpen(true)\n\t}\nfunction handleNumChange(e,id){\n  var dno = e.target.value\n  db.collection('DQNewReport')\n\t\t.doc(match.params.id)\n\t\t.collection('content')\n\t\t.doc('attachments')\n\t\t.collection('details')\n    .doc(id).update({dno: dno})\n}\n\tfunction handleClose(){\n\t\tsetOpen(false)\n\t}\n\tuseEffect(() => {\n\t\tdb.collection('DQNewReport')\n\t\t.doc(match.params.id)\n\t\t.collection('content')\n\t\t.doc('attachments')\n\t\t.collection('details')\n\t\t.onSnapshot(snapshot => {\n\t\t\tconst data = firebaseLooper(snapshot)\n\t\t\tsetReports(data)\n\t\t})\n\t}, [])\n\n\t\n\tfunction getResponse(res) {\n\t\tif(res === 1){\n\t\t\treturn(\n\n\t\t\t\t<b style={{background: '#BBE5B3 0% 0% no-repeat padding-box', borderRadius: '100px', border: '2px solid var(--unnamed-color-ffffff)'}}>Accepted</b>\n\t\t\t)\n\t\t}else if(res === 2){\n\t\t\treturn(\n\t\t\t\t<b style={{background: '#FF616D 0% 0% no-repeat padding-box', borderRadius: '100px', border: '2px solid var(--unnamed-color-ffffff)'}}>Rejected</b>\n\t\t\t)\n\t\t}else if (res === 3){\n\t\t\treturn(\n\t\t\t\t<b style={{background: '#FFEAC9 0% 0% no-repeat padding-box', borderRadius: '100px', border: '2px solid var(--unnamed-color-ffffff)'}}>Issued</b>\n\t\t\t)\n\t\t}else {\n\t\t\treturn(\n\t\t\t\t<b style={{background: '#CDF0EA 0% 0% no-repeat padding-box', borderRadius: '100px', border: '2px solid var(--unnamed-color-ffffff)'}}>Not Updated</b>\n\t\t\t)\n\t\t}\n\t}\n\treturn (\n\t\t<>\n\t\t<DQRLayout match={match}/>\n        <div className={classes.wrapper}>\n        <div className={classes.container}>\n          <Card className={classes.content}>\n          <hr />\n\t\t<div style={{paddingRight: '5%', paddingLeft: '5%'}}>\n\t\t\n\t\t\t\t <TableContainer component={Paper}>\n      <Table  aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}}>Description</TableCell>\n            <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\">Drawing Number</TableCell>\n\t    <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\">Revision</TableCell>\n         \n          \n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {reports.map((row) => (\n            <TableRow key={row.desc}>\n              <TableCell style={{background: '#E8F6EF'}} component=\"th\" scope=\"row\">\n                {row.desc}\n              </TableCell>\n              <TableCell align=\"right\">\n              <TextField variant='outlined' defaultValue={row.dno} onChange={(e) => handleNumChange(e, row.id)} className='text-xl text-blue-gray-500 text-center'/>\n              </TableCell>\n              <TableCell align=\"right\">{row.rev}</TableCell>\n\t     \n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n    <Dialog fullWidth onClose={handleClose} open={open}>\n      <Toolbar>\n        <Button onClick={handleClose}>Close</Button>\n      </Toolbar>\n              <b className='text-xl underline text-bold text-center mb-3'>Comment</b>\n              <p className='text-xl text-blue-gray-500 text-center'>{issuecomment}</p>\n    </Dialog>\n\t\t</div>\n    <div className={classes.fab}>\n\t\t\t\t<Fab component={NavLink} to={`/DQR/${match.params.id}/Safety`} style={{marginRight: '20px'}}   color=\"primary\" aria-label=\"add\">\n  <KeyboardArrowLeftIcon/>\n</Fab>\n\n\t\t\t<Fab component={NavLink} to={`/DQR/${match.params.id}/Approval`}  style={{ color: 'white'}} color=\"primary\" aria-label=\"add\">\n  <KeyboardArrowRightIcon/>\n</Fab>\n\t\t</div>\n          </Card>\n        </div>\n      </div>\n\t\t\n    </>\n\t)\n}\n\nexport default DQRAttachments\n"]},"metadata":{},"sourceType":"module"}