{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{TextField}from\"@material-ui/core\";import{Button,Card,Toolbar,makeStyles,Dialog,DialogContent,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Typography}from\"@material-ui/core\";import{useEffect,useState}from\"react\";import{db}from\"../../firebase\";import{firebaseLooper}from\"../../utils/tools\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function DQRComponents(_ref){var match=_ref.match,moduleId=_ref.moduleId,type=_ref.type;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),reports=_useState2[0],setReports=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),issuecomment=_useState6[0],setIssueComment=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),activeId=_useState8[0],setActiveId=_useState8[1];function handleOpen(){setOpen(true);}function handleClose(){setOpen(false);}useEffect(function(){db.collection('DQNewReport').doc(match.params.id).collection('content').doc('config').collection('components').where('module_id','==',\"\".concat(moduleId)).onSnapshot(function(snapshot){var data=firebaseLooper(snapshot);setReports(data);});},[]);function handleComment(id){db.collection('issueData').doc(id).onSnapshot(function(snapshot){var data=snapshot.data();setIssueComment(data.content);});}function activateId(id){setActiveId(id);}function handleCommentChange(id){db.collection('issueData').doc(id).update({content:issuecomment});}function getResponse(res){if(res===1){return/*#__PURE__*/_jsx(\"b\",{style:{background:'#BBE5B3 0% 0% no-repeat padding-box',borderRadius:'100px',border:'2px solid var(--unnamed-color-ffffff)'},children:\"Accepted\"});}else if(res===2){return/*#__PURE__*/_jsx(\"b\",{style:{background:'#FF616D 0% 0% no-repeat padding-box',borderRadius:'100px',border:'2px solid var(--unnamed-color-ffffff)'},children:\"Rejected\"});}else if(res===3){return/*#__PURE__*/_jsx(\"b\",{style:{background:'#FFEAC9 0% 0% no-repeat padding-box',borderRadius:'100px',border:'2px solid var(--unnamed-color-ffffff)'},children:\"Issued\"});}else{return/*#__PURE__*/_jsx(\"b\",{style:{background:'#CDF0EA 0% 0% no-repeat padding-box',borderRadius:'100px',border:'2px solid var(--unnamed-color-ffffff)'},children:\"Not Updated\"});}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{paddingRight:'5%',paddingLeft:'5%'},children:[type===0&&/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"right\",children:\"Expected Value\"}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"right\",children:\"Response\"}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"right\",children:\"Issue \"}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"right\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:reports.map(function(row){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{background:'#E8F6EF'},component:\"th\",scope:\"row\",children:row.title}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.value}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:getResponse(row.response)}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.issue_id?/*#__PURE__*/_jsx(\"b\",{children:row.issue_id}):/*#__PURE__*/_jsx(\"b\",{children:\"N/A\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.issue_id!==\"\"?/*#__PURE__*/_jsx(Button,{style:{background:'orange',color:'white'},onClick:function onClick(e){handleOpen(e);handleComment(row.issue_id);activateId(row.issue_id);},children:\"Check\"}):/*#__PURE__*/_jsx(\"p\",{children:\"N/A\"})})]},row.name);})})]})}),type===1&&/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},children:/*#__PURE__*/_jsx(\"b\",{className:\"text-md font-bold italic\",children:\"Description\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-md font-bold italic\",children:\"Required Parameters\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-md font-bold italic\",children:\"Instrument/Gauges\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-md font-bold italic\",children:\"Preferred Pipe & Connection\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-md font-bold italic\",children:\"Response\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"right\",children:\"Issue \"}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"right\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-md font-bold italic\",children:\"Options\"})})]})}),/*#__PURE__*/_jsx(TableBody,{children:reports.map(function(row){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{background:'#E8F6EF'},component:\"th\",scope:\"row\",children:row.desc}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.req}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.inst}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.connection}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:getResponse(row.response)}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.issue_id?/*#__PURE__*/_jsx(\"b\",{children:row.issue_id}):/*#__PURE__*/_jsx(\"b\",{children:\"N/A\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.issue_id!==\"\"?/*#__PURE__*/_jsx(Button,{style:{background:'orange',color:'white'},onClick:function onClick(e){handleOpen(e);handleComment(row.issue_id);activateId(row.issue_id);},children:\"Check\"}):/*#__PURE__*/_jsx(\"p\",{children:\"N/A\"})})]},row.name);})})]})}),/*#__PURE__*/_jsxs(Dialog,{fullWidth:true,onClose:handleClose,open:open,children:[/*#__PURE__*/_jsx(Toolbar,{children:/*#__PURE__*/_jsx(Button,{onClick:handleClose,children:\"Close\"})}),/*#__PURE__*/_jsx(\"b\",{className:\"text-xl underline text-bold text-center mb-3\",children:\"Comment\"}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",onChange:function onChange(e){return setIssueComment(e.target.value);},value:issuecomment,className:\"text-xl text-blue-gray-500 text-center\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){handleCommentChange(activeId);handleClose();},children:\"Update\"})]})]})]});}export default DQRComponents;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/DQNewReports/DQRComponents.jsx"],"names":["TextField","Button","Card","Toolbar","makeStyles","Dialog","DialogContent","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Typography","useEffect","useState","db","firebaseLooper","DQRComponents","match","moduleId","type","reports","setReports","open","setOpen","issuecomment","setIssueComment","activeId","setActiveId","handleOpen","handleClose","collection","doc","params","id","where","onSnapshot","snapshot","data","handleComment","content","activateId","handleCommentChange","update","getResponse","res","background","borderRadius","border","paddingRight","paddingLeft","color","font","map","row","title","value","response","issue_id","e","name","desc","req","inst","connection","target"],"mappings":"2KAAA,OAASA,SAAT,KAA0B,mBAA1B,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAsBC,OAAtB,CAA+BC,UAA/B,CAA0CC,MAA1C,CAAiDC,aAAjD,CAAgEC,KAAhE,CAAuEC,KAAvE,CAA8EC,SAA9E,CAAyFC,SAAzF,CAAoGC,cAApG,CAAoHC,SAApH,CAA+HC,QAA/H,CAA0IC,UAA1I,KAA2J,mBAA3J,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,EAAT,KAAmB,gBAAnB,CACA,OAASC,cAAT,KAA+B,mBAA/B,C,6IAEA,QAASC,CAAAA,aAAT,MAA+C,IAAvBC,CAAAA,KAAuB,MAAvBA,KAAuB,CAAhBC,QAAgB,MAAhBA,QAAgB,CAAPC,IAAO,MAAPA,IAAO,eAChBN,QAAQ,CAAC,EAAD,CADQ,wCACvCO,OADuC,eAC9BC,UAD8B,8BAEtBR,QAAQ,CAAC,KAAD,CAFc,yCAEvCS,IAFuC,eAEjCC,OAFiC,8BAGNV,QAAQ,CAAC,EAAD,CAHF,yCAGvCW,YAHuC,eAGzBC,eAHyB,8BAIdZ,QAAQ,CAAC,EAAD,CAJM,yCAIvCa,QAJuC,eAI7BC,WAJ6B,eAM9C,QAASC,CAAAA,UAAT,EAAqB,CACpBL,OAAO,CAAC,IAAD,CAAP,CACA,CAED,QAASM,CAAAA,WAAT,EAAsB,CACrBN,OAAO,CAAC,KAAD,CAAP,CACA,CACDX,SAAS,CAAC,UAAM,CACfE,EAAE,CAACgB,UAAH,CAAc,aAAd,EACCC,GADD,CACKd,KAAK,CAACe,MAAN,CAAaC,EADlB,EAECH,UAFD,CAEY,SAFZ,EAGCC,GAHD,CAGK,QAHL,EAICD,UAJD,CAIY,YAJZ,EAKCI,KALD,CAKO,WALP,CAKoB,IALpB,WAK6BhB,QAL7B,GAMCiB,UAND,CAMY,SAAAC,QAAQ,CAAI,CACvB,GAAMC,CAAAA,IAAI,CAAGtB,cAAc,CAACqB,QAAD,CAA3B,CACAf,UAAU,CAACgB,IAAD,CAAV,CACA,CATD,EAUA,CAXQ,CAWN,EAXM,CAAT,CAYC,QAASC,CAAAA,aAAT,CAAuBL,EAAvB,CAA0B,CAExBnB,EAAE,CAACgB,UAAH,CAAc,WAAd,EAA2BC,GAA3B,CAA+BE,EAA/B,EAAmCE,UAAnC,CAA8C,SAAAC,QAAQ,CAAI,CACzD,GAAMC,CAAAA,IAAI,CAAGD,QAAQ,CAACC,IAAT,EAAb,CACAZ,eAAe,CAACY,IAAI,CAACE,OAAN,CAAf,CACA,CAHD,EAKH,CAED,QAASC,CAAAA,UAAT,CAAoBP,EAApB,CAAuB,CACtBN,WAAW,CAACM,EAAD,CAAX,CACA,CACA,QAASQ,CAAAA,mBAAT,CAA6BR,EAA7B,CAAgC,CAC/BnB,EAAE,CAACgB,UAAH,CAAc,WAAd,EAA2BC,GAA3B,CAA+BE,EAA/B,EAAmCS,MAAnC,CAA0C,CAACH,OAAO,CAAEf,YAAV,CAA1C,EACA,CAED,QAASmB,CAAAA,WAAT,CAAqBC,GAArB,CAA0B,CACzB,GAAGA,GAAG,GAAK,CAAX,CAAa,CACZ,mBAEC,UAAG,KAAK,CAAE,CAACC,UAAU,CAAE,qCAAb,CAAoDC,YAAY,CAAE,OAAlE,CAA2EC,MAAM,CAAE,uCAAnF,CAAV,sBAFD,CAIA,CALD,IAKM,IAAGH,GAAG,GAAK,CAAX,CAAa,CAClB,mBACC,UAAG,KAAK,CAAE,CAACC,UAAU,CAAE,qCAAb,CAAoDC,YAAY,CAAE,OAAlE,CAA2EC,MAAM,CAAE,uCAAnF,CAAV,sBADD,CAGA,CAJK,IAIA,IAAIH,GAAG,GAAK,CAAZ,CAAc,CACnB,mBACC,UAAG,KAAK,CAAE,CAACC,UAAU,CAAE,qCAAb,CAAoDC,YAAY,CAAE,OAAlE,CAA2EC,MAAM,CAAE,uCAAnF,CAAV,oBADD,CAGA,CAJK,IAIA,CACL,mBACC,UAAG,KAAK,CAAE,CAACF,UAAU,CAAE,qCAAb,CAAoDC,YAAY,CAAE,OAAlE,CAA2EC,MAAM,CAAE,uCAAnF,CAAV,yBADD,CAGA,CACD,CACD,mBACC,wCAEA,aAFA,cAGA,aAAK,KAAK,CAAE,CAACC,YAAY,CAAE,IAAf,CAAqBC,WAAW,CAAE,IAAlC,CAAZ,WACG9B,IAAI,GAAG,CAAP,eACA,KAAC,cAAD,EAAgB,SAAS,CAAEf,KAA3B,uBACC,MAAC,KAAD,EAAQ,aAAW,cAAnB,wBACE,KAAC,SAAD,wBACE,MAAC,QAAD,yBACE,KAAC,SAAD,EAAW,KAAK,CAAE,CAACyC,UAAU,CAAE,SAAb,CAAwBK,KAAK,CAAE,OAA/B,CAAwCC,IAAI,CAAE,MAA9C,CAAlB,kBADF,cAEE,KAAC,SAAD,EAAW,KAAK,CAAE,CAACN,UAAU,CAAE,SAAb,CAAwBK,KAAK,CAAE,OAA/B,CAAwCC,IAAI,CAAE,MAA9C,CAAlB,CAAyE,KAAK,CAAC,OAA/E,4BAFF,cAGL,KAAC,SAAD,EAAW,KAAK,CAAE,CAACN,UAAU,CAAE,SAAb,CAAwBK,KAAK,CAAE,OAA/B,CAAwCC,IAAI,CAAE,MAA9C,CAAlB,CAAyE,KAAK,CAAC,OAA/E,sBAHK,cAIE,KAAC,SAAD,EAAW,KAAK,CAAE,CAACN,UAAU,CAAE,SAAb,CAAwBK,KAAK,CAAE,OAA/B,CAAwCC,IAAI,CAAE,MAA9C,CAAlB,CAAyE,KAAK,CAAC,OAA/E,oBAJF,cAKE,KAAC,SAAD,EAAW,KAAK,CAAE,CAACN,UAAU,CAAE,SAAb,CAAwBK,KAAK,CAAE,OAA/B,CAAwCC,IAAI,CAAE,MAA9C,CAAlB,CAAyE,KAAK,CAAC,OAA/E,qBALF,GADF,EADF,cAWE,KAAC,SAAD,WACG/B,OAAO,CAACgC,GAAR,CAAY,SAACC,GAAD,qBACX,MAAC,QAAD,yBACE,KAAC,SAAD,EAAW,KAAK,CAAE,CAACR,UAAU,CAAE,SAAb,CAAlB,CAA2C,SAAS,CAAC,IAArD,CAA0D,KAAK,CAAC,KAAhE,UACGQ,GAAG,CAACC,KADP,EADF,cAIE,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,UAA0BD,GAAG,CAACE,KAA9B,EAJF,cAKL,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,UAA0BZ,WAAW,CAACU,GAAG,CAACG,QAAL,CAArC,EALK,cAME,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,UAA0BH,GAAG,CAACI,QAAJ,cAAe,mBAAIJ,GAAG,CAACI,QAAR,EAAf,cAAuC,0BAAjE,EANF,cAQC,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,UACRJ,GAAG,CAACI,QAAJ,GAAiB,EAAjB,cAAqB,KAAC,MAAD,EAAQ,KAAK,CAAE,CAACZ,UAAU,CAAE,QAAb,CAAuBK,KAAK,CAAE,OAA9B,CAAf,CAAuD,OAAO,CAAE,iBAACQ,CAAD,CAAO,CAC/E9B,UAAU,CAAC8B,CAAD,CAAV,CACApB,aAAa,CAACe,GAAG,CAACI,QAAL,CAAb,CACZjB,UAAU,CAACa,GAAG,CAACI,QAAL,CAAV,CACW,CAJS,mBAArB,cAI+B,0BALvB,EARD,GAAeJ,GAAG,CAACM,IAAnB,CADW,EAAZ,CADH,EAXF,GADD,EAFH,CAqCAxC,IAAI,GAAG,CAAP,eAAW,KAAC,cAAD,EAAgB,SAAS,CAAEf,KAA3B,uBACP,MAAC,KAAD,EAAQ,aAAW,cAAnB,wBACE,KAAC,SAAD,wBACN,MAAC,QAAD,yBAEC,KAAC,SAAD,EAAW,KAAK,CAAE,CAACyC,UAAU,CAAE,SAAb,CAAwBK,KAAK,CAAE,OAA/B,CAAwCC,IAAI,CAAE,MAA9C,CAAlB,uBAAyE,UAAG,SAAS,CAAC,0BAAb,yBAAzE,EAFD,cAGC,KAAC,SAAD,EAAW,KAAK,CAAE,CAACN,UAAU,CAAE,SAAb,CAAwBK,KAAK,CAAE,OAA/B,CAAwCC,IAAI,CAAE,MAA9C,CAAlB,CAAyE,KAAK,CAAC,MAA/E,uBAAsF,UAAG,SAAS,CAAC,0BAAb,iCAAtF,EAHD,cAKC,KAAC,SAAD,EAAW,KAAK,CAAE,CAACN,UAAU,CAAE,SAAb,CAAwBK,KAAK,CAAE,OAA/B,CAAwCC,IAAI,CAAE,MAA9C,CAAlB,CAAyE,KAAK,CAAC,MAA/E,uBAAsF,UAAG,SAAS,CAAC,0BAAb,+BAAtF,EALD,cAMC,KAAC,SAAD,EAAW,KAAK,CAAE,CAACN,UAAU,CAAE,SAAb,CAAwBK,KAAK,CAAE,OAA/B,CAAwCC,IAAI,CAAE,MAA9C,CAAlB,CAAyE,KAAK,CAAC,MAA/E,uBAAsF,UAAG,SAAS,CAAC,0BAAb,yCAAtF,EAND,cAOC,KAAC,SAAD,EAAW,KAAK,CAAE,CAACN,UAAU,CAAE,SAAb,CAAwBK,KAAK,CAAE,OAA/B,CAAwCC,IAAI,CAAE,MAA9C,CAAlB,CAAyE,KAAK,CAAC,MAA/E,uBAAsF,UAAG,SAAS,CAAC,0BAAb,sBAAtF,EAPD,cAQC,KAAC,SAAD,EAAW,KAAK,CAAE,CAACN,UAAU,CAAE,SAAb,CAAwBK,KAAK,CAAE,OAA/B,CAAwCC,IAAI,CAAE,MAA9C,CAAlB,CAAyE,KAAK,CAAC,OAA/E,oBARD,cASC,KAAC,SAAD,EAAW,KAAK,CAAE,CAACN,UAAU,CAAE,SAAb,CAAwBK,KAAK,CAAE,OAA/B,CAAwCC,IAAI,CAAE,MAA9C,CAAlB,CAAyE,KAAK,CAAC,OAA/E,uBAAuF,UAAG,SAAS,CAAC,0BAAb,qBAAvF,EATD,GADM,EADF,cAeE,KAAC,SAAD,WACG/B,OAAO,CAACgC,GAAR,CAAY,SAACC,GAAD,qBACX,MAAC,QAAD,yBACE,KAAC,SAAD,EAAW,KAAK,CAAE,CAACR,UAAU,CAAE,SAAb,CAAlB,CAA2C,SAAS,CAAC,IAArD,CAA0D,KAAK,CAAC,KAAhE,UACGQ,GAAG,CAACO,IADP,EADF,cAIE,KAAC,SAAD,EAAW,KAAK,CAAC,MAAjB,UAAyBP,GAAG,CAACQ,GAA7B,EAJF,cAKP,KAAC,SAAD,EAAW,KAAK,CAAC,MAAjB,UAAyBR,GAAG,CAACS,IAA7B,EALO,cAMP,KAAC,SAAD,EAAW,KAAK,CAAC,MAAjB,UAAyBT,GAAG,CAACU,UAA7B,EANO,cAOL,KAAC,SAAD,EAAW,KAAK,CAAC,MAAjB,UAAyBpB,WAAW,CAACU,GAAG,CAACG,QAAL,CAApC,EAPK,cAQE,KAAC,SAAD,EAAW,KAAK,CAAC,MAAjB,UAAyBH,GAAG,CAACI,QAAJ,cAAe,mBAAIJ,GAAG,CAACI,QAAR,EAAf,cAAuC,0BAAhE,EARF,cAUC,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,UACRJ,GAAG,CAACI,QAAJ,GAAiB,EAAjB,cAAqB,KAAC,MAAD,EAAQ,KAAK,CAAE,CAACZ,UAAU,CAAE,QAAb,CAAuBK,KAAK,CAAE,OAA9B,CAAf,CAAuD,OAAO,CAAE,iBAACQ,CAAD,CAAO,CAC/E9B,UAAU,CAAC8B,CAAD,CAAV,CACApB,aAAa,CAACe,GAAG,CAACI,QAAL,CAAb,CACZjB,UAAU,CAACa,GAAG,CAACI,QAAL,CAAV,CACW,CAJS,mBAArB,cAI+B,0BALvB,EAVD,GAAeJ,GAAG,CAACM,IAAnB,CADW,EAAZ,CADH,EAfF,GADO,EArCX,cA6EE,MAAC,MAAD,EAAQ,SAAS,KAAjB,CAAkB,OAAO,CAAE9B,WAA3B,CAAwC,IAAI,CAAEP,IAA9C,wBACE,KAAC,OAAD,wBACE,KAAC,MAAD,EAAQ,OAAO,CAAEO,WAAjB,mBADF,EADF,cAIU,UAAG,SAAS,CAAC,8CAAb,qBAJV,cAKU,KAAC,SAAD,EAAW,OAAO,CAAC,UAAnB,CAA8B,QAAQ,CAAE,kBAAC6B,CAAD,QAAOjC,CAAAA,eAAe,CAACiC,CAAC,CAACM,MAAF,CAAST,KAAV,CAAtB,EAAxC,CAAgF,KAAK,CAAE/B,YAAvF,CAAqG,SAAS,CAAC,wCAA/G,EALV,cAMC,KAAC,MAAD,EAAQ,OAAO,CAAE,iBAACkC,CAAD,CAAO,CAACjB,mBAAmB,CAACf,QAAD,CAAnB,CAA+BG,WAAW,GAAG,CAAtE,oBAND,GA7EF,GAHA,GADD,CA6FA,CAED,cAAeb,CAAAA,aAAf","sourcesContent":["import { TextField } from \"@material-ui/core\"\nimport { Button, Card,Toolbar, makeStyles,Dialog,DialogContent, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow , Typography} from \"@material-ui/core\"\nimport { useEffect, useState } from \"react\"\nimport { db } from \"../../firebase\"\nimport { firebaseLooper } from \"../../utils/tools\"\n\nfunction DQRComponents({match, moduleId,type}) {\n\tconst [reports, setReports] = useState([])\n\tconst [open, setOpen] = useState(false)\n\tconst [issuecomment, setIssueComment] = useState('')\n\tconst [activeId, setActiveId] = useState('')\n\n\tfunction handleOpen(){\n\t\tsetOpen(true)\n\t}\n\n\tfunction handleClose(){\n\t\tsetOpen(false)\n\t}\n\tuseEffect(() => {\n\t\tdb.collection('DQNewReport')\n\t\t.doc(match.params.id)\n\t\t.collection('content')\n\t\t.doc('config')\n\t\t.collection('components')\n\t\t.where('module_id', '==', `${moduleId}`)\n\t\t.onSnapshot(snapshot => {\n\t\t\tconst data = firebaseLooper(snapshot)\n\t\t\tsetReports(data)\n\t\t})\n\t}, [])\n\t function handleComment(id){\n   \n    db.collection('issueData').doc(id).onSnapshot(snapshot => {\n     const data = snapshot.data()\n     setIssueComment(data.content )\n    })\n\n}\n\nfunction activateId(id){\n\tsetActiveId(id)\n}\n\tfunction handleCommentChange(id){\n\t\tdb.collection('issueData').doc(id).update({content: issuecomment})\n\t}\n\n\tfunction getResponse(res) {\n\t\tif(res === 1){\n\t\t\treturn(\n\n\t\t\t\t<b style={{background: '#BBE5B3 0% 0% no-repeat padding-box', borderRadius: '100px', border: '2px solid var(--unnamed-color-ffffff)'}}>Accepted</b>\n\t\t\t)\n\t\t}else if(res === 2){\n\t\t\treturn(\n\t\t\t\t<b style={{background: '#FF616D 0% 0% no-repeat padding-box', borderRadius: '100px', border: '2px solid var(--unnamed-color-ffffff)'}}>Rejected</b>\n\t\t\t)\n\t\t}else if (res === 3){\n\t\t\treturn(\n\t\t\t\t<b style={{background: '#FFEAC9 0% 0% no-repeat padding-box', borderRadius: '100px', border: '2px solid var(--unnamed-color-ffffff)'}}>Issued</b>\n\t\t\t)\n\t\t}else {\n\t\t\treturn(\n\t\t\t\t<b style={{background: '#CDF0EA 0% 0% no-repeat padding-box', borderRadius: '100px', border: '2px solid var(--unnamed-color-ffffff)'}}>Not Updated</b>\n\t\t\t)\n\t\t}\n\t}\n\treturn (\n\t\t<>\n\t\t\n\t\t<hr />\n\t\t<div style={{paddingRight: '5%', paddingLeft: '5%'}}>\n\t\t\t {type===0 &&\n\t\t\t\t <TableContainer component={Paper}>\n      <Table  aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}}>Name</TableCell>\n            <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\">Expected Value</TableCell>\n\t    <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\">Response</TableCell>\n            <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\">Issue </TableCell>\n            <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\">Actions</TableCell>\n          \n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {reports.map((row) => (\n            <TableRow key={row.name}>\n              <TableCell style={{background: '#E8F6EF'}} component=\"th\" scope=\"row\">\n                {row.title}\n              </TableCell>\n              <TableCell align=\"right\">{row.value}</TableCell>\n\t      <TableCell align=\"right\">{getResponse(row.response)}</TableCell>\n              <TableCell align=\"right\">{row.issue_id ? <b>{row.issue_id}</b> : <b>N/A</b>}</TableCell>\n              \n             <TableCell align=\"right\">\n\t\t\t {row.issue_id !== \"\"? <Button style={{background: 'orange', color: 'white'}} onClick={(e) => {\n                  handleOpen(e);\n                  handleComment(row.issue_id)\n\t\t\t\t  activateId(row.issue_id)\n                }}>Check</Button> : <p>N/A</p>}\n\t\t  </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n\t}\n\t{type===1 &&<TableContainer component={Paper}>\n      <Table  aria-label=\"simple table\">\n        <TableHead>\n\t\t<TableRow>\n\t\t\t\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}}><b className='text-md font-bold italic'>Description</b></TableCell>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"left\"><b className='text-md font-bold italic'>Required Parameters</b></TableCell>\n\t\t\t\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"left\"><b className='text-md font-bold italic'>Instrument/Gauges</b></TableCell>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"left\"><b className='text-md font-bold italic'>Preferred Pipe & Connection</b></TableCell>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"left\"><b className='text-md font-bold italic'>Response</b></TableCell>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\">Issue </TableCell>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\"><b className='text-md font-bold italic'>Options</b></TableCell>\n\t\t\t\n\t\t\t</TableRow>\n        </TableHead>\n        <TableBody>\n          {reports.map((row) => (\n            <TableRow key={row.name}>\n              <TableCell style={{background: '#E8F6EF'}} component=\"th\" scope=\"row\">\n                {row.desc}\n              </TableCell>\n              <TableCell align=\"left\">{row.req}</TableCell>\n\t\t\t  <TableCell align=\"left\">{row.inst}</TableCell>\n\t\t\t  <TableCell align=\"left\">{row.connection}</TableCell>\n\t      <TableCell align=\"left\">{getResponse(row.response)}</TableCell>\n              <TableCell align=\"left\">{row.issue_id ? <b>{row.issue_id}</b> : <b>N/A</b>}</TableCell>\n              \n             <TableCell align=\"right\">\n\t\t\t {row.issue_id !== \"\"? <Button style={{background: 'orange', color: 'white'}} onClick={(e) => {\n                  handleOpen(e);\n                  handleComment(row.issue_id);\n\t\t\t\t  activateId(row.issue_id)\n                }}>Check</Button> : <p>N/A</p>}\n\t\t  </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>}\n    <Dialog fullWidth onClose={handleClose} open={open}>\n      <Toolbar>\n        <Button onClick={handleClose}>Close</Button>\n      </Toolbar>\n              <b className='text-xl underline text-bold text-center mb-3'>Comment</b>\n              <TextField variant='outlined' onChange={(e) => setIssueComment(e.target.value)} value={issuecomment} className='text-xl text-blue-gray-500 text-center'/>\n\t\t\t  <Button onClick={(e) => {handleCommentChange(activeId); handleClose()}}>Update</Button>\n    </Dialog>\n\t\t</div>\n\t\t\n    </>\n\t)\n}\n\nexport default DQRComponents\n"]},"metadata":{},"sourceType":"module"}