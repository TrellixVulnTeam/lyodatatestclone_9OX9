{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{Dialog,Paper,TableCell,makeStyles,Card,TableContainer,TableHead,TableRow,Typography,Toolbar,DialogContent,DialogActions,Button,TextField,Select,FormHelperText,Fab}from\"@material-ui/core\";import{Alert}from\"@material-ui/lab\";import{useEffect}from\"react\";import{useState}from\"react\";import{Table}from\"react-bootstrap\";import{NavLink}from\"react-router-dom\";import DQLayout from\"../../components/DQNewSidebar/DQLayout\";import{db}from\"../../firebase\";import{firebaseLooper}from\"../../utils/tools\";import KeyboardArrowRightIcon from'@material-ui/icons/KeyboardArrowRight';import KeyboardArrowLeftIcon from'@material-ui/icons/KeyboardArrowLeft';import SafetyView from\"./SComponents/SafetyView\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{layoutRoot:{backgroundColor:'whitesmoke',display:'flex',height:'100%',overflow:'hidden',width:'100%'},avatar:{margin:theme.spacing(1),backgroundColor:'#141256'},wrapper:_defineProperty({display:'flex',flex:'1 1 auto',overflow:'hidden',paddingTop:64},theme.breakpoints.up('lg'),{paddingLeft:250}),fab:{position:'fixed',bottom:theme.spacing(2),right:theme.spacing(2)},container:{display:'flex',flex:'1 1 auto',overflow:'hidden'},content:{padding:'20px',flex:'1 1 auto',height:'100%',overflow:'auto'}};});function Safety(_ref){var match=_ref.match;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),contents=_useState2[0],setContents=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),contents1=_useState4[0],setContents1=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),title=_useState8[0],setTitle=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),cause=_useState10[0],setCause=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),action=_useState12[0],setAction=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),desc=_useState14[0],setDesc=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),error=_useState16[0],setError=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),type=_useState18[0],setType=_useState18[1];var classes=useStyles();useEffect(function(){db.collection('DQNew').doc(match.params.id).collection('content').doc('safety').collection('details').onSnapshot(function(snapshot){var data=firebaseLooper(snapshot);data.sort(function(a,b){return a.index-b.index;});setContents(data);});},[]);function handleOpen(){setOpen(true);}function handleClose(){setOpen(false);}function handleSubmit(e){e.preventDefault();if((cause===null||cause===void 0?void 0:cause.trim().length)===0||(desc===null||desc===void 0?void 0:desc.trim().length)===0||(action===null||action===void 0?void 0:action.trim().length)===0){return setError(\"Empty Spaces are not accepted as input!\");}var index=contents.length;db.collection('DQNew').doc(match.params.id).collection('content').doc('safety').collection('details').add({desc:desc,index:index,cause:cause,action:action}).then(function(){setOpen(false);setDesc(\"\");setTitle(\"\");setCause(\"\");setAction(\"\");});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(DQLayout,{match:match}),/*#__PURE__*/_jsx(\"div\",{className:classes.wrapper,children:/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:/*#__PURE__*/_jsx(Card,{className:classes.content,children:/*#__PURE__*/_jsxs(\"div\",{style:{color:'#43425D'},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.fab,children:[/*#__PURE__*/_jsx(Fab,{component:NavLink,to:\"/DQ/\".concat(match.params.id,\"/Design-Specs\"),style:{marginRight:'20px'},color:\"primary\",\"aria-label\":\"add\",children:/*#__PURE__*/_jsx(KeyboardArrowLeftIcon,{})}),/*#__PURE__*/_jsx(Fab,{component:NavLink,to:\"/DQ/\".concat(match.params.id,\"/Attachments\"),color:\"primary\",\"aria-label\":\"add\",children:/*#__PURE__*/_jsx(KeyboardArrowRightIcon,{})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Typography,{align:\"center\",variant:\"h1\",gutterBottom:true,children:/*#__PURE__*/_jsx(\"b\",{children:\"SAFETY INTERLOCKS\"})}),/*#__PURE__*/_jsx(Toolbar,{style:{display:'flex',justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(Button,{onClick:handleOpen,style:{background:'orange',color:'white'},children:\"Add Items\"})}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},children:/*#__PURE__*/_jsx(\"b\",{className:\"text-lg font-bold italic\",children:\"_\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-lg font-bold italic\",children:\"Description\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-lg font-bold italic\",children:\"Cause\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-lg font-bold italic\",children:\"Action\"})}),/*#__PURE__*/_jsx(TableCell,{style:{background:'#4C4C6D',color:'white',font:'bold'},align:\"right\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-lg font-bold italic\",children:\"Options\"})})]})}),contents.map(function(module){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(SafetyView,{module:module,match:match},module.id)});})]})}),/*#__PURE__*/_jsx(Dialog,{open:open,onClose:handleClose,fullWidth:true,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),/*#__PURE__*/_jsx(Typography,{variant:\"h3\",align:\"center\",gutterBottom:true,children:/*#__PURE__*/_jsx(\"b\",{children:\"Add new items\"})}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(TextField,{error:desc.length>150,required:true,value:desc,multiline:true,rows:5,variant:\"outlined\",label:\"Desctiption\",fullWidth:true,onChange:function onChange(e){return setDesc(e.target.value);}}),/*#__PURE__*/_jsxs(FormHelperText,{style:{marginBottom:'3%'},children:[\" Description should be max \",desc.length,\"/150 characters\"]}),/*#__PURE__*/_jsx(TextField,{error:cause.length>150,required:true,value:cause,multiline:true,variant:\"outlined\",label:\"Cause\",fullWidth:true,onChange:function onChange(e){return setCause(e.target.value);}}),/*#__PURE__*/_jsxs(FormHelperText,{style:{marginBottom:'3%'},children:[\"Cause should be max \",cause.length,\"/50\"]}),/*#__PURE__*/_jsx(TextField,{error:action.length>150,value:action,required:true,multiline:true,rows:7,variant:\"outlined\",label:\"Action\",fullWidth:true,onChange:function onChange(e){return setAction(e.target.value);}}),/*#__PURE__*/_jsxs(FormHelperText,{style:{marginBottom:'3%'},children:[\" Actions should be max \",action.length,\"/150 characters\"]})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:handleClose,variant:\"contained\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:desc.length>150||action.length>150||cause.length>150,style:{background:'orange',color:'white'},children:\"Add New\"})]})]})})]})})})})]});}export default Safety;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/safety/Safety.jsx"],"names":["Dialog","Paper","TableCell","makeStyles","Card","TableContainer","TableHead","TableRow","Typography","Toolbar","DialogContent","DialogActions","Button","TextField","Select","FormHelperText","Fab","Alert","useEffect","useState","Table","NavLink","DQLayout","db","firebaseLooper","KeyboardArrowRightIcon","KeyboardArrowLeftIcon","SafetyView","useStyles","theme","layoutRoot","backgroundColor","display","height","overflow","width","avatar","margin","spacing","wrapper","flex","paddingTop","breakpoints","up","paddingLeft","fab","position","bottom","right","container","content","padding","Safety","match","contents","setContents","contents1","setContents1","open","setOpen","title","setTitle","cause","setCause","action","setAction","desc","setDesc","error","setError","type","setType","classes","collection","doc","params","id","onSnapshot","snapshot","data","sort","a","b","index","handleOpen","handleClose","handleSubmit","e","preventDefault","trim","length","add","then","color","marginRight","justifyContent","background","font","map","module","target","value","marginBottom"],"mappings":"wVAAA,OAASA,MAAT,CAAiBC,KAAjB,CAAwBC,SAAxB,CAAmCC,UAAnC,CAA+CC,IAA/C,CAAqDC,cAArD,CAAqEC,SAArE,CAAgFC,QAAhF,CAA0FC,UAA1F,CAAqGC,OAArG,CAA8GC,aAA9G,CAA6HC,aAA7H,CAA4IC,MAA5I,CAAoJC,SAApJ,CAA+JC,MAA/J,CAAuKC,cAAvK,CAAuLC,GAAvL,KAAkM,mBAAlM,CACA,OAASC,KAAT,KAAsB,kBAAtB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,KAAT,KAAsB,iBAAtB,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wCAArB,CACA,OAASC,EAAT,KAAmB,gBAAnB,CACA,OAASC,cAAT,KAA+B,mBAA/B,CACA,MAAOC,CAAAA,sBAAP,KAAmC,uCAAnC,CACA,MAAOC,CAAAA,qBAAP,KAAkC,sCAAlC,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,C,6IAEA,GAAMC,CAAAA,SAAS,CAAGzB,UAAU,CAAC,SAAC0B,KAAD,QAAY,CACvCC,UAAU,CAAE,CACXC,eAAe,CAAE,YADN,CAEVC,OAAO,CAAE,MAFC,CAGVC,MAAM,CAAE,MAHE,CAIVC,QAAQ,CAAE,QAJA,CAKVC,KAAK,CAAE,MALG,CAD2B,CASvCC,MAAM,CAAE,CACNC,MAAM,CAAER,KAAK,CAACS,OAAN,CAAc,CAAd,CADF,CAENP,eAAe,CAAE,SAFX,CAT+B,CAaxCQ,OAAO,kBACNP,OAAO,CAAE,MADH,CAENQ,IAAI,CAAE,UAFA,CAGNN,QAAQ,CAAE,QAHJ,CAINO,UAAU,CAAE,EAJN,EAKLZ,KAAK,CAACa,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CALK,CAKwB,CAC5BC,WAAW,CAAE,GADe,CALxB,CAbiC,CAuBvCC,GAAG,CAAE,CACHC,QAAQ,CAAE,OADP,CAEHC,MAAM,CAAElB,KAAK,CAACS,OAAN,CAAc,CAAd,CAFL,CAGHU,KAAK,CAAEnB,KAAK,CAACS,OAAN,CAAc,CAAd,CAHJ,CAvBkC,CA4BvCW,SAAS,CAAE,CACPjB,OAAO,CAAE,MADF,CAEXQ,IAAI,CAAE,UAFK,CAGXN,QAAQ,CAAE,QAHC,CA5B4B,CAiCvCgB,OAAO,CAAE,CACRC,OAAO,CAAE,MADD,CAELX,IAAI,CAAE,UAFD,CAGTP,MAAM,CAAE,MAHC,CAITC,QAAQ,CAAE,MAJD,CAjC8B,CAAZ,EAAD,CAA5B,CA0CA,QAASkB,CAAAA,MAAT,MAAyB,IAARC,CAAAA,KAAQ,MAARA,KAAQ,eACQlC,QAAQ,CAAC,EAAD,CADhB,wCACjBmC,QADiB,eACPC,WADO,8BAEUpC,QAAQ,CAAC,EAAD,CAFlB,yCAEjBqC,SAFiB,eAENC,YAFM,8BAGAtC,QAAQ,CAAC,KAAD,CAHR,yCAGjBuC,IAHiB,eAGXC,OAHW,8BAIExC,QAAQ,CAAC,EAAD,CAJV,yCAIjByC,KAJiB,eAIVC,QAJU,8BAKE1C,QAAQ,CAAC,EAAD,CALV,0CAKjB2C,KALiB,gBAKVC,QALU,gCAMI5C,QAAQ,CAAC,EAAD,CANZ,2CAMjB6C,MANiB,gBAMTC,SANS,gCAOA9C,QAAQ,CAAC,EAAD,CAPR,2CAOjB+C,IAPiB,gBAOXC,OAPW,gCAQEhD,QAAQ,CAAC,EAAD,CARV,2CAQjBiD,KARiB,gBAQVC,QARU,gCASAlD,QAAQ,CAAC,CAAD,CATR,2CASjBmD,IATiB,gBASXC,OATW,gBAUxB,GAAMC,CAAAA,OAAO,CAAG5C,SAAS,EAAzB,CACAV,SAAS,CAAC,UAAM,CACfK,EAAE,CAACkD,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BrB,KAAK,CAACsB,MAAN,CAAaC,EAAxC,EACCH,UADD,CACY,SADZ,EACuBC,GADvB,CAC2B,QAD3B,EAECD,UAFD,CAEY,SAFZ,EAGCI,UAHD,CAGY,SAAAC,QAAQ,CAAI,CACvB,GAAMC,CAAAA,IAAI,CAAGvD,cAAc,CAACsD,QAAD,CAA3B,CACAC,IAAI,CAACC,IAAL,CAAU,SAASC,CAAT,CAAWC,CAAX,CAAa,CACtB,MAAQD,CAAAA,CAAC,CAACE,KAAF,CAAUD,CAAC,CAACC,KAApB,CACA,CAFD,EAGA5B,WAAW,CAACwB,IAAD,CAAX,CACA,CATD,EAWA,CAZQ,CAYN,EAZM,CAAT,CAaA,QAASK,CAAAA,UAAT,EAAqB,CACpBzB,OAAO,CAAC,IAAD,CAAP,CACA,CACD,QAAS0B,CAAAA,WAAT,EAAsB,CACrB1B,OAAO,CAAC,KAAD,CAAP,CACA,CAED,QAAS2B,CAAAA,YAAT,CAAsBC,CAAtB,CAAwB,CACvBA,CAAC,CAACC,cAAF,GAEA,GAAG,CAAA1B,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAE2B,IAAP,GAAcC,MAAd,IAAuB,CAAvB,EAA4B,CAAAxB,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAEuB,IAAN,GAAaC,MAAb,IAAsB,CAAlD,EAAuD,CAAA1B,MAAM,OAAN,EAAAA,MAAM,SAAN,QAAAA,MAAM,CAAEyB,IAAR,GAAeC,MAAf,IAAwB,CAAlF,CAAoF,CACnF,MAAOrB,CAAAA,QAAQ,CAAC,yCAAD,CAAf,CACA,CAED,GAAMc,CAAAA,KAAK,CAAG7B,QAAQ,CAACoC,MAAvB,CACAnE,EAAE,CAACkD,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BrB,KAAK,CAACsB,MAAN,CAAaC,EAAxC,EACCH,UADD,CACY,SADZ,EACuBC,GADvB,CAC2B,QAD3B,EAECD,UAFD,CAEY,SAFZ,EAEuBkB,GAFvB,CAE2B,CAACzB,IAAI,CAAJA,IAAD,CAAMiB,KAAK,CAALA,KAAN,CAAYrB,KAAK,CAALA,KAAZ,CAAkBE,MAAM,CAANA,MAAlB,CAF3B,EAGC4B,IAHD,CAGM,UAAM,CACXjC,OAAO,CAAC,KAAD,CAAP,CACAQ,OAAO,CAAC,EAAD,CAAP,CACAN,QAAQ,CAAC,EAAD,CAAR,CACAE,QAAQ,CAAC,EAAD,CAAR,CACAE,SAAS,CAAC,EAAD,CAAT,CACA,CATD,EAUA,CACD,mBACC,wCACA,KAAC,QAAD,EAAU,KAAK,CAAEZ,KAAjB,EADA,cAEC,YAAK,SAAS,CAAEmB,OAAO,CAACjC,OAAxB,uBACK,YAAK,SAAS,CAAEiC,OAAO,CAACvB,SAAxB,uBACE,KAAC,IAAD,EAAM,SAAS,CAAEuB,OAAO,CAACtB,OAAzB,uBACR,aAAK,KAAK,CAAE,CAAC2C,KAAK,CAAE,SAAR,CAAZ,wBACA,aAAK,SAAS,CAAErB,OAAO,CAAC3B,GAAxB,wBACE,KAAC,GAAD,EAAK,SAAS,CAAExB,OAAhB,CAAyB,EAAE,eAASgC,KAAK,CAACsB,MAAN,CAAaC,EAAtB,iBAA3B,CAAoE,KAAK,CAAE,CAACkB,WAAW,CAAE,MAAd,CAA3E,CAAmG,KAAK,CAAC,SAAzG,CAAmH,aAAW,KAA9H,uBACF,KAAC,qBAAD,IADE,EADF,cAKC,KAAC,GAAD,EAAK,SAAS,CAAEzE,OAAhB,CAAyB,EAAE,eAASgC,KAAK,CAACsB,MAAN,CAAaC,EAAtB,gBAA3B,CAAoE,KAAK,CAAC,SAA1E,CAAoF,aAAW,KAA/F,uBACD,KAAC,sBAAD,IADC,EALD,GADA,cAUC,aAVD,cAWC,KAAC,UAAD,EAAY,KAAK,CAAC,QAAlB,CAA2B,OAAO,CAAC,IAAnC,CAAwC,YAAY,KAApD,uBAAqD,wCAArD,EAXD,cAYC,KAAC,OAAD,EAAS,KAAK,CAAE,CAAC5C,OAAO,CAAE,MAAV,CAAkB+D,cAAc,CAAE,UAAlC,CAAhB,uBACC,KAAC,MAAD,EAAQ,OAAO,CAAEX,UAAjB,CAA6B,KAAK,CAAE,CAACY,UAAU,CAAE,QAAb,CAAuBH,KAAK,CAAE,OAA9B,CAApC,uBADD,EAZD,cAgBC,KAAC,cAAD,EAAgB,SAAS,CAAE5F,KAA3B,uBACD,MAAC,KAAD,EAAQ,aAAW,cAAnB,wBACC,KAAC,SAAD,wBACA,MAAC,QAAD,yBACA,KAAC,SAAD,EAAW,KAAK,CAAE,CAAC+F,UAAU,CAAE,SAAb,CAAwBH,KAAK,CAAE,OAA/B,CAAwCI,IAAI,CAAE,MAA9C,CAAlB,uBAAyE,UAAG,SAAS,CAAC,0BAAb,eAAzE,EADA,cAEA,KAAC,SAAD,EAAW,KAAK,CAAE,CAACD,UAAU,CAAE,SAAb,CAAwBH,KAAK,CAAE,OAA/B,CAAwCI,IAAI,CAAE,MAA9C,CAAlB,CAAyE,KAAK,CAAC,MAA/E,uBAAsF,UAAG,SAAS,CAAC,0BAAb,yBAAtF,EAFA,cAGA,KAAC,SAAD,EAAW,KAAK,CAAE,CAACD,UAAU,CAAE,SAAb,CAAwBH,KAAK,CAAE,OAA/B,CAAwCI,IAAI,CAAE,MAA9C,CAAlB,CAAyE,KAAK,CAAC,MAA/E,uBAAsF,UAAG,SAAS,CAAC,0BAAb,mBAAtF,EAHA,cAIA,KAAC,SAAD,EAAW,KAAK,CAAE,CAACD,UAAU,CAAE,SAAb,CAAwBH,KAAK,CAAE,OAA/B,CAAwCI,IAAI,CAAE,MAA9C,CAAlB,CAAyE,KAAK,CAAC,MAA/E,uBAAsF,UAAG,SAAS,CAAC,0BAAb,oBAAtF,EAJA,cAKA,KAAC,SAAD,EAAW,KAAK,CAAE,CAACD,UAAU,CAAE,SAAb,CAAwBH,KAAK,CAAE,OAA/B,CAAwCI,IAAI,CAAE,MAA9C,CAAlB,CAAyE,KAAK,CAAC,OAA/E,uBAAuF,UAAG,SAAS,CAAC,0BAAb,qBAAvF,EALA,GADA,EADD,CAWI3C,QAAQ,CAAC4C,GAAT,CAAa,SAAAC,MAAM,qBAElB,sCACA,KAAC,UAAD,EAAY,MAAM,CAAEA,MAApB,CAA4B,KAAK,CAAE9C,KAAnC,EAA+C8C,MAAM,CAACvB,EAAtD,CADA,EAFkB,EAAnB,CAXJ,GADC,EAhBD,cAuCA,KAAC,MAAD,EAAQ,IAAI,CAAElB,IAAd,CAAoB,OAAO,CAAE2B,WAA7B,CAA0C,SAAS,KAAnD,uBACC,cAAM,QAAQ,CAAEC,YAAhB,WACElB,KAAK,eAAI,KAAC,KAAD,EAAO,QAAQ,CAAC,OAAhB,UAAyBA,KAAzB,EADX,cAEC,KAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,KAAK,CAAC,QAA/B,CAAwC,YAAY,KAApD,uBAAqD,oCAArD,EAFD,cAGF,MAAC,aAAD,yBACC,KAAC,SAAD,EAAW,KAAK,CAAEF,IAAI,CAACwB,MAAL,CAAY,GAA9B,CAAmC,QAAQ,KAA3C,CAA4C,KAAK,CAAExB,IAAnD,CAA0D,SAAS,KAAnE,CAAoE,IAAI,CAAE,CAA1E,CAA6E,OAAO,CAAC,UAArF,CAAgG,KAAK,CAAC,aAAtG,CAAoH,SAAS,KAA7H,CAA8H,QAAQ,CAAE,kBAACqB,CAAD,QAAOpB,CAAAA,OAAO,CAACoB,CAAC,CAACa,MAAF,CAASC,KAAV,CAAd,EAAxI,EADD,cAEC,MAAC,cAAD,EAAiB,KAAK,CAAE,CAACC,YAAY,CAAE,IAAf,CAAxB,yCAA0EpC,IAAI,CAACwB,MAA/E,qBAFD,cAGC,KAAC,SAAD,EAAW,KAAK,CAAE5B,KAAK,CAAC4B,MAAN,CAAa,GAA/B,CAAoC,QAAQ,KAA5C,CAA6C,KAAK,CAAE5B,KAApD,CAA0D,SAAS,KAAnE,CAAqE,OAAO,CAAC,UAA7E,CAAwF,KAAK,CAAC,OAA9F,CAAsG,SAAS,KAA/G,CAAgH,QAAQ,CAAE,kBAACyB,CAAD,QAAOxB,CAAAA,QAAQ,CAACwB,CAAC,CAACa,MAAF,CAASC,KAAV,CAAf,EAA1H,EAHD,cAIC,MAAC,cAAD,EAAgB,KAAK,CAAE,CAACC,YAAY,CAAE,IAAf,CAAvB,kCAAkExC,KAAK,CAAC4B,MAAxE,SAJD,cAKC,KAAC,SAAD,EAAW,KAAK,CAAE1B,MAAM,CAAC0B,MAAP,CAAc,GAAhC,CAAqC,KAAK,CAAE1B,MAA5C,CAAoD,QAAQ,KAA5D,CAA8D,SAAS,KAAvE,CAAwE,IAAI,CAAE,CAA9E,CAAiF,OAAO,CAAC,UAAzF,CAAoG,KAAK,CAAC,QAA1G,CAAmH,SAAS,KAA5H,CAA6H,QAAQ,CAAE,kBAACuB,CAAD,QAAOtB,CAAAA,SAAS,CAACsB,CAAC,CAACa,MAAF,CAASC,KAAV,CAAhB,EAAvI,EALD,cAMC,MAAC,cAAD,EAAgB,KAAK,CAAE,CAACC,YAAY,CAAE,IAAf,CAAvB,qCAAqEtC,MAAM,CAAC0B,MAA5E,qBAND,GAHE,cAgBF,MAAC,aAAD,yBACC,KAAC,MAAD,EAAQ,KAAK,CAAC,WAAd,CAA0B,OAAO,CAAEL,WAAnC,CAAgD,OAAO,CAAC,WAAxD,oBADD,cAEC,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,QAAQ,CAAEnB,IAAI,CAACwB,MAAL,CAAc,GAAd,EAAqB1B,MAAM,CAAC0B,MAAP,CAAgB,GAArC,EAA4C5B,KAAK,CAAC4B,MAAN,CAAe,GAA3F,CAAgG,KAAK,CAAE,CAACM,UAAU,CAAE,QAAb,CAAuBH,KAAK,CAAE,OAA9B,CAAvG,qBAFD,GAhBE,GADD,EAvCA,GADQ,EADF,EADL,EAFD,GADD,CAwFA,CAED,cAAezC,CAAAA,MAAf","sourcesContent":["import { Dialog, Paper, TableCell, makeStyles, Card, TableContainer, TableHead, TableRow, Typography,Toolbar, DialogContent, DialogActions, Button, TextField, Select, FormHelperText, Fab } from \"@material-ui/core\";\nimport { Alert } from \"@material-ui/lab\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport { NavLink } from \"react-router-dom\";\nimport DQLayout from \"../../components/DQNewSidebar/DQLayout\";\nimport { db } from \"../../firebase\";\nimport { firebaseLooper } from \"../../utils/tools\";\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\nimport SafetyView from \"./SComponents/SafetyView\";\n\nconst useStyles = makeStyles((theme) => ({\n  layoutRoot: {\n   backgroundColor: 'whitesmoke',\n    display: 'flex',\n    height: '100%',\n    overflow: 'hidden',\n    width: '100%',\n\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: '#141256',\n  },\n wrapper: {\n  display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden',\n  paddingTop: 64,\n  [theme.breakpoints.up('lg')]: {\n    paddingLeft: 250\n  },\n  \n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n  container: {\n      display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden'\n  },\n  content: {\n   padding: '20px',\n      flex: '1 1 auto',\n  height: '100%',\n  overflow: 'auto'\n    },\n}));\n\n\nfunction Safety({match}) {\n\tconst [contents, setContents] = useState([])\n\tconst [contents1, setContents1] = useState([])\n\tconst [open, setOpen] = useState(false)\n\tconst [title, setTitle] = useState('')\n\tconst [cause, setCause] = useState('')\n\tconst [action, setAction] = useState('')\n\tconst [desc, setDesc] = useState('')\n\tconst [error, setError] = useState('')\n\tconst [type, setType] = useState(0)\n\tconst classes = useStyles()\n\tuseEffect(() => {\n\t\tdb.collection('DQNew').doc(match.params.id)\n\t\t.collection('content').doc('safety')\n\t\t.collection('details')\n\t\t.onSnapshot(snapshot => {\n\t\t\tconst data = firebaseLooper(snapshot)\n\t\t\tdata.sort(function(a,b){\n\t\t\t\treturn (a.index - b.index)\n\t\t\t})\n\t\t\tsetContents(data)\n\t\t})\n\t\t\n\t}, [])\n\tfunction handleOpen(){\n\t\tsetOpen(true)\n\t}\n\tfunction handleClose(){\n\t\tsetOpen(false)\n\t}\n\t\n\tfunction handleSubmit(e){\n\t\te.preventDefault()\n\n\t\tif(cause?.trim().length===0 || desc?.trim().length===0 || action?.trim().length===0){\n\t\t\treturn setError(\"Empty Spaces are not accepted as input!\")\n\t\t}\n\n\t\tconst index = contents.length\n\t\tdb.collection('DQNew').doc(match.params.id)\n\t\t.collection('content').doc('safety')\n\t\t.collection('details').add({desc,index,cause,action})\n\t\t.then(() => {\n\t\t\tsetOpen(false)\n\t\t\tsetDesc(\"\")\n\t\t\tsetTitle(\"\")\n\t\t\tsetCause(\"\")\n\t\t\tsetAction(\"\")\n\t\t})\n\t}\n\treturn (\n\t\t<>\n\t\t<DQLayout match={match}  />\n\t\t <div className={classes.wrapper}>\n        <div className={classes.container}>\n          <Card className={classes.content}>\n\t\t<div style={{color: '#43425D'}}>\n\t\t<div className={classes.fab}>\n\t\t\t\t<Fab component={NavLink} to={`/DQ/${match.params.id}/Design-Specs`} style={{marginRight: '20px'}}  color=\"primary\" aria-label=\"add\">\n  <KeyboardArrowLeftIcon/>\n</Fab>\n\n\t\t\t<Fab component={NavLink} to={`/DQ/${match.params.id}/Attachments`}  color=\"primary\" aria-label=\"add\">\n  <KeyboardArrowRightIcon/>\n</Fab>\n\t\t\t</div>\n\t\t\t<br />\n\t\t\t<Typography align='center' variant='h1' gutterBottom><b>SAFETY INTERLOCKS</b></Typography>\n\t\t\t<Toolbar style={{display: 'flex', justifyContent: 'flex-end'}}>\n\t\t\t\t<Button onClick={handleOpen} style={{background: 'orange', color: 'white'}}>Add Items</Button>\n\t\t\t</Toolbar>\n\n\t\t\t<TableContainer component={Paper}>\n\t\t<Table  aria-label=\"simple table\">\n\t\t\t<TableHead >\n\t\t\t<TableRow>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}}><b className='text-lg font-bold italic'>_</b></TableCell>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"left\"><b className='text-lg font-bold italic'>Description</b></TableCell>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"left\"><b className='text-lg font-bold italic'>Cause</b></TableCell>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"left\"><b className='text-lg font-bold italic'>Action</b></TableCell>\n\t\t\t<TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\"><b className='text-lg font-bold italic'>Options</b></TableCell>\n\t\t\t</TableRow>\n\t\t\t</TableHead>\n\t\t\t\t\t{\n\t\t\t\t\t\tcontents.map(module => (\n\t\t\t\t\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<SafetyView module={module} match={match} key={module.id}/>\t\n\t\t\t\n\t\t\t\t\t</>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t</Table>\n\t\t</TableContainer>\n\t\t<Dialog open={open} onClose={handleClose} fullWidth>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t{error && <Alert severity='error'>{error}</Alert>}\n\t\t\t\t<Typography variant='h3' align='center' gutterBottom><b>Add new items</b></Typography>\n\t<DialogContent>\n\t\t<TextField error={desc.length>150} required value={desc}  multiline rows={5} variant='outlined' label='Desctiption' fullWidth onChange={(e) => setDesc(e.target.value)}/>\t\n\t\t<FormHelperText  style={{marginBottom: '3%'}}> Description should be max {desc.length}/150 characters</FormHelperText>\n\t\t<TextField error={cause.length>150} required value={cause}multiline  variant='outlined' label='Cause' fullWidth onChange={(e) => setCause(e.target.value)}/>\n\t\t<FormHelperText style={{marginBottom: '3%'}}>Cause should be max {cause.length}/50</FormHelperText>\n\t\t<TextField error={action.length>150} value={action} required  multiline rows={7} variant='outlined' label='Action' fullWidth onChange={(e) => setAction(e.target.value)}/>\t\n\t\t<FormHelperText style={{marginBottom: '3%'}}> Actions should be max {action.length}/150 characters</FormHelperText>\n\t\t{/* <Select style={{marginBottom: '3%'}} variant='outlined'  fullWidth onChange={(e) => setType(e.target.value)}>\n\t\t\t<option className='capitalize' value={0}>Documentation</option>\n\t\t\t<option value={1}>ACCESSORIES</option>\n\t\t</Select> */}\n\t\t\n\t</DialogContent>\n\t<DialogActions>\n\t\t<Button color='secondary' onClick={handleClose} variant='contained'>Cancel</Button>\n\t\t<Button type=\"submit\" disabled={desc.length > 150 || action.length > 150 || cause.length > 150} style={{background: 'orange', color: 'white'}}>Add New</Button>\n\t</DialogActions>\n\t\t\t</form>\n\t\n</Dialog>\n\t\t</div>\n          </Card>\n        </div>\n      </div>\n\t\t {/* <div style={{display: 'flex', justifyContent: 'flex-end'}}>\n\t\t<Button component={NavLink} to={`/DQ/${match.params.id}/Design-Specs`} style={{background: 'blue', color: 'white', marginLeft: '25px',  marginRight: '4%'}}>\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-arrow-90deg-left\" viewBox=\"0 0 16 16\">\n  <path fill-rule=\"evenodd\" d=\"M1.146 4.854a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H12.5A2.5 2.5 0 0 1 15 6.5v8a.5.5 0 0 1-1 0v-8A1.5 1.5 0 0 0 12.5 5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4z\"/>\n</svg>\n\t\t\t\t\t</Button>  \n\t\t\t\t\t<Button component={NavLink} to={`/DQ/${match.params.id}/Attachments`} style={{background: 'blue', color: 'white', marginLeft: '25px'}}>\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-arrow-90deg-right\" viewBox=\"0 0 16 16\">\n  <path fill-rule=\"evenodd\" d=\"M14.854 4.854a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 4H3.5A2.5 2.5 0 0 0 1 6.5v8a.5.5 0 0 0 1 0v-8A1.5 1.5 0 0 1 3.5 5h9.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4z\"/>\n</svg>\n\t\t\t\t</Button>\n\t  </div> */}\n\t\t\n\t\t</>\n\t)\n}\n\nexport default Safety\n"]},"metadata":{},"sourceType":"module"}