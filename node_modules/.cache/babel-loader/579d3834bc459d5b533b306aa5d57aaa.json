{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useEffect,useState}from'react';import{makeStyles}from'@material-ui/core/styles';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import{db}from'../../../firebase';import{firebaseLooper}from'../../../utils/tools';import{Button,Card,Container,Dialog,DialogActions,DialogContent,DialogTitle,FormControl,Grid,InputLabel,MenuItem,Select,TablePagination,TextField,Typography}from'@material-ui/core';import StepDashboardLayout from'../../../components/StepSidebar/StepDashboardLayout';import TestData from'../../../Pages/Tests/TestData';import{NavLink}from'react-router-dom';import{Alert}from'@material-ui/lab';import DateRangeIcon from'@material-ui/icons/DateRange';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{table:{minWidth:650},wrapper:_defineProperty({display:'flex',flex:'1 1 auto',overflow:'hidden',paddingTop:64},theme.breakpoints.up('lg'),{paddingLeft:256}),container:{display:'flex',flex:'1 1 auto',overflow:'hidden'},content:{flex:'1 1 auto',height:'100%',overflow:'auto'}};});export default function DQtable(){var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),recipeeData=_useState2[0],setRecipeeData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),machines=_useState6[0],setMachines=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),title=_useState8[0],setTitle=_useState8[1];useEffect(function(){db.collection(\"machineData\").onSnapshot(function(snap){var data=firebaseLooper(snap);setMachines(data);});db.collection('DQNewReport').onSnapshot(function(doc){var data=firebaseLooper(doc);console.log(data);setRecipeeData(data);});},[]);function handleChange(e){var rep=e.target.value;db.collection('DQNewReport').where('mid','==',rep).onSnapshot(function(doc){var data=firebaseLooper(doc);console.log(data);setRecipeeData(data);});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(FormControl,{variant:\"outlined\",fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Select\"}),/*#__PURE__*/_jsx(Select,{onChange:handleChange,label:\"Select\",children:machines.map(function(data){return/*#__PURE__*/_jsx(MenuItem,{value:data.id,children:data.title},data.id);})})]}),/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"Select Machine to sort by Machines\"}),recipeeData&&recipeeData.filter(function(row){if(title===null||title===\"\"){return row;}else if(row.title.toLowerCase().includes(title.toLocaleLowerCase())){return row;}else if(row.desc.toLowerCase().includes(title.toLocaleLowerCase())){return row;}return row;}).map(function(row){return/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',display:'flex',justifyContent:'space-evenly'},children:[/*#__PURE__*/_jsx(NavLink,{className:\"text-md text-gray-800 hover:text-gray-600\",to:\"/DQR/\".concat(row.id,\"/Approval\"),children:row.name}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",align:\"left\",className:\"text-sm text-gray-800 hover:text-gray-600\",children:[/*#__PURE__*/_jsx(DateRangeIcon,{style:{width:'15px'}}),row.timestamp.toDate().toString().substring(0,15)]})]});})]});}","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/MiddlePage/subcomponents/DQtable.jsx"],"names":["React","useEffect","useState","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","db","firebaseLooper","Button","Card","Container","Dialog","DialogActions","DialogContent","DialogTitle","FormControl","Grid","InputLabel","MenuItem","Select","TablePagination","TextField","Typography","StepDashboardLayout","TestData","NavLink","Alert","DateRangeIcon","useStyles","theme","table","minWidth","wrapper","display","flex","overflow","paddingTop","breakpoints","up","paddingLeft","container","content","height","DQtable","classes","recipeeData","setRecipeeData","open","setOpen","machines","setMachines","title","setTitle","collection","onSnapshot","snap","data","doc","console","log","handleChange","e","rep","target","value","where","map","id","filter","row","toLowerCase","includes","toLocaleLowerCase","desc","width","justifyContent","name","timestamp","toDate","toString","substring"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { db } from '../../../firebase';\nimport { firebaseLooper } from '../../../utils/tools';\nimport { Button, Card, Container, Dialog, DialogActions, DialogContent, DialogTitle, FormControl, Grid, InputLabel, MenuItem, Select, TablePagination, TextField, Typography } from '@material-ui/core';\nimport StepDashboardLayout from '../../../components/StepSidebar/StepDashboardLayout'\nimport TestData from '../../../Pages/Tests/TestData'\nimport { NavLink } from 'react-router-dom';\nimport { Alert } from '@material-ui/lab';\nimport DateRangeIcon from '@material-ui/icons/DateRange';\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    minWidth: 650,\n  },\n   wrapper: {\n  display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden',\n  paddingTop: 64,\n  [theme.breakpoints.up('lg')]: {\n    paddingLeft: 256\n  },\n  \n  },\n  container: {\n      display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden'\n  },\n  content: {\n    \n      flex: '1 1 auto',\n  height: '100%',\n  overflow: 'auto'\n    },\n}));\n\n\n\nexport default function DQtable() {\n  const classes = useStyles();\n  const [recipeeData, setRecipeeData] = useState([])\n  const [open, setOpen] = useState(false)\n  const [machines, setMachines] = useState([])\n  const [title, setTitle] = useState(\"\")\n  \n  \n  \n  useEffect(() => {\n     db.collection(\"machineData\").onSnapshot(snap => {\n      const data = firebaseLooper(snap)\n      setMachines(data)   \n    })\n    db.collection('DQNewReport').onSnapshot(doc => {\n      const data = firebaseLooper(doc)\n      console.log(data)\n      setRecipeeData(data)\n    })\n    \n  }, [])\n    \nfunction handleChange(e){\n  const rep = e.target.value\n  db.collection('DQNewReport')\n  .where('mid', '==', rep)\n  .onSnapshot(doc => {\n    const data = firebaseLooper(doc)\n    console.log(data)\n    setRecipeeData(data)\n  })\n}\n\n\n  return (\n    <div>\n       <FormControl variant='outlined' fullWidth  >\n      <InputLabel>Select</InputLabel>\n      <Select  onChange={handleChange} label=\"Select\">\n        {machines.map(data => (\n          <MenuItem key={data.id} value={data.id}>{data.title}</MenuItem>\n        ))\n          \n        }\n        \n      </Select>\n    </FormControl>\n    <Alert severity='info'>Select Machine to sort by Machines</Alert>\n   {recipeeData && \n    recipeeData\n     . filter((row) => {\n                        \n                          if(title === null || title === \"\"){\n                            return row\n                        } else if (row.title.toLowerCase().includes(title.toLocaleLowerCase())){\n                                return row\n                       }\n                       else if (row.desc.toLowerCase().includes(title.toLocaleLowerCase())){\n                         return row\n                       }\n                       return row \n                      })\n  .map((row) => (\n        <div style={{width: '100%', display: 'flex', justifyContent: 'space-evenly'}}>\n           <NavLink className='text-md text-gray-800 hover:text-gray-600'  to={`/DQR/${row.id}/Approval`}>{row.name}</NavLink>\n           <Typography variant='body2' align='left' className='text-sm text-gray-800 hover:text-gray-600'><DateRangeIcon style={{width: '15px'}} />{row.timestamp.toDate().toString().substring(0,15)}</Typography>\n        </div>\n       \n \n    ))}\n    </div>\n     \n  )\n}\n"]},"metadata":{},"sourceType":"module"}