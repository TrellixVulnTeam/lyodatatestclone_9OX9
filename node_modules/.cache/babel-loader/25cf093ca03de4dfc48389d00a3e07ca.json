{"ast":null,"code":"var _jsxFileName = \"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/Steps/StepItem.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Container, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, FormControl, Grid, InputLabel, makeStyles, Select, Snackbar, TextField, Typography } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport { db, storageRef } from '../../firebase';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport { useStepStorage } from '../../utils/useStepStorage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    borderBottomColor: \"black\",\n    backgroundColor: 'white'\n  },\n  statsItem: {\n    alignItems: 'center',\n    display: 'flex'\n  },\n  statsIcon: {\n    marginRight: theme.spacing(1)\n  },\n  dataBox: {\n    borderRadius: \"20px\",\n    background: 'white',\n    alignItems: \"center\"\n  },\n  divButton: {\n    color: \"#32e0c4\"\n  }\n}));\n\nconst StepItem = ({\n  data\n}) => {\n  _s();\n\n  var _data$desc;\n\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [openEdit, setOpenEdit] = useState(false);\n  const [openView, setOpenView] = useState(false);\n  const [title, setTitle] = useState(data.title);\n  const [desc, setDesc] = useState(data.desc);\n  const [file, setFile] = useState(null);\n  const [format, setFormat] = useState(data.format);\n  const [createdAt, setCreatedAt] = useState(data.createdAt);\n  const [type, setType] = useState(data.type);\n  const [error, setError] = useState('');\n  const [disabled, setDisabled] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const types = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\n  const videoTypes = [\"video/mp4\", \"video/mkv\", \"video/mov\"];\n  const audioTypes = [\"audio/mp3\", \"audio/mpeg\"];\n\n  const handleChange = e => {\n    let selectedFile = e.target.files[0];\n    setDisabled(false);\n\n    if (selectedFile) {\n      if (format === 'image') {\n        if (types.includes(selectedFile.type)) {\n          setError(null);\n          setFile(selectedFile);\n        } else {\n          setFile(null);\n          setError(\"Please select an image file (png or jpg)\");\n        }\n      } else if (format === 'video') {\n        if (videoTypes.includes(selectedFile.type)) {\n          setError(null);\n          setFile(selectedFile);\n        } else {\n          setFile(null);\n          setError(\"Please select a video file (mp4 or mkv)\");\n        }\n      } else if (format === 'audio') {\n        if (audioTypes.includes(selectedFile.type)) {\n          setError(null);\n          setFile(selectedFile);\n        } else {\n          setFile(null);\n          setError(\"Please select an audio file (mp3 )\");\n        }\n      }\n    }\n  };\n\n  const {\n    progress,\n    url\n  } = useStepStorage(file);\n\n  function getMedia() {\n    if (data.format === 'image') {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"h-64 bg-cover lg:rounded-lg lg:h-full\",\n        src: data.url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 22\n      }, this);\n    } else if (data.format === 'video') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-64 bg-cover lg:rounded-lg lg:h-full\",\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          style: {\n            width: '100%',\n            height: 'auto'\n          },\n          controls: true,\n          children: /*#__PURE__*/_jsxDEV(\"source\", {\n            src: data.url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this);\n    } else if (data.format === 'audio') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-64 bg-cover lg:rounded-lg lg:h-full\",\n        children: /*#__PURE__*/_jsxDEV(\"audio\", {\n          style: {\n            marginTop: '15%',\n            marginRight: '50px'\n          },\n          controls: true,\n          children: /*#__PURE__*/_jsxDEV(\"source\", {\n            src: data.url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }, this);\n    }\n  }\n\n  const handleView = () => {\n    setOpenView(true);\n  };\n\n  const handleViewClose = () => {\n    setOpenView(false);\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleEdit = () => {\n    setOpenEdit(true);\n  };\n\n  const handleEditClose = () => {\n    setOpenEdit(false);\n  };\n\n  const handleDelete = id => {\n    db.collection('stepData').doc(id).delete().then(data => {\n      return /*#__PURE__*/_jsxDEV(Snackbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  const handleImageUpdate = id => {\n    const reqData = {\n      url\n    };\n    db.collection('stepData').doc(id).update(reqData).then(data => {\n      setLoading(false);\n      console.log(data);\n    });\n  };\n\n  const updateStep = id => {\n    setLoading(true);\n    const reqData = {\n      title,\n      desc,\n      type,\n      format\n    };\n    db.collection('stepData').doc(id).update(reqData).then(data => {\n      setLoading(false);\n      console.log(data);\n    });\n  };\n\n  function getType() {\n    if (type === 'info') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"flex-shrink-0 w-24 h-24 text-blue-900 rounded-full inline-flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          class: \"bi bi-info-square w-12 h-12\",\n          viewBox: \"0 0 24 24\",\n          fill: \"currentColor\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this);\n    } else if (type === 'critical') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"flex-shrink-0 w-24 h-24  text-yellow-900 rounded-full inline-flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          fill: \"currentColor\",\n          class: \"w-12 h-12\",\n          viewBox: \"0 0 24 24\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this);\n    } else if (type === 'normal') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"flex-shrink-0 w-24 h-24  text-yellow-900 rounded-full inline-flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          fill: \"none\",\n          stroke: \"currentColor\",\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\",\n          \"stroke-width\": \"2\",\n          class: \"w-12 h-12\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this);\n    } else if (type === 'camera') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"flex-shrink-0 w-24 h-24  text-green-700 rounded-full inline-flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          fill: \"currentColor\",\n          class: \"w-12 h-12\",\n          viewBox: \"0 0 24 24\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 10\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.dataBox,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(\"section\", {\n          class: \"text-gray-600 body-font\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"container  mx-auto flex flex-wrap\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"flex relative pt-10 pb-20 sm:items-center md:w-2/3 mx-auto\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"h-full w-6 absolute inset-0 flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"h-full w-1 bg-gray-200 pointer-events-none\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"flex-shrink-0 w-6 h-6 rounded-full mt-10 sm:mt-0 inline-flex items-center justify-center bg-yellow-800 text-white relative z-10 title-font font-medium text-sm\",\n                children: data.index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"flex-grow md:pl-8 pl-6 flex sm:items-center items-start flex-col sm:flex-row\",\n                children: [getType(), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"w-1/2 flex-grow sm:pl-6 mt-6 sm:mt-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    class: \"font-medium title-font text-gray-900 mb-1 text-xl\",\n                    children: data.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-64 truncate\",\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      className: \"\",\n                      children: [(_data$desc = data.desc) === null || _data$desc === void 0 ? void 0 : _data$desc.slice(0, 150), \"...\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 13\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 28\n                  }, this),\n                  onClick: handleEdit,\n                  color: \"primary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  startIcon: /*#__PURE__*/_jsxDEV(VisibilityIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 32\n                  }, this),\n                  onClick: () => {\n                    handleView();\n                  },\n                  className: classes.divButton\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  startIcon: /*#__PURE__*/_jsxDEV(DeleteForeverIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 32\n                  }, this),\n                  onClick: handleClickOpen,\n                  color: \"secondary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 7\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 3\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: open,\n        onClose: handleClose,\n        \"aria-labelledby\": \"alert-dialog-title\",\n        \"aria-describedby\": \"alert-dialog-description\",\n        children: [/*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          variant: \"filled\",\n          children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(DialogTitle, {\n            id: \"alert-dialog-title\",\n            children: \"Are You Sure You Want To Delete?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n            children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n              color: \"white\",\n              id: \"alert-dialog-description\",\n              children: \"Deleting will be a permanent action and data pervailing will be permanently deleted and can not be retrieved back.                    \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleClose,\n            color: \"primary\",\n            variant: \"outlined\",\n            children: \"Disagree\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: e => {\n              handleDelete(data.id);\n              handleClose();\n            },\n            color: \"secondary\",\n            variant: \"outlined\",\n            autoFocus: true,\n            children: \"Agree\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: openEdit,\n        onClose: handleEditClose,\n        \"aria-labelledby\": \"alert-dialog-title\",\n        \"aria-describedby\": \"alert-dialog-description\",\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          id: \"alert-dialog-title\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Edit \", title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 59\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: classes.form,\n            children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n              severity: \"error\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              defaultValue: title,\n              error: title === \"\",\n              variant: \"outlined\",\n              margin: \"normal\",\n              label: \"Title\",\n              required: true,\n              fullWidth: true,\n              id: \"title\",\n              name: \"title\",\n              autoFocus: true,\n              onChange: e => setTitle(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              defaultValue: desc,\n              error: desc === \"\",\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              label: \"Description\",\n              fullWidth: true,\n              name: \"desc\",\n              onChange: e => setDesc(e.target.value),\n              id: \"desc\",\n              multiline: true,\n              style: {\n                marginBottom: '20px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              required: true,\n              variant: \"outlined\",\n              fullWidth: true,\n              style: {\n                marginBottom: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"Select Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                required: true,\n                label: \"Select type\",\n                variant: \"outlined\",\n                value: type,\n                fullWidth: true,\n                InputLabelProps: {\n                  shrink: true\n                },\n                onChange: e => setType(e.target.value),\n                style: {\n                  marginBottom: '15px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"info\",\n                  children: \"Info\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"camera\",\n                  children: \"Camera\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"critical\",\n                  children: \"Critical\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"normal\",\n                  children: \"Normal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              required: true,\n              variant: \"outlined\",\n              fullWidth: true,\n              style: {\n                marginBottom: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"Select Format \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 28\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                required: true,\n                variant: \"outlined\",\n                label: \"Select Format\",\n                value: format,\n                fullWidth: true,\n                InputLabelProps: {\n                  shrink: true\n                },\n                onChange: e => setFormat(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"image\",\n                  children: \"Image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"video\",\n                  children: \"Video\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"audio\",\n                  children: \"Audio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 25\n            }, this), getMedia(), /*#__PURE__*/_jsxDEV(Alert, {\n              children: [\"To Update Media Click \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"'Update Media'\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 55\n              }, this), \" After uploading a new Media file\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 26\n            }, this), /*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Replace the current Media file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 26\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [progress, \"% uploaded\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 31\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              disabled: disabled || progress < 100 || type === '' || file === null,\n              style: {\n                color: 'orangered'\n              },\n              variant: \"outlined\",\n              fullWidth: true,\n              onClick: () => handleImageUpdate(data.id),\n              children: \"Update Media\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 24\n            }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                color: \"secondary\",\n                onClick: handleEditClose,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 23\n              }, this), !loading && /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                disabled: title === \"\" || desc === \"\" || (desc === null || desc === void 0 ? void 0 : desc.length) > 300 || (title === null || title === void 0 ? void 0 : title.length) > 30,\n                variant: \"outlined\",\n                color: \"primary\",\n                className: classes.submit,\n                onClick: e => {\n                  updateStep(data.id);\n                  handleEditClose();\n                },\n                children: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 37\n              }, this), loading && /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                variant: \"outlined\",\n                color: \"primary\",\n                disabled: true,\n                className: classes.submit,\n                children: \"Updating values...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 36\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: openView,\n        onClose: handleViewClose,\n        \"aria-labelledby\": \"alert-dialog-title\",\n        \"aria-describedby\": \"alert-dialog-description\",\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          id: \"alert-dialog-title\",\n          children: \"View Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: classes.form,\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              defaultValue: title,\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              id: \"title\",\n              name: \"title\",\n              autoFocus: true,\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              defaultValue: desc,\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              name: \"desc\",\n              disabled: true,\n              id: \"desc\",\n              multiline: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 25\n            }, this), getMedia(), /*#__PURE__*/_jsxDEV(DialogActions, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                color: \"secondary\",\n                onClick: handleViewClose,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 9\n  }, this);\n};\n\n_s(StepItem, \"zmrY60QnIpzZeWFP8ivKvNSpR/4=\", false, function () {\n  return [useStyles, useStepStorage];\n});\n\n_c = StepItem;\nexport default StepItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"StepItem\");","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/Steps/StepItem.jsx"],"names":["React","useEffect","useState","Button","Container","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","FormControl","Grid","InputLabel","makeStyles","Select","Snackbar","TextField","Typography","useHistory","AccessTimeIcon","db","storageRef","Alert","AlertTitle","VisibilityIcon","EditIcon","DeleteForeverIcon","useStepStorage","useStyles","theme","root","borderBottomColor","backgroundColor","statsItem","alignItems","display","statsIcon","marginRight","spacing","dataBox","borderRadius","background","divButton","color","StepItem","data","classes","open","setOpen","openEdit","setOpenEdit","openView","setOpenView","title","setTitle","desc","setDesc","file","setFile","format","setFormat","createdAt","setCreatedAt","type","setType","error","setError","disabled","setDisabled","loading","setLoading","types","videoTypes","audioTypes","handleChange","e","selectedFile","target","files","includes","progress","url","getMedia","width","height","marginTop","handleView","handleViewClose","handleClickOpen","handleClose","handleEdit","handleEditClose","handleDelete","id","collection","doc","delete","then","handleImageUpdate","reqData","update","console","log","updateStep","getType","index","slice","form","value","marginBottom","shrink","length","submit"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Button, Container, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, FormControl, Grid, InputLabel, makeStyles, Select, Snackbar, TextField, Typography } from '@material-ui/core';\r\nimport { useHistory } from 'react-router-dom';\r\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\r\nimport { db, storageRef } from '../../firebase';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport { useStepStorage } from '../../utils/useStepStorage';\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    borderBottomColor: \"black\",\r\n    backgroundColor: 'white',\r\n  \r\n  },\r\n  statsItem: {\r\n    alignItems: 'center',\r\n    display: 'flex'\r\n  },\r\n  statsIcon: {\r\n    marginRight: theme.spacing(1)\r\n  },\r\n  dataBox:{\r\n      borderRadius: \"20px\",\r\n      background: 'white',\r\n     \r\n      alignItems: \"center\"\r\n  },\r\n  divButton: {\r\n      color: \"#32e0c4\",\r\n      \r\n  }\r\n}));\r\n\r\nconst StepItem = ({ data})  => {\r\n    const classes = useStyles()\r\n    const [open, setOpen] = useState(false)\r\n    const [openEdit, setOpenEdit] = useState(false)\r\n    const [openView, setOpenView] = useState(false)\r\n    const [title, setTitle] = useState(data.title)\r\n    const [desc, setDesc] = useState(data.desc)\r\n     const [file, setFile] = useState(null)\r\n     const [format, setFormat] = useState(data.format)\r\n    const [createdAt, setCreatedAt] = useState(data.createdAt)\r\n     const [type, setType] = useState(data.type);\r\n    const [error,setError] = useState('')\r\n    const [disabled, setDisabled] = useState(true)\r\n    const [loading, setLoading] = useState(false);\r\n    const types = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\r\n    const videoTypes = [\"video/mp4\", \"video/mkv\", \"video/mov\"];\r\n   const audioTypes = [\"audio/mp3\", \"audio/mpeg\"]\r\n       const handleChange = (e) => {\r\n        let selectedFile = e.target.files[0]\r\n        setDisabled(false)\r\n           if (selectedFile) {\r\n          if(format === 'image'){\r\n             if (types.includes(selectedFile.type)) {\r\n                setError(null);\r\n                setFile(selectedFile);\r\n            } else {\r\n                setFile(null);\r\n                setError(\"Please select an image file (png or jpg)\");\r\n            }\r\n          }else if(format === 'video'){\r\n            if (videoTypes.includes(selectedFile.type)) {\r\n                setError(null);\r\n                setFile(selectedFile);\r\n            } else {\r\n                setFile(null);\r\n                setError(\"Please select a video file (mp4 or mkv)\");\r\n            }\r\n          }else if(format === 'audio'){\r\n            if (audioTypes.includes(selectedFile.type)) {\r\n                setError(null);\r\n                setFile(selectedFile);\r\n            } else {\r\n                setFile(null);\r\n                setError(\"Please select an audio file (mp3 )\");\r\n            }\r\n          }\r\n           \r\n        }\r\n      }\r\n          const { progress, url } = useStepStorage(file);\r\n\r\n          function getMedia(){\r\n            if (data.format === 'image'){\r\n              return <img className=\"h-64 bg-cover lg:rounded-lg lg:h-full\"  src={data.url}/>\r\n            }else if(data.format === 'video'){\r\n              return  (\r\n                <div className=\"h-64 bg-cover lg:rounded-lg lg:h-full\">\r\n                  <video style={{width: '100%', height: 'auto'}}  controls>\r\n                <source src={data.url}/>\r\n              </video>\r\n                </div>\r\n              )\r\n            }else if(data.format === 'audio'){\r\n\r\n              return (\r\n              <div className=\"h-64 bg-cover lg:rounded-lg lg:h-full\">\r\n                <audio style={{marginTop: '15%', marginRight: '50px'}} controls>\r\n             <source src={data.url}/>\r\n              </audio>\r\n              </div>\r\n              )\r\n            }\r\n          }\r\n\r\n    const handleView = () => {\r\n      setOpenView(true)\r\n      \r\n    }\r\n\r\n    const handleViewClose = () => {\r\n      setOpenView(false)\r\n    }\r\n\r\n    const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n   const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleEdit = () => {\r\n      setOpenEdit(true)\r\n    }\r\n  const handleEditClose = () => {\r\n      setOpenEdit(false)\r\n    }\r\n\r\n  const handleDelete = (id) => {\r\n    db.collection('stepData').doc(id).delete().then((data) => {\r\n      return(\r\n        <Snackbar ></Snackbar>\r\n      )\r\n    })\r\n}\r\nconst handleImageUpdate = (id) => {\r\n  const reqData = {url}\r\n      db.collection('stepData').doc(id).update(reqData).then((data)=>{\r\n        setLoading(false)\r\n      \r\n        console.log(data)\r\n      })\r\n}\r\nconst updateStep=(id) => {\r\n    setLoading(true)\r\n    \r\n    const reqData = {title,desc,type,format}\r\n      db.collection('stepData').doc(id).update(reqData).then((data)=>{\r\n        setLoading(false)\r\n        \r\n        console.log(data)\r\n      })\r\n  }\r\n\r\n  function getType() {\r\n    if(type === 'info'){\r\n      return(\r\n        <div class=\"flex-shrink-0 w-24 h-24 text-blue-900 rounded-full inline-flex items-center justify-center\">\r\n          <svg  class=\"bi bi-info-square w-12 h-12\" viewBox=\"0 0 24 24\" fill=\"currentColor\"  >\r\n  <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\r\n  <path d=\"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\"/>\r\n</svg>\r\n        </div>\r\n      )\r\n    }else if (type === 'critical'){\r\n      return(\r\n        <div class=\"flex-shrink-0 w-24 h-24  text-yellow-900 rounded-full inline-flex items-center justify-center\">\r\n          \r\n          <svg  fill=\"currentColor\"  class=\"w-12 h-12\" viewBox=\"0 0 24 24\">\r\n          <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\r\n          <path d=\"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z\"/>\r\n        </svg>\r\n        </div>\r\n      )\r\n    }else if ( type === 'normal'){\r\n      return(\r\n        <div class=\"flex-shrink-0 w-24 h-24  text-yellow-900 rounded-full inline-flex items-center justify-center\">\r\n          <svg fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" class=\"w-12 h-12\" viewBox=\"0 0 24 24\">\r\n            <path d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\"></path>\r\n          </svg>\r\n        </div>\r\n      )\r\n    }else if (type === 'camera'){\r\n      return(\r\n         <div class=\"flex-shrink-0 w-24 h-24  text-green-700 rounded-full inline-flex items-center justify-center\">\r\n          <svg fill=\"currentColor\"  class=\"w-12 h-12\" viewBox=\"0 0 24 24\" >\r\n  <path d=\"M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z\"/>\r\n  <path d=\"M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z\"/>\r\n</svg>\r\n      </div>\r\n      )\r\n\r\n     \r\n      \r\n    }\r\n  }\r\n    return (\r\n        \r\n        <Container>\r\n            <div className={classes.dataBox}>\r\n            <Grid xs={12}>\r\n                \r\n         <section class=\"text-gray-600 body-font\">\r\n  <div class=\"container  mx-auto flex flex-wrap\">\r\n    <div class=\"flex relative pt-10 pb-20 sm:items-center md:w-2/3 mx-auto\">\r\n      <div class=\"h-full w-6 absolute inset-0 flex items-center justify-center\">\r\n        <div class=\"h-full w-1 bg-gray-200 pointer-events-none\"></div>\r\n      </div>\r\n      <div class=\"flex-shrink-0 w-6 h-6 rounded-full mt-10 sm:mt-0 inline-flex items-center justify-center bg-yellow-800 text-white relative z-10 title-font font-medium text-sm\">{data.index + 1}</div>\r\n      <div class=\"flex-grow md:pl-8 pl-6 flex sm:items-center items-start flex-col sm:flex-row\">\r\n        {getType()}\r\n        <div class=\"w-1/2 flex-grow sm:pl-6 mt-6 sm:mt-0\">\r\n          <h2 class=\"font-medium title-font text-gray-900 mb-1 text-xl\">{data.title}</h2>\r\n          <div className='w-64 truncate'>\r\n            <Typography className='' >{data.desc?.slice(0,150)}...</Typography>\r\n          </div>\r\n          \r\n        </div>\r\n        <Button startIcon={<EditIcon/>}  onClick={handleEdit}  color=\"primary\"></Button>\r\n            <Button startIcon={<VisibilityIcon/>} \r\n            onClick={() =>\r\n             {handleView()}} \r\n             className={classes.divButton}></Button>\r\n            <Button startIcon={<DeleteForeverIcon/>}  onClick={handleClickOpen}  color=\"secondary\"></Button>\r\n      </div>\r\n    </div>   \r\n  </div>\r\n</section>\r\n            </Grid>\r\n          \r\n              <Dialog\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    aria-labelledby=\"alert-dialog-title\"\r\n                    aria-describedby=\"alert-dialog-description\"\r\n                >\r\n                  <Alert severity=\"error\" variant=\"filled\">\r\n                    <AlertTitle><strong>Delete</strong></AlertTitle>\r\n                    <DialogTitle id=\"alert-dialog-title\">{\"Are You Sure You Want To Delete?\"}</DialogTitle>\r\n                    <DialogContent>\r\n                    <DialogContentText color=\"white\" id=\"alert-dialog-description\">\r\n                        Deleting will be a permanent action and data pervailing will be permanently deleted and can not be retrieved back.                    </DialogContentText>\r\n                    </DialogContent>\r\n                    </Alert>\r\n                    <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\" variant=\"outlined\">\r\n                        Disagree\r\n                    </Button>\r\n                    <Button   onClick={(e)=>{\r\n                        handleDelete(data.id);\r\n                         handleClose()}} color=\"secondary\" variant=\"outlined\" autoFocus>\r\n                        Agree\r\n                    </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n                <Dialog\r\n                    open={openEdit}\r\n                    onClose={handleEditClose}\r\n                    aria-labelledby=\"alert-dialog-title\"\r\n                    aria-describedby=\"alert-dialog-description\"\r\n                >\r\n                    <DialogTitle id=\"alert-dialog-title\">{<b>Edit {title}</b>}</DialogTitle>\r\n                    <DialogContent>\r\n                 \r\n                    <form className={classes.form}  >\r\n                      {error && <Alert severity='error'>{error}</Alert>}\r\n                        <TextField\r\n                       \r\n                        defaultValue={title}    \r\n                        error={title === \"\"}                  \r\n                          variant=\"outlined\"\r\n                          margin=\"normal\"\r\n                          label=\"Title\"\r\n                          required\r\n                          fullWidth\r\n                          id=\"title\"\r\n                          name=\"title\"\r\n                          autoFocus\r\n                          onChange={(e) => setTitle(e.target.value)}\r\n                        />\r\n                        <TextField\r\n                        defaultValue={desc}\r\n                        error={desc === \"\"}\r\n                          variant=\"outlined\"\r\n                          margin=\"normal\"\r\n                          required\r\n                          label=\"Description\"\r\n                          fullWidth\r\n                          name=\"desc\"\r\n                          onChange={(e) => setDesc(e.target.value)}\r\n                          id=\"desc\"\r\n                          multiline\r\n                          style={{marginBottom: '20px'}}\r\n                        />\r\n                        \r\n                        <FormControl required\r\n                        variant='outlined'\r\n                        fullWidth\r\n                        style={{marginBottom: '20px'}}\r\n                        >\r\n                        <InputLabel>Select Type</InputLabel>\r\n                        <Select\r\n                        required\r\n                        label=\"Select type\"\r\n                        variant='outlined'\r\n                        value={type}                      \r\n                          fullWidth\r\n                          InputLabelProps={{\r\n                            shrink: true,\r\n                          }}\r\n                          onChange={(e) => setType(e.target.value)}\r\n                          style={{marginBottom: '15px'}}\r\n                        >\r\n                          <option value='info'>Info</option>\r\n                          <option value='camera'>Camera</option>\r\n                            <option value='critical'>Critical</option>\r\n                            <option value='normal'>Normal</option>\r\n                        </Select>\r\n                        </FormControl>\r\n                        \r\n                        <br/>\r\n                        <FormControl required\r\n                        variant='outlined'\r\n                        fullWidth\r\n                        style={{marginBottom: '20px'}}\r\n                        >\r\n                           <InputLabel >Select Format </InputLabel>\r\n                          <Select\r\n                          required\r\n                          variant='outlined'\r\n                          label=\"Select Format\"\r\n                          value={format}\r\n                           \r\n                        \r\n                            fullWidth\r\n                            InputLabelProps={{\r\n                              shrink: true,\r\n                            }}\r\n                            onChange={(e) => setFormat(e.target.value)}\r\n                          >\r\n                            <option value='image'>Image</option>\r\n                            <option value='video'>Video</option>\r\n                              <option value='audio'>Audio</option>\r\n                             \r\n                          </Select>\r\n                        </FormControl>\r\n                       \r\n                          \r\n                          {getMedia()}\r\n                         <Alert>To Update Media Click <b>'Update Media'</b> After uploading a new Media file</Alert>\r\n                        <InputLabel>Replace the current Media file</InputLabel>\r\n                         <input type=\"file\"  onChange={handleChange} />\r\n                         {\r\n                           <div>\r\n                              <h4>{progress}% uploaded</h4>\r\n                           </div>\r\n                          \r\n                         }\r\n                       <Button disabled={disabled || progress < 100 || type==='' || file=== null} style={{color: 'orangered'}} variant='outlined' fullWidth onClick={() => handleImageUpdate(data.id)}>Update Media</Button>\r\n                    <DialogActions>\r\n                      <Button color=\"secondary\" onClick={handleEditClose}>Cancel</Button>\r\n                       {!loading && <Button\r\n                          type=\"submit\"\r\n                          disabled={title===\"\" || desc===\"\" || desc?.length > 300 || title?.length > 30} \r\n                          variant=\"outlined\"\r\n                          color=\"primary\"\r\n                          className={classes.submit}\r\n                          onClick={(e)=> \r\n                            {updateStep(data.id);\r\n                               handleEditClose();\r\n                          }}\r\n                        >\r\n                          Update\r\n                          </Button>}\r\n                      {\r\n                        loading && <Button\r\n                          type=\"submit\"\r\n                         \r\n                          variant=\"outlined\"\r\n                          color=\"primary\"\r\n                          disabled\r\n                          className={classes.submit}\r\n                        >Updating values...</Button>\r\n                      }   \r\n                    </DialogActions>\r\n                     \r\n                  </form>\r\n                    </DialogContent>\r\n                </Dialog>\r\n                <Dialog\r\n                    open={openView}\r\n                    onClose={handleViewClose}\r\n                    aria-labelledby=\"alert-dialog-title\"\r\n                    aria-describedby=\"alert-dialog-description\"\r\n                >\r\n                    <DialogTitle id=\"alert-dialog-title\">{\"View Data\"}</DialogTitle>\r\n                    <DialogContent>\r\n                    \r\n                    <form className={classes.form}  >\r\n                        <TextField\r\n                        defaultValue={title}\r\n                          variant=\"outlined\"\r\n                          margin=\"normal\"\r\n                          required\r\n                          fullWidth\r\n                          id=\"title\"\r\n                          name=\"title\"\r\n                          autoFocus\r\n                          disabled\r\n                        />\r\n                        <TextField\r\n                        defaultValue={desc}\r\n                          variant=\"outlined\"\r\n                          margin=\"normal\"\r\n                          required\r\n                          fullWidth\r\n                          name=\"desc\"\r\n                          disabled\r\n                          id=\"desc\"\r\n                          multiline\r\n                        />\r\n                        {getMedia()}\r\n                    <DialogActions>\r\n                      <Button color=\"secondary\" onClick={handleViewClose}>Cancel</Button>\r\n                     \r\n                    </DialogActions>\r\n                     \r\n                  </form>\r\n                    </DialogContent>\r\n                </Dialog>\r\n            </div>\r\n            \r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default StepItem"]},"metadata":{},"sourceType":"module"}