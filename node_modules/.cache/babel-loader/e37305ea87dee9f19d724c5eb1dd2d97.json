{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from\"react\";import{db}from\"../firebase\";import FetchRecipee from\"./FetchRecipee\";import{firebaseLooper}from\"../utils/tools\";import{Button,Card,FormControl,FormHelperText,Grid,Input,InputLabel,MenuItem,Select}from\"@material-ui/core\";import GraphSelect from\"./GraphSelect\";import Chartjs from\"chart.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var chartConfig={type:\"line\",data:{labels:[],datasets:[{fill:'false',label:\"Temperature\",yAxisID:\"y-axis-0\",data:[],borderWidth:1,lineTension:0.1,backgroundColor:'yellow',borderColor:'yellow',borderCapStyle:'butt',borderDash:[],borderDashOffset:0.0,borderJoinStyle:'miter',pointBorderColor:'yellow',pointBackgroundColor:'yellow',pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:'#ff7a00',pointHoverBorderColor:'#7868e6',pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10},{fill:'false',yAxisID:\"y-axis-1\",label:\"Pressure\",data:[],lineTension:0.1,backgroundColor:'orangered',borderColor:'orangered',borderCapStyle:'butt',borderDash:[],borderDashOffset:0.0,borderJoinStyle:'miter',pointBorderColor:'orangered',pointBackgroundColor:'orangered',pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:'#ff7a00',pointHoverBorderColor:'#7868e6',pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,borderWidth:1},{yAxisID:\"y2\",label:'RealTime',fill:false,lineTension:0.1,backgroundColor:'green',borderColor:'green',borderCapStyle:'butt',borderDash:[],borderDashOffset:0.0,borderJoinStyle:'miter',pointBorderColor:'green',pointBackgroundColor:'green',pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:'green',pointHoverBorderColor:'#7868e6',pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[]}]},options:{plugins:{zoom:{zoom:{wheel:{enabled:true},pinch:{enabled:true},mode:'xy'}}},legend:{position:'bottom',labels:{fontColor:'white'}},title:{display:true,text:\"Select/Change The Required to Showcase Data\"},tooltips:{mode:'label'},interaction:{mode:'index',intersect:false},responsive:true,scales:{xAxes:[{display:true,stacked:false,ticks:{autoSkip:true,maxTicksLimit:15,fontColor:'white',fontSize:10,animation:{easing:'linear'}}}],ticks:{major:{fontStyle:'bold',fontColor:'#FF0000'}},yAxes:[{stacked:true,position:\"left\",id:\"y-axis-0\",title:'Temp Set Point',ticks:{steps:10,min:-100,fontColor:'white',fontSize:14}},{stacked:false,display:false,position:\"left\",id:\"y2\",title:'Realtime',ticks:{steps:10,fontColor:'white',fontSize:14}},{stacked:false,position:\"right\",id:\"y-axis-1\",fontColor:'white',ticks:{steps:100,fontColor:'white',fontSize:14}}]}}};var TestGraph=function TestGraph(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),recipes=_useState2[0],setRecipes=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),rid=_useState4[0],setRid=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),machines=_useState6[0],setMachines=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),rData=_useState8[0],setRdata=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),realData=_useState10[0],setRealData=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),batch=_useState12[0],setBatch=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),batchId=_useState14[0],setBatchId=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),mid=_useState16[0],setMid=_useState16[1];var time=[];var temp=[];var stillTime=[];var pressure=[];var delta=[];var deltaP=[];var realDatax=[];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),stillTimeData=_useState18[0],setStillTimeData=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),deltaTemp=_useState20[0],setDeltaTemp=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),deltaPressure=_useState22[0],setDeltaP=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),tempData=_useState24[0],setTempData=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),pressureData=_useState26[0],setPressureData=_useState26[1];var chartContainer=useRef(null);var _useState27=useState(null),_useState28=_slicedToArray(_useState27,2),chartInstance=_useState28[0],setChartInstance=_useState28[1];useEffect(function(){db.collection('machineData').onSnapshot(function(doc){var data=firebaseLooper(doc);setMachines(data);});if(chartContainer&&chartContainer.current){var newChartInstance=new Chartjs(chartContainer.current,chartConfig);setChartInstance(newChartInstance);}},[chartContainer]);var updateDataset=function updateDataset(time,newData,pressure){chartInstance.data.labels=time;chartInstance.data.datasets[0].data=newData;chartInstance.data.datasets[1].data=pressure;chartInstance.data.datasets[2].data=realData;chartInstance.update();};setInterval(function(){console.log('called database once');},30000);var onButtonClick=function onButtonClick(e){e.preventDefault();var x,y,z;var randomTemp,randomPressure;var currTemp=0;var currPressure=800;var currTime=0;for(var index=0;index<rData.length;index++){x=(rData[index].temp1-currTemp)/rData[index].time1;y=(rData[index].pressure-currPressure)/rData[index].time1;for(var j=0;j<rData[index].time1;j++){currTime++;currTemp=currTemp+x;randomTemp=currTemp+Math.floor(Math.random()*x);currPressure=currPressure+y;randomPressure=currPressure+Math.floor(Math.random()*y);time.push(currTime);temp.push(currTemp);pressure.push(currPressure);delta.push(randomTemp);deltaP.push(randomPressure);}for(var k=0;k<rData[index].time2;k++){currTime++;time.push(currTime);delta.push(randomTemp+Math.random()*x);deltaP.push(randomPressure+Math.random()*y);temp.push(currTemp);pressure.push(currPressure);}}setTempData(temp);setStillTimeData(stillTime);setPressureData(pressure);setDeltaP(deltaP);setDeltaTemp(delta);updateDataset(time,temp,pressure);};function handleChange(e){setRid(e.target.value);var recipe_id=e.target.value;db.collection('realData').where('recipe_id','==',\"\".concat(recipe_id)).onSnapshot(function(doc){var data=firebaseLooper(doc);console.log(data);setBatch(data);});}function handleBatchChange(e){setBatchId(e.target.value);var batch_id=e.target.value;var tempData=[];db.collection('realData').doc(batch_id).onSnapshot(function(doc){console.log(doc.data().temp_points);for(var i=0;i<doc.data().temp_points.length;i++){tempData.push(doc.data().temp_points[i].value);}setRealData(tempData);});db.collection('recipeeData').where('rid','==',\"\".concat(rid)).onSnapshot(function(doc){var data=firebaseLooper(doc);data.sort(function(a,b){return a.index-b.index;});setRdata(data);console.log(tempData);});}function handleSetChange(e){var mid=e.target.value;db.collection('recipes').where('mid','==',\"\".concat(mid)).onSnapshot(function(doc){var data=firebaseLooper(doc);setRecipes(data);});}return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:onButtonClick,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,style:{display:'flex',justifyContent:'space-evenly',marginLeft:'3%',marginBottom:'12px',marginTop:'5px'},children:[/*#__PURE__*/_jsx(Grid,{item:true,lg:3,sm:6,xl:3,xs:12,children:/*#__PURE__*/_jsxs(FormControl,{className:\"form-select mt-1 block w-full\",fullWidth:true,variant:\"outlined\",children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-outlined-label\",children:\"Select Machine\"}),/*#__PURE__*/_jsxs(Select,{label:\"Select Machine\",required:true,onChange:handleSetChange,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:/*#__PURE__*/_jsx(\"em\",{children:\"None\"})}),machines.map(function(data){return/*#__PURE__*/_jsx(MenuItem,{value:data.id,children:data.title});})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,lg:3,sm:6,xl:3,xs:12,children:/*#__PURE__*/_jsxs(FormControl,{className:\"form-select mt-1 block w-full\",fullWidth:true,variant:\"outlined\",children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-outlined-label\",children:\"Select Recipes\"}),/*#__PURE__*/_jsx(Select,{disabled:recipes.length===0,required:true,label:\"Select Recipes\",variant:\"outlined\",fullWidth:true,onChange:handleChange,children:recipes.map(function(data){return/*#__PURE__*/_jsx(MenuItem,{value:data.id,children:data.title});})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,lg:3,sm:6,xl:3,xs:12,children:/*#__PURE__*/_jsxs(FormControl,{className:\"form-select mt-1 block w-full\",fullWidth:true,variant:\"outlined\",children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-outlined-label\",children:\"Select Batch\"}),/*#__PURE__*/_jsx(Select,{disabled:batch.length===0,label:\"Select Batch\",fullWidth:true,variant:\"outlined\",onChange:function onChange(e){handleBatchChange(e);},children:batch.map(function(data){var _data$timestamp;return/*#__PURE__*/_jsx(MenuItem,{value:data.id,children:(_data$timestamp=data.timestamp)===null||_data$timestamp===void 0?void 0:_data$timestamp.toDate().toString().substring(0,15)});})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,lg:3,sm:6,xl:3,xs:12,children:/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\" mt-3 block \",style:{backgroundColor:'orange',color:'white'},children:\"Show Graph\"})})]})}),/*#__PURE__*/_jsx(Card,{style:{padding:'15px'},children:/*#__PURE__*/_jsx(\"canvas\",{style:{background:'black'},ref:chartContainer})})]});};export default TestGraph;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/TestGraph/TestGraph.jsx"],"names":["React","useEffect","useRef","useState","db","FetchRecipee","firebaseLooper","Button","Card","FormControl","FormHelperText","Grid","Input","InputLabel","MenuItem","Select","GraphSelect","Chartjs","chartConfig","type","data","labels","datasets","fill","label","yAxisID","borderWidth","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","options","plugins","zoom","wheel","enabled","pinch","mode","legend","position","fontColor","title","display","text","tooltips","interaction","intersect","responsive","scales","xAxes","stacked","ticks","autoSkip","maxTicksLimit","fontSize","animation","easing","major","fontStyle","yAxes","id","steps","min","TestGraph","recipes","setRecipes","rid","setRid","machines","setMachines","rData","setRdata","realData","setRealData","batch","setBatch","batchId","setBatchId","mid","setMid","time","temp","stillTime","pressure","delta","deltaP","realDatax","stillTimeData","setStillTimeData","deltaTemp","setDeltaTemp","deltaPressure","setDeltaP","tempData","setTempData","pressureData","setPressureData","chartContainer","chartInstance","setChartInstance","collection","onSnapshot","doc","current","newChartInstance","updateDataset","newData","update","setInterval","console","log","onButtonClick","e","preventDefault","x","y","z","randomTemp","randomPressure","currTemp","currPressure","currTime","index","length","temp1","time1","j","Math","floor","random","push","k","time2","handleChange","target","value","recipe_id","where","handleBatchChange","batch_id","temp_points","i","sort","a","b","handleSetChange","justifyContent","marginLeft","marginBottom","marginTop","map","timestamp","toDate","toString","substring","color","padding","background"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { db } from \"../firebase\";\nimport FetchRecipee from \"./FetchRecipee\";\nimport { firebaseLooper } from \"../utils/tools\";\nimport { Button, Card, FormControl, FormHelperText, Grid, Input, InputLabel, MenuItem, Select } from \"@material-ui/core\";\nimport GraphSelect from \"./GraphSelect\";\nimport Chartjs from \"chart.js\";\n\nconst chartConfig = {\n  type: \"line\",\n  data: {\n    labels: [],\n\n    datasets: [\n      {\n          fill: 'false',\n        label: \"Temperature\",\n         yAxisID: \"y-axis-0\",\n        data: [],\n        borderWidth: 1,\n        lineTension: 0.1,\n      backgroundColor: 'yellow',\n      borderColor: 'yellow',\n      borderCapStyle: 'butt',\n      borderDash: [],\n      borderDashOffset: 0.0,\n      borderJoinStyle: 'miter',\n      pointBorderColor: 'yellow',\n      pointBackgroundColor: 'yellow',\n      pointBorderWidth: 1,\n      pointHoverRadius: 5,\n      pointHoverBackgroundColor: '#ff7a00',\n      pointHoverBorderColor: '#7868e6',\n      pointHoverBorderWidth: 2,\n      pointRadius: 1,\n      pointHitRadius: 10,\n      },\n        {\n       \n          fill: 'false',\n           yAxisID: \"y-axis-1\",\n        label: \"Pressure\",\n        data: [],\n        lineTension: 0.1,\n      backgroundColor: 'orangered',\n      borderColor: 'orangered',\n      borderCapStyle: 'butt',\n      borderDash: [],\n      borderDashOffset: 0.0,\n      borderJoinStyle: 'miter',\n      pointBorderColor: 'orangered',\n      pointBackgroundColor: 'orangered',\n      pointBorderWidth: 1,\n      pointHoverRadius: 5,\n      pointHoverBackgroundColor: '#ff7a00',\n      pointHoverBorderColor: '#7868e6',\n      pointHoverBorderWidth: 2,\n      pointRadius: 1,\n      pointHitRadius: 10,\n        borderWidth: 1\n      },\n      {\n       yAxisID: \"y2\",\n      \n      label: 'RealTime',\n      fill: false,\n      lineTension: 0.1,\n      backgroundColor: 'green',\n      borderColor: 'green',\n      borderCapStyle: 'butt',\n      borderDash: [],\n      borderDashOffset: 0.0,\n      borderJoinStyle: 'miter',\n      pointBorderColor: 'green',\n      pointBackgroundColor: 'green',\n      pointBorderWidth: 1,\n      pointHoverRadius: 5,\n      pointHoverBackgroundColor: 'green',\n      pointHoverBorderColor: '#7868e6',\n      pointHoverBorderWidth: 2,\n      pointRadius: 1,\n      pointHitRadius: 10,\n      data: []\n    },\n     \n\n    ]\n  },\n  options: {\n    plugins: {\n      zoom: {\n        zoom: {\n          wheel: {\n            enabled: true,\n          },\n          pinch: {\n            enabled: true\n          },\n          mode: 'xy',\n        }}},\n     legend: {\n       position: 'bottom',\n        labels: {\n                  fontColor: 'white'\n         }\n              },\n    title: {\n      display: true,\n      text: \"Select/Change The Required to Showcase Data\"\n    },\n    \n    tooltips: {\n      mode: 'label'\n    },\n    interaction: {\n      mode: 'index',\n      intersect: false,\n    },\n    responsive: true,\n    scales: {\n     \n      xAxes: [{\n        display: true,\n        stacked: false,\n        ticks: {\n          autoSkip: true,\n          maxTicksLimit: 15,\n          fontColor: 'white',\n          fontSize: 10,\n          animation: {\n            \n            easing: 'linear'\n          }\n        }\n        \n      }],\n       ticks: {\n            major: {\n              fontStyle: 'bold',\n              fontColor: '#FF0000'\n            }\n          },\n      yAxes: [{\n        stacked: true,\n        position: \"left\",\n        id: \"y-axis-0\",\n        title: 'Temp Set Point',\n        ticks: {\n         \n          steps: 10,\n          min:-100,\n          fontColor: 'white',\n          fontSize: 14,\n           \n        },\n      \n         \n      },\n       {\n        stacked: false,\n        display: false,\n        position: \"left\",\n        id: \"y2\",\n        title: 'Realtime',\n        ticks: {\n         \n          steps: 10,\n       \n          fontColor: 'white',\n          fontSize: 14,\n          \n        },\n      \n         \n      },\n      {\n        stacked: false,\n        position: \"right\",\n        id: \"y-axis-1\",\n        fontColor: 'white',\n        ticks: {\n         steps: 100,\n          \n          fontColor: 'white',\n          fontSize: 14\n        },\n        \n        \n      },\n     ]\n    } \n  }\n};\n\nconst TestGraph = () => {\n    const [recipes, setRecipes] = useState([])\n    const [rid, setRid] = useState('')\n    const [machines, setMachines] = useState([])\n    const [rData, setRdata] = useState([])\n     const [realData, setRealData] = useState([])\n    const [batch, setBatch] = useState([])\n     const [batchId, setBatchId] = useState([])\n\n    const [mid, setMid] = useState('')\n      let time = []\n  let temp = []\n  let stillTime = []\n  let pressure = []\n  let delta =  []\n  let deltaP =[]\n  let realDatax = []\n\n  const [stillTimeData, setStillTimeData] = useState([])\n  const [deltaTemp, setDeltaTemp] = useState([])\n  const [deltaPressure, setDeltaP] = useState([])\n  const [tempData, setTempData] = useState([])\n  const [pressureData, setPressureData] = useState([])\n  const chartContainer = useRef(null);\n  const [chartInstance, setChartInstance] = useState(null);\n\n  useEffect(() => {\n    db.collection('machineData').onSnapshot(doc => {\n            const data = firebaseLooper(doc)\n            setMachines(data)\n        })\n\n    if (chartContainer && chartContainer.current) {\n      const newChartInstance = new Chartjs(chartContainer.current, chartConfig);\n      setChartInstance(newChartInstance);\n    }\n  }, [chartContainer]);\n\n  const updateDataset = (time, newData, pressure) => {\n      chartInstance.data.labels = time\n    chartInstance.data.datasets[0].data = newData;\n    chartInstance.data.datasets[1].data = pressure;\n     chartInstance.data.datasets[2].data = realData;\n    chartInstance.update();\n  };\n \n\nsetInterval(function(){\n    \n    console.log('called database once')\n}, 30000)\n  const onButtonClick = (e) => {\n    e.preventDefault()\n      var x, y, z;\n      var randomTemp, randomPressure;\n      let currTemp=0; let currPressure= 800; let currTime = 0;\n    for (let index = 0; index < rData.length; index++) {\n      x = (rData[index].temp1 - currTemp)/rData[index].time1\n      y = (rData[index].pressure - currPressure)/rData[index].time1\n     \n      for (let j = 0; j < rData[index].time1 ; j++) {\n          currTime++;\n          currTemp = currTemp + x;\n          randomTemp = currTemp + Math.floor(Math.random() * x)\n          currPressure = currPressure + y\n           randomPressure = currPressure+ Math.floor(Math.random() * y)\n          time.push(currTime)\n          temp.push(currTemp)\n          pressure.push(currPressure)\n          delta.push(randomTemp)\n          deltaP.push(randomPressure)\n          \n      }\n\n      for (let k = 0; k < rData[index].time2; k++) {\n          currTime++\n          time.push(currTime)\n          delta.push(randomTemp + Math.random() * x)\n          deltaP.push (randomPressure + Math.random()*y)\n          temp.push(currTemp)\n          pressure.push(currPressure)\n         \n         \n     \n      }\n    }\n \n  setTempData(temp)\n  setStillTimeData(stillTime)\n  setPressureData(pressure)\n  setDeltaP(deltaP)\n  setDeltaTemp(delta)\n\n    \n    updateDataset(time, temp, pressure);\n  };\n    \n    function handleChange(e){\n        setRid(e.target.value)\n        const recipe_id = e.target.value\n        db.collection('realData').where('recipe_id', '==',`${recipe_id}`).onSnapshot(doc => {\n            const data = firebaseLooper(doc)\n            console.log(data)\n            setBatch(data)\n        })\n     \n       \n    }\n   \n    function handleBatchChange(e){\n        setBatchId(e.target.value)\n        let batch_id = e.target.value\n        let tempData = []\n        db.collection('realData').doc(batch_id).onSnapshot(doc => {\n           console.log(doc.data().temp_points)\n           for(let i = 0; i < doc.data().temp_points.length; i++){\n             tempData.push(doc.data().temp_points[i].value)\n           }\n     setRealData(tempData)\n    \n    })\n        db.collection('recipeeData').where('rid', '==', `${rid}`).onSnapshot(doc => {\n            const data = firebaseLooper(doc)\n             data.sort(function(a,b) {\n                return(a.index-b.index)\n            })\n            setRdata(data)\n          console.log(tempData)\n        })\n       \n       \n    }\n    function handleSetChange(e){\n        let mid = e.target.value\n       db.collection('recipes').where('mid', '==',`${mid}`).onSnapshot(doc => {\n            const data = firebaseLooper(doc)\n            setRecipes(data)\n        })\n    }\n \n  return (\n      <Card >\n        <form onSubmit={onButtonClick}>\n          <Grid container spacing={3} style={{display: 'flex', justifyContent: 'space-evenly', marginLeft: '3%', marginBottom: '12px', marginTop: '5px'}} >\n             \n                  <Grid item  lg={3}\n            sm={6}\n            xl={3}\n            xs={12} >\n                 <FormControl className='form-select mt-1 block w-full'  fullWidth variant=\"outlined\">\n                 <InputLabel id=\"demo-simple-select-outlined-label\">Select Machine</InputLabel>\n                     <Select\n                     label='Select Machine'\n                     required\n                    onChange={handleSetChange} >\n                           <MenuItem value=\"\">\n                          <em>None</em>\n                         </MenuItem>\n                    {\n                        machines.map(data => (\n                            <MenuItem value={data.id}>{data.title}</MenuItem>\n                        ))\n                    } \n                    </Select>\n                    \n                 </FormControl>\n                    \n                  </Grid>\n                    \n     \n             \n              <Grid item lg={3}\n            sm={6}\n            xl={3}\n            xs={12} >\n                  <FormControl className='form-select mt-1 block w-full'  fullWidth variant=\"outlined\">\n                  <InputLabel id=\"demo-simple-select-outlined-label\">Select Recipes</InputLabel>\n                   <Select disabled={recipes.length === 0}  required label=\"Select Recipes\"  variant='outlined'  fullWidth onChange={handleChange} >\n                       \n                    {\n                        recipes.map(data => (\n                            <MenuItem value={data.id}>{data.title}</MenuItem>\n                        ))\n                    } \n                    </Select>\n                  </FormControl>\n                  \n                  \n                    \n              </Grid>\n              <Grid item lg={3}\n            sm={6}\n            xl={3}\n            xs={12}>\n                  <FormControl  className='form-select mt-1 block w-full'  fullWidth variant=\"outlined\">\n                  <InputLabel id=\"demo-simple-select-outlined-label\">Select Batch</InputLabel>\n                   <Select disabled={batch.length === 0} label='Select Batch'  fullWidth variant='outlined' onChange={(e) => {handleBatchChange(e) }}>\n                      \n                    {\n                        batch.map(data => (\n                            <MenuItem value={data.id}>{data.timestamp?.toDate().toString().substring(0,15)}</MenuItem>\n                        ))\n                    } \n                    </Select>\n                  </FormControl>\n                  \n                  \n              </Grid>\n              <Grid \n              item lg={3}\n            sm={6}\n            xl={3}\n            xs={12}\n              >\n                <Button type=\"submit\" className=' mt-3 block ' style={{backgroundColor: 'orange', color: 'white'}}>Show Graph</Button>\n              </Grid>\n              \n          </Grid>\n          </form>\n                    <Card style={{padding: '15px'}}>\n                      <canvas style={{background: 'black'}} ref={chartContainer} />\n                    </Card>\n    \n   \n    </Card>\n  );\n}\n\nexport default TestGraph;"]},"metadata":{},"sourceType":"module"}