{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useEffect,useState}from'react';import{Button,Card,Container,makeStyles,TableCell,TableFooter,TablePagination,TableRow,TextField,Typography,useTheme}from'@material-ui/core';import{db}from'../../firebase';import{firebaseLooper}from'../../utils/tools';import RecipeData from'./RecipeData';import IconButton from'@material-ui/core/IconButton';import FirstPageIcon from'@material-ui/icons/FirstPage';import KeyboardArrowLeft from'@material-ui/icons/KeyboardArrowLeft';import KeyboardArrowRight from'@material-ui/icons/KeyboardArrowRight';import LastPageIcon from'@material-ui/icons/LastPage';import ContentDashboardLayout from'../../components/ContentSidebar/ContentDashboardLayout';import{Autocomplete}from'@material-ui/lab';import{NavLink}from'react-router-dom';import SearchIcon from'@material-ui/icons/Search';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{layoutRoot:{backgroundColor:'white',display:'flex',height:'100%',overflow:'hidden',width:'100%'},avatar:{margin:theme.spacing(1),backgroundColor:'#141256'},wrapper:_defineProperty({display:'flex',flex:'1 1 auto',overflow:'hidden',paddingTop:64},theme.breakpoints.up('lg'),{paddingLeft:256}),container:{display:'flex',flex:'1 1 auto',overflow:'hidden'},content:{padding:'20px',flex:'1 1 auto',height:'100%',overflow:'auto'},table:{minWidth:500},root:{flexShrink:0,marginLeft:theme.spacing(2.5)}};});function TablePaginationActions(props){var classes=useStyles();var theme=useTheme();var count=props.count,page=props.page,rowsPerPage=props.rowsPerPage,onChangePage=props.onChangePage;var handleFirstPageButtonClick=function handleFirstPageButtonClick(event){onChangePage(event,0);};var handleBackButtonClick=function handleBackButtonClick(event){onChangePage(event,page-1);};var handleNextButtonClick=function handleNextButtonClick(event){onChangePage(event,page+1);};var handleLastPageButtonClick=function handleLastPageButtonClick(event){onChangePage(event,Math.max(0,Math.ceil(count/rowsPerPage)-1));};return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleFirstPageButtonClick,disabled:page===0,\"aria-label\":\"first page\",children:theme.direction==='rtl'?/*#__PURE__*/_jsx(LastPageIcon,{}):/*#__PURE__*/_jsx(FirstPageIcon,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:handleBackButtonClick,disabled:page===0,\"aria-label\":\"previous page\",children:theme.direction==='rtl'?/*#__PURE__*/_jsx(KeyboardArrowRight,{}):/*#__PURE__*/_jsx(KeyboardArrowLeft,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:handleNextButtonClick,disabled:page>=Math.ceil(count/rowsPerPage)-1,\"aria-label\":\"next page\",children:theme.direction==='rtl'?/*#__PURE__*/_jsx(KeyboardArrowLeft,{}):/*#__PURE__*/_jsx(KeyboardArrowRight,{})}),/*#__PURE__*/_jsx(IconButton,{onClick:handleLastPageButtonClick,disabled:page>=Math.ceil(count/rowsPerPage)-1,\"aria-label\":\"last page\",children:theme.direction==='rtl'?/*#__PURE__*/_jsx(FirstPageIcon,{}):/*#__PURE__*/_jsx(LastPageIcon,{})})]});}var Recipes=function Recipes(_ref){var match=_ref.match;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var classes=useStyles();var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),recipe=_useState4[0],setRecipe=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),mTitle=_useState6[0],setMTitle=_useState6[1];var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),page=_React$useState2[0],setPage=_React$useState2[1];var _React$useState3=React.useState(5),_React$useState4=_slicedToArray(_React$useState3,2),rowsPerPage=_React$useState4[0],setRowsPerPage=_React$useState4[1];var emptyRows=rowsPerPage-Math.min(rowsPerPage,recipe.length-page*rowsPerPage);var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(parseInt(event.target.value,10));setPage(0);};useEffect(function(){db.collection('machineData').doc(match.params.id).onSnapshot(function(doc){setMTitle(doc.data().title);});db.collection('recipes').where('mid','==',\"\".concat(match.params.id)).onSnapshot(function(doc){var data=firebaseLooper(doc);setRecipe(data);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"px-2\",children:[/*#__PURE__*/_jsx(ContentDashboardLayout,{match:match}),/*#__PURE__*/_jsx(\"div\",{className:classes.wrapper,children:/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:/*#__PURE__*/_jsx(Card,{className:classes.content,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',paddingLeft:'2.2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{style:{color:'black'},variant:\"h1\",align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Recipe Data\"})}),/*#__PURE__*/_jsx(Typography,{align:\"left\",variant:\"body2\",children:\" These are all the required Recipe Data \"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{style:{border:'2px solid whitesmoke'},onChange:function onChange(e){return setSearchTerm(e.target.value);},type:\"text\",className:\"h-14 w-96 pr-8 pl-5 rounded z-0 focus:shadow focus:outline-none\",placeholder:\"Search Recipes...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-4 right-3\",children:[/*#__PURE__*/_jsx(SearchIcon,{style:{opacity:'0.5'}}),\"  \"]})]}),/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"contained\",style:{width:'150px',marginLeft:'4%',marginRight:'2%',color:'white'},component:NavLink,to:\"/machine-data/Reports/\".concat(match.params.id,\"/Add-Recipes\"),children:\"ADD New \"}),/*#__PURE__*/_jsx(\"hr\",{})]})})]}),/*#__PURE__*/_jsx(\"div\",{style:{paddingLeft:'2.2rem'},children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),(rowsPerPage>0?recipe.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage):recipe).filter(function(data){var _data$title;if(searchTerm===\"\"){return data;}else if((_data$title=data.title)===null||_data$title===void 0?void 0:_data$title.toLowerCase().includes(searchTerm.toLocaleLowerCase())){return data;}}).map(function(data){return/*#__PURE__*/_jsx(RecipeData,{rows:data,match:match},data.id);}),emptyRows>0&&/*#__PURE__*/_jsx(TableRow,{style:{height:53*emptyRows},children:/*#__PURE__*/_jsx(TableCell,{colSpan:6})}),/*#__PURE__*/_jsx(TableFooter,{style:{display:'flex',justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[5,10,25,{label:'All',value:-1}],colSpan:3,count:recipe.length,rowsPerPage:rowsPerPage,page:page,SelectProps:{inputProps:{'aria-label':'rows per page'},native:true},onChangePage:handleChangePage,onChangeRowsPerPage:handleChangeRowsPerPage,ActionsComponent:TablePaginationActions})})})]})})]})})})})]});};export default Recipes;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/Recipee/Recipes.jsx"],"names":["React","useEffect","useState","Button","Card","Container","makeStyles","TableCell","TableFooter","TablePagination","TableRow","TextField","Typography","useTheme","db","firebaseLooper","RecipeData","IconButton","FirstPageIcon","KeyboardArrowLeft","KeyboardArrowRight","LastPageIcon","ContentDashboardLayout","Autocomplete","NavLink","SearchIcon","useStyles","theme","layoutRoot","backgroundColor","display","height","overflow","width","avatar","margin","spacing","wrapper","flex","paddingTop","breakpoints","up","paddingLeft","container","content","padding","table","minWidth","root","flexShrink","marginLeft","TablePaginationActions","props","classes","count","page","rowsPerPage","onChangePage","handleFirstPageButtonClick","event","handleBackButtonClick","handleNextButtonClick","handleLastPageButtonClick","Math","max","ceil","direction","Recipes","match","searchTerm","setSearchTerm","recipe","setRecipe","mTitle","setMTitle","setPage","setRowsPerPage","emptyRows","min","length","handleChangePage","newPage","handleChangeRowsPerPage","parseInt","target","value","collection","doc","params","id","onSnapshot","data","title","where","justifyContent","color","border","e","opacity","marginRight","slice","filter","toLowerCase","includes","toLocaleLowerCase","map","label","inputProps","native"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport { Button, Card, Container, makeStyles, TableCell, TableFooter, TablePagination, TableRow, TextField, Typography, useTheme } from '@material-ui/core';\nimport { db } from '../../firebase';\nimport { firebaseLooper } from '../../utils/tools';\nimport RecipeData from './RecipeData';\nimport IconButton from '@material-ui/core/IconButton';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport PropTypes from 'prop-types';\nimport ContentDashboardLayout from '../../components/ContentSidebar/ContentDashboardLayout';\nimport { Autocomplete } from '@material-ui/lab';\nimport { NavLink } from 'react-router-dom';\nimport SearchIcon from '@material-ui/icons/Search';\n\nconst useStyles = makeStyles((theme) => ({\n  layoutRoot: {\n    backgroundColor: 'white',\n    display: 'flex',\n    height: '100%',\n    overflow: 'hidden',\n    width: '100%',\n     \n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: '#141256',\n  },\n wrapper: {\n  display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden',\n  paddingTop: 64,\n  [theme.breakpoints.up('lg')]: {\n    paddingLeft: 256\n  }\n  },\n  container: {\n      display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden'\n  },\n  content: {\n     padding: '20px',\n      flex: '1 1 auto',\n  height: '100%',\n  overflow: 'auto'\n    },\n     table: {\n    minWidth: 500,\n  },\n  root: {\n    flexShrink: 0,\n    marginLeft: theme.spacing(2.5),\n  },\n}));\n\nTablePaginationActions.propTypes = {\n  count: PropTypes.number.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  rowsPerPage: PropTypes.number.isRequired,\n};\n\n\n\nfunction TablePaginationActions(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { count, page, rowsPerPage, onChangePage } = props;\n\n  const handleFirstPageButtonClick = (event) => {\n    onChangePage(event, 0);\n  };\n\n  const handleBackButtonClick = (event) => {\n    onChangePage(event, page - 1);\n  };\n\n  const handleNextButtonClick = (event) => {\n    onChangePage(event, page + 1);\n  };\n\n  const handleLastPageButtonClick = (event) => {\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n  };\n\n  return (\n    <div className={classes.root}>\n      <IconButton\n        onClick={handleFirstPageButtonClick}\n        disabled={page === 0}\n        aria-label=\"first page\"\n      >\n        {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\n      </IconButton>\n      <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\n        {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n      </IconButton>\n      <IconButton\n        onClick={handleNextButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label=\"next page\"\n      >\n        {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n      </IconButton>\n      <IconButton\n        onClick={handleLastPageButtonClick}\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n        aria-label=\"last page\"\n      >\n        {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\n      </IconButton>\n    </div>\n  );\n}\n\n\nconst Recipes = ({match}) => {\n    const [searchTerm, setSearchTerm] = useState('')\n    const classes = useStyles()\n    const [ recipe, setRecipe] = useState([])\n     const [mTitle, setMTitle] = useState('')\n     const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\n\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, recipe.length - page * rowsPerPage);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n\n    useEffect(() => {\n      db.collection('machineData')\n       .doc(match.params.id)\n        .onSnapshot(doc => {\n         setMTitle(doc.data().title)\n        })\n        db.collection('recipes').where('mid', '==', `${match.params.id}`).onSnapshot(doc => {\n            const data = firebaseLooper(doc)\n            setRecipe(data)\n        })\n    }, [])\n   \n\n    return (\n        <div className=\"px-2\">\n        <ContentDashboardLayout match={match} />\n         <div className={classes.wrapper}>\n        <div className={classes.container}>\n          <Card className={classes.content}>\n            < >\n            <div style={{display: 'flex', justifyContent: 'space-between', paddingLeft: '2.2rem'}}>\n             \n             <div>\n                <Typography style={{color: 'black'}} variant='h1' align='left'><b>Recipe Data</b></Typography>\n                 <Typography align='left' variant='body2' > These are all the required Recipe Data </Typography>\n             </div>\n             <div>\n             <div style={{display: 'flex', justifyContent: 'flex-end'}}>\n              \n              <div className=\"relative\"> \n           <input style={{ border: '2px solid whitesmoke'}} onChange={(e) => setSearchTerm(e.target.value)} type=\"text\" className=\"h-14 w-96 pr-8 pl-5 rounded z-0 focus:shadow focus:outline-none\" placeholder=\"Search Recipes...\"/>\n            <div className=\"absolute top-4 right-3\"><SearchIcon style={{opacity: '0.5'}}/>  </div>\n        </div>\n              <Button color='primary' variant='contained' style={{width: '150px', marginLeft: '4%', marginRight: '2%',  color: 'white'}} component={NavLink} to={`/machine-data/Reports/${match.params.id}/Add-Recipes`}>ADD New </Button>\n      \n      <hr/>\n        </div>\n             </div>\n           </div>\n        <div style={{paddingLeft: '2.2rem'}}>\n          <>\n            \n        \n              <br/>\n               \n              <br/>\n              {(rowsPerPage > 0\n            ? recipe.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n            : recipe\n          ).\n           filter((data) => {\n              if(searchTerm === \"\"){\n                  return data\n              } else if (data.title?.toLowerCase().includes(searchTerm.toLocaleLowerCase())){\n                      return data\n                      }\n          })\n          .map((data) => (\n            <RecipeData key={data.id} rows={data} match={match} />\n          ))}\n           \n           \n          {emptyRows > 0 && (\n            <TableRow style={{ height: 53 * emptyRows }}>\n              <TableCell colSpan={6} />\n            </TableRow>\n          )}\n            <TableFooter style={{display: 'flex', justifyContent: 'flex-end'}}>\n          <TableRow>\n            <TablePagination\n              rowsPerPageOptions={[5, 10, 25, { label: 'All', value: -1 }]}\n              colSpan={3}\n              count={recipe.length}\n              rowsPerPage={rowsPerPage}\n              page={page}\n              SelectProps={{\n                inputProps: { 'aria-label': 'rows per page' },\n                native: true,\n              }}\n              onChangePage={handleChangePage}\n              onChangeRowsPerPage={handleChangeRowsPerPage}\n              ActionsComponent={TablePaginationActions}\n            />\n          </TableRow>\n              \n        </TableFooter>\n          </>\n        </div>\n      </>\n          </Card>\n        </div>\n      </div>\n         \n      </div>\n     \n    )\n}\n\nexport default Recipes\n"]},"metadata":{},"sourceType":"module"}