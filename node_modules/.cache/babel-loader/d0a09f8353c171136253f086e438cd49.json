{"ast":null,"code":"var _jsxFileName = \"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/IQ/IQPages.jsx/IQSoftwarePage.jsx\",\n    _s = $RefreshSig$();\n\nimport { Dialog, Paper, TableCell, TableContainer, TableHead, TableRow, Typography, Toolbar, DialogContent, DialogActions, Button, TextField } from \"@material-ui/core\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport { db } from \"../../../firebase\";\nimport { firebaseLooper } from \"../../../utils/tools\";\nimport { useStorage } from \"../../../utils/useStorage\";\nimport ControlView from \"../IQComponents/ControlView\";\nimport DrawView from \"../IQComponents/DrawView\";\nimport IQConfigView from \"../IQComponents/IQConfigView\";\nimport IQHeader from \"../IQComponents/IQHeader\";\nimport PanelView from \"../IQComponents/PanelView\";\nimport SoftDetailView from \"../IQComponents/SOftDetailsView\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction IQSoftwarePage({\n  match,\n  sid\n}) {\n  _s();\n\n  const [contents, setContents] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [title, setTitle] = useState('');\n  const [desc, setDesc] = useState('');\n  const [make, setMake] = useState('');\n  const [tag_no, setTag] = useState('');\n  const [type, setType] = useState('');\n  const [serial_no, setSerial] = useState('');\n  const [dno, setDno] = useState('');\n  const [file, setFile] = useState(null);\n\n  const handleChange = loadedFiles => {\n    let selectedFile = loadedFiles[0];\n    setFile(selectedFile);\n  };\n\n  const {\n    progress,\n    url\n  } = useStorage(file);\n  useEffect(() => {\n    db.collection('IQ').doc(match.params.id).collection('content').doc('software').collection('softwareDetails').where('sid', '==', `${sid}`).onSnapshot(snapshot => {\n      const data = firebaseLooper(snapshot);\n      data.sort(function (a, b) {\n        return a.index - b.index;\n      });\n      setContents(data);\n    });\n  }, []);\n\n  function handleOpen() {\n    setOpen(true);\n  }\n\n  function handleClose() {\n    setOpen(false);\n  }\n\n  function handleSubmit() {\n    const index = contents.length;\n    db.collection('IQ').doc(match.params.id).collection('content').doc('software').collection('softwareDetails').add({\n      title,\n      desc,\n      index,\n      make,\n      type,\n      serial_no,\n      sid,\n      url\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n      style: {\n        display: 'flex',\n        justifyContent: 'flex-end'\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleOpen,\n        style: {\n          background: 'orange',\n          color: 'white'\n        },\n        children: \"Add Items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        \"aria-label\": \"simple table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                className: \"text-lg font-bold italic\",\n                children: \"Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                className: \"text-lg font-bold italic\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 28\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                className: \"text-lg font-bold italic\",\n                children: \"Model/Serial No.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 28\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                className: \"text-lg font-bold italic\",\n                children: \"Make\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 28\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                className: \"text-lg font-bold italic\",\n                children: \"Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 28\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                className: \"text-lg font-bold italic\",\n                children: \"Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 30\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                className: \"text-lg font-bold italic\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 4\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 4\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 4\n        }, this), contents.map(module => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(SoftDetailView, {\n            module: module,\n            match: match\n          }, module.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 8\n          }, this)\n        }, void 0, false))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h3\",\n        align: \"center\",\n        gutterBottom: true,\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Add new items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 2\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          style: {\n            marginBottom: '3%'\n          },\n          variant: \"outlined\",\n          label: \"Title\",\n          fullWidth: true,\n          onChange: e => setTitle(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          style: {\n            marginBottom: '3%'\n          },\n          variant: \"outlined\",\n          label: \"Version/Serial No.\",\n          fullWidth: true,\n          onChange: e => setSerial(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          style: {\n            marginBottom: '3%'\n          },\n          variant: \"outlined\",\n          label: \"Type/Rating\",\n          fullWidth: true,\n          onChange: e => setType(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          style: {\n            marginBottom: '3%'\n          },\n          variant: \"outlined\",\n          label: \"Make/Vendor\",\n          fullWidth: true,\n          onChange: e => setMake(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          multiLine: true,\n          rows: 7,\n          variant: \"outlined\",\n          label: \"Description\",\n          fullWidth: true,\n          onChange: e => setDesc(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(DropzoneArea, {\n          showPreviews: true,\n          showFileNames: true,\n          onChange: loadedFiles => handleChange(loadedFiles),\n          dropzoneText: \"Drag and Drop / Click to Add Files\",\n          showPreviewsInDropzone: false,\n          useChipsForPreview: true,\n          showAlerts: false,\n          filesLimit: 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: [progress, \"% Uploaded\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'center'\n          },\n          children: url && /*#__PURE__*/_jsxDEV(\"img\", {\n            width: \"300\",\n            height: \"200\",\n            src: url,\n            alt: \"image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 2\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          color: \"secondary\",\n          onClick: handleClose,\n          variant: \"contained\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          disabled: title === '' || desc === '' || url === null,\n          onClick: handleSubmit,\n          style: {\n            background: 'orange',\n            color: 'white'\n          },\n          children: \"Add New\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 2\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 3\n  }, this);\n}\n\n_s(IQSoftwarePage, \"ANNd7p/QY+oqlOJSFesXP5QAeuU=\", false, function () {\n  return [useStorage];\n});\n\n_c = IQSoftwarePage;\nexport default IQSoftwarePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"IQSoftwarePage\");","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/IQ/IQPages.jsx/IQSoftwarePage.jsx"],"names":["Dialog","Paper","TableCell","TableContainer","TableHead","TableRow","Typography","Toolbar","DialogContent","DialogActions","Button","TextField","DropzoneArea","useEffect","useState","Table","db","firebaseLooper","useStorage","ControlView","DrawView","IQConfigView","IQHeader","PanelView","SoftDetailView","IQSoftwarePage","match","sid","contents","setContents","open","setOpen","title","setTitle","desc","setDesc","make","setMake","tag_no","setTag","type","setType","serial_no","setSerial","dno","setDno","file","setFile","handleChange","loadedFiles","selectedFile","progress","url","collection","doc","params","id","where","onSnapshot","snapshot","data","sort","a","b","index","handleOpen","handleClose","handleSubmit","length","add","display","justifyContent","background","color","map","module","marginBottom","e","target","value"],"mappings":"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","sourcesContent":["import { Dialog, Paper, TableCell, TableContainer, TableHead, TableRow, Typography,Toolbar, DialogContent, DialogActions, Button, TextField } from \"@material-ui/core\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport { db } from \"../../../firebase\";\nimport { firebaseLooper } from \"../../../utils/tools\";\nimport { useStorage } from \"../../../utils/useStorage\";\nimport ControlView from \"../IQComponents/ControlView\";\nimport DrawView from \"../IQComponents/DrawView\";\nimport IQConfigView from \"../IQComponents/IQConfigView\";\nimport IQHeader from \"../IQComponents/IQHeader\";\nimport PanelView from \"../IQComponents/PanelView\";\nimport SoftDetailView from \"../IQComponents/SOftDetailsView\";\n\nfunction IQSoftwarePage({match, sid}) {\n\tconst [contents, setContents] = useState([])\n\tconst [open, setOpen] = useState(false)\n\tconst [title, setTitle] = useState('')\n\tconst [desc, setDesc] = useState('')\n\tconst [make, setMake] = useState('')\n\tconst [tag_no, setTag] = useState('')\n\tconst [type, setType] = useState('')\n\tconst [serial_no, setSerial] = useState('')\n\tconst [dno, setDno] = useState('')\n\tconst [file, setFile] = useState(null)\n\n\tconst handleChange = (loadedFiles) => {\n        let selectedFile = loadedFiles[0]\n        setFile(selectedFile)\n       \n    }\n\n    const { progress, url } = useStorage(file);\n\n\tuseEffect(() => {\n\t\tdb.collection('IQ').doc(match.params.id)\n\t\t.collection('content').doc('software')\n\t\t.collection('softwareDetails')\n\t\t.where('sid', '==', `${sid}`)\n\t\t.onSnapshot(snapshot => {\n\t\t\tconst data = firebaseLooper(snapshot)\n\t\t\tdata.sort(function(a,b){\n\t\t\t\treturn (a.index - b.index)\n\t\t\t})\n\t\t\tsetContents(data)\n\t\t})\n\t}, [])\n\tfunction handleOpen(){\n\t\tsetOpen(true)\n\t}\n\tfunction handleClose(){\n\t\tsetOpen(false)\n\t}\n\t\n\tfunction handleSubmit(){\n\t\tconst index = contents.length\n\t\tdb.collection('IQ').doc(match.params.id)\n\t\t.collection('content').doc('software')\n\t\t.collection('softwareDetails').add({title,desc,index,make,type,serial_no,sid,url})\n\t}\n\treturn (\n\t\t<div>\n\t\t\t\n\t\t\t<Toolbar style={{display: 'flex', justifyContent: 'flex-end'}}>\n\t\t\t\t<Button onClick={handleOpen} style={{background: 'orange', color: 'white'}}>Add Items</Button>\n\t\t\t</Toolbar>\n\n\t\t\t<TableContainer component={Paper}>\n\t\t<Table  aria-label=\"simple table\">\n\t\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t<TableCell><b className='text-lg font-bold italic'>Title</b></TableCell>\n\t\t\t\n\t\t\t<TableCell align=\"left\"><b className='text-lg font-bold italic'>Description</b></TableCell>\n\t\t\t<TableCell align=\"left\"><b className='text-lg font-bold italic'>Model/Serial No.</b></TableCell>\n\t\t\t<TableCell align=\"left\"><b className='text-lg font-bold italic'>Make</b></TableCell>\n\t\t\t<TableCell align=\"left\"><b className='text-lg font-bold italic'>Type</b></TableCell>\n\t\t\t<TableCell align=\"center\"><b className='text-lg font-bold italic'>Image</b></TableCell>\n\t\t\t<TableCell align=\"right\"><b className='text-lg font-bold italic'>Actions</b></TableCell>\n\t\t\t</TableRow>\n\t\t\t</TableHead>\n\t\t\t\t\t{\n\t\t\t\t\t\tcontents.map(module => (\n\t\t\t\t\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<SoftDetailView module={module} match={match} key={module.id}/>\t\n\t\t\t\n\t\t\t\t\t</>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t</Table>\n\t\t</TableContainer>\n\t\t<Dialog open={open} onClose={handleClose} fullWidth>\n\t<Typography variant='h3' align='center' gutterBottom><b>Add new items</b></Typography>\n\t<DialogContent>\n\t\t<TextField style={{marginBottom: '3%'}} variant='outlined' label='Title' fullWidth onChange={(e) => setTitle(e.target.value)}/>\n\t\t\n\t\t<TextField style={{marginBottom: '3%'}} variant='outlined' label='Version/Serial No.' fullWidth onChange={(e) => setSerial(e.target.value)}/>\n\t\t<TextField style={{marginBottom: '3%'}} variant='outlined' label='Type/Rating' fullWidth onChange={(e) => setType(e.target.value)}/>\n\t\t<TextField style={{marginBottom: '3%'}} variant='outlined' label='Make/Vendor' fullWidth onChange={(e) => setMake(e.target.value)}/>\n\t\t<TextField multiLine rows={7} variant='outlined' label='Description' fullWidth onChange={(e) => setDesc(e.target.value)}/>\t\n\t\t <DropzoneArea\n       showPreviews={true}\n     \n        showFileNames\n        onChange={(loadedFiles) => handleChange(loadedFiles)}\n        dropzoneText=\"Drag and Drop / Click to Add Files\"\n        showPreviewsInDropzone={false}\n         useChipsForPreview\n        showAlerts={false}\n        filesLimit={1}\n      />\n    \n\t\t\t\t\t<h5>{progress}% Uploaded</h5>\n\t\t\t\t<div style={{display: 'flex', justifyContent: 'center'}}>\n\t\t\t\t\t{url &&\t<img width='300' height='200' src={url} alt='image'/>}\n\t\t\t\t</div>\n\t</DialogContent>\n\t<DialogActions>\n\t\t<Button color='secondary' onClick={handleClose} variant='contained'>Cancel</Button>\n\t\t<Button disabled={title === '' || desc==='' || url === null} onClick={handleSubmit} style={{background: 'orange', color: 'white'}}>Add New</Button>\n\t</DialogActions>\n</Dialog>\n\t\t</div>\n\t)\n}\n\nexport default IQSoftwarePage\n"]},"metadata":{},"sourceType":"module"}