{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{Button,Card,Container,FormHelperText,makeStyles,TextField,Typography}from'@material-ui/core';import Alert from'@material-ui/lab/Alert';import React,{useState}from'react';import{useHistory}from'react-router-dom';import ContentDashboardLayout from'../../components/ContentSidebar/ContentDashboardLayout';import{db}from'../../firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:'#141256'},form:{alignItems:\"center\",justifyContent:\"center\",width:'90%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{backgroundImage:'linear-gradient(to left bottom, #fa630f, #fc8218, #fd9d29, #feb63f, #ffce59)',color:\"white\",borderRadius:'20px',margin:theme.spacing(3,0,2)},wrapper:_defineProperty({display:'flex',flex:'1 1 auto',overflow:'hidden',paddingTop:64},theme.breakpoints.up('lg'),{paddingLeft:256}),container:{display:'flex',flex:'1 1 auto',overflow:'hidden'},content:{flex:'1 1 auto',height:'100%',overflow:'auto'}};});var AddManuals=function AddManuals(_ref){var match=_ref.match;var classes=useStyles();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setContentName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),desc=_useState6[0],setDesc=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(match.params.id),_useState10=_slicedToArray(_useState9,2),mid=_useState10[0],setMid=_useState10[1];var history=useHistory();var handleSubmit=function handleSubmit(e){e.preventDefault();if((title===null||title===void 0?void 0:title.trim().length)===0||(desc===null||desc===void 0?void 0:desc.trim().length)===0){return setError(\"Empty Spaces are not accepted as inputs! Please try again with a valid input!\");}var manuals={title:title,mid:mid,desc:desc};setLoading(true);db.collection('manualData').add(manuals).then(function(data){console.log(data);history.push(\"/machine-data/Manuals/\".concat(match.params.id,\"/Manuals\"));});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ContentDashboardLayout,{match:match}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:classes.wrapper,children:/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:/*#__PURE__*/_jsx(Card,{className:classes.content,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"You are currently adding a new Manual\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Typography,{align:\"center\",component:\"h1\",variant:\"h2\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Add Manuals\"})}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),/*#__PURE__*/_jsx(TextField,{value:mid,fullWidth:true,variant:\"outlined\",margin:\"normal\",label:\"Machine id\",disabled:true,onChange:function onChange(e){return setMid(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{value:title,error:title.length>30,variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"content_name\",label:\"Manual Title\",name:\"content_name\",autoFocus:true,onChange:function onChange(e){return setContentName(e.target.value);}}),/*#__PURE__*/_jsxs(FormHelperText,{children:[\"Title should be max \",title.length,\"/ 30 characters\"]}),/*#__PURE__*/_jsx(TextField,{rows:5,multiline:true,value:desc,variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"content_name\",label:\"Manual Description\",name:\"content_name\",error:desc.length>150,onChange:function onChange(e){return setDesc(e.target.value);}}),/*#__PURE__*/_jsxs(FormHelperText,{children:[\"Description should be max \",desc.length,\"/150 characters \"]}),!loading&&/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",disabled:desc.length>150||title.length>30,className:classes.submit,children:\"Add Manual\"}),loading&&/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",disabled:true,className:classes.submit,children:\"Adding Manual...\"})]})]})})})})})]});};export default AddManuals;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/Manuals/AddManuals.jsx"],"names":["Button","Card","Container","FormHelperText","makeStyles","TextField","Typography","Alert","React","useState","useHistory","ContentDashboardLayout","db","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","form","justifyContent","width","submit","backgroundImage","color","borderRadius","wrapper","flex","overflow","paddingTop","breakpoints","up","paddingLeft","container","content","height","AddManuals","match","classes","title","setContentName","error","setError","desc","setDesc","loading","setLoading","params","id","mid","setMid","history","handleSubmit","e","preventDefault","trim","length","manuals","collection","add","then","data","console","log","push","target","value"],"mappings":"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","sourcesContent":["import { Button, Card, Container, FormHelperText, makeStyles, TextField, Typography } from '@material-ui/core'\nimport Alert from '@material-ui/lab/Alert';\nimport React, { useState } from 'react';\nimport {useHistory} from 'react-router-dom'\nimport ContentDashboardLayout from '../../components/ContentSidebar/ContentDashboardLayout';\nimport  {db} from '../../firebase'\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: '#141256',\n  },\n  form: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: '90%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n      backgroundImage: 'linear-gradient(to left bottom, #fa630f, #fc8218, #fd9d29, #feb63f, #ffce59)',\n      color: \"white\",\n      borderRadius: '20px',\n      margin: theme.spacing(3, 0, 2),\n  },\n    wrapper: {\n  display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden',\n  paddingTop: 64,\n  [theme.breakpoints.up('lg')]: {\n    paddingLeft: 256\n  },\n  \n  },\n  container: {\n      display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden'\n  },\n  content: {\n\n      flex: '1 1 auto',\n  height: '100%',\n  overflow: 'auto'\n    },\n}));\n\n\nconst AddManuals = ({match}) => {\n  const classes= useStyles();\n  const [title, setContentName] = useState('')\n  const [error, setError] = useState('')\n  const [desc, setDesc] = useState('')\n  const [loading, setLoading] = useState(false);\n  const [mid, setMid] = useState(match.params.id)\n  const history = useHistory();\n\n    \n    const handleSubmit = (e) => {\n    e.preventDefault();\n    if(title?.trim().length===0 || desc?.trim().length===0){\n      return  setError(\"Empty Spaces are not accepted as inputs! Please try again with a valid input!\")\n    }\n    const manuals = {title, mid, desc}\n    setLoading(true);\n      db.collection('manualData').add(manuals).then((data) =>{\n        console.log(data)\n        history.push(`/machine-data/Manuals/${match.params.id}/Manuals`)\n      })\n\n  }\n \n    return (\n      <>\n      <ContentDashboardLayout match={match}/>\n        <div>   \n          <div className={classes.wrapper}>\n        <div className={classes.container}>\n          <Card className={classes.content}>\n           <div className={classes.paper}>\n            <Alert severity=\"info\">You are currently adding a new Manual</Alert>\n            <br/>\n            <Typography align='center' component=\"h1\" variant=\"h2\">\n          <b>Add Manuals</b>\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit}>\n          {error && <Alert severity='error'>{error}</Alert>}\n          <TextField value={mid}\n           fullWidth\n           variant=\"outlined\"\n           margin=\"normal\"\n           label=\"Machine id\"\n           disabled\n           onChange ={(e) => setMid(e.target.value)}\n           />\n           \n          <TextField\n          value={title}\n          error={title.length > 30}\n          variant=\"outlined\"\n          margin=\"normal\"\n          required\n          fullWidth\n          id=\"content_name\"\n          label=\"Manual Title\"\n          name=\"content_name\"\n          autoFocus\n          onChange={(e) => setContentName(e.target.value)}\n            \n          />\n          <FormHelperText>Title should be max {title.length}/ 30 characters</FormHelperText>\n           <TextField\n           rows={5}\n           multiline\n           value={desc}\n           variant=\"outlined\"\n           margin=\"normal\"\n           required\n           fullWidth\n           id=\"content_name\"\n           label=\"Manual Description\"\n           name=\"content_name\"\n           error={desc.length > 150}\n           onChange={(e) => setDesc(e.target.value)}\n            \n          />\n              <FormHelperText>Description should be max {desc.length}/150 characters </FormHelperText>\n          \n         {!loading && <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            disabled={desc.length > 150 || title.length > 30} \n            className={classes.submit}\n          >\n            Add Manual\n            </Button>}\n         {\n           loading && <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            \n            disabled\n            className={classes.submit}\n          >Adding Manual...</Button>\n         }   \n          </form>\n          </div>\n          </Card>\n        </div>\n      </div>\n      \n           \n         \n          \n        </div>\n        </>\n    )\n}\n\nexport default AddManuals"]},"metadata":{},"sourceType":"module"}