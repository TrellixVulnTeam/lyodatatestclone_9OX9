{"ast":null,"code":"var _jsxFileName = \"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/Recipee/AddRecipe.jsx\",\n    _s = $RefreshSig$();\n\nimport { Button, Card, CardActions, CardContent, FormHelperText, makeStyles, TextField, Typography } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport ContentDashboardLayout from '../../components/ContentSidebar/ContentDashboardLayout';\nimport { useAuth } from '../../components/context/AuthContext';\nimport { db } from '../../firebase';\nimport { firebaseLooper } from '../../utils/tools';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  layoutRoot: {\n    backgroundColor: 'white',\n    display: 'flex',\n    height: '100%',\n    overflow: 'hidden',\n    width: '100%'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: '#141256'\n  },\n  wrapper: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden',\n    paddingTop: 64,\n    [theme.breakpoints.up('lg')]: {\n      paddingLeft: 256\n    }\n  },\n  container: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden',\n    height: '100%'\n  },\n  content: {\n    margin: '15%',\n    flex: '1 1 auto',\n    width: '75%',\n    overflow: 'auto'\n  }\n}));\n\nconst AddRecipe = ({\n  match\n}) => {\n  _s();\n\n  const {\n    currentUser\n  } = useAuth();\n  const classes = useStyles();\n  const [title, setTitle] = useState('');\n  const [error, setError] = useState('');\n  const [mid, setMid] = useState(`${match.params.id}`);\n  const [recipe, setRecipe] = useState([]);\n  const history = useHistory();\n  useEffect(() => {\n    db.collection('recipes').where('mid', '==', `${match.params.id}`).onSnapshot(doc => {\n      const data = firebaseLooper(doc);\n      setRecipe(data);\n    });\n  }, []);\n\n  function handleChange(e) {\n    const titleD = e.target.value;\n\n    if (recipe.length === 0) {\n      return setTitle(titleD);\n    }\n\n    for (let index = 0; index < recipe.length; index++) {\n      const element = recipe[index].title;\n\n      if (titleD === element) {\n        setTitle(titleD);\n        return setError(\"Recipe already exists! Please try again with another name\");\n      } else {\n        setError(\"\");\n        setTitle(titleD);\n      }\n    }\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if ((title === null || title === void 0 ? void 0 : title.trim().length) === 0) {\n      return setError(\"Empty Strings are not valid inputs ! Please try again with a valid input\");\n    }\n\n    if (!error) {\n      const createdBy = `${currentUser.email}`;\n      const data = {\n        title,\n        mid,\n        createdBy\n      };\n      db.collection('recipes').add(data);\n      history.push(`/machine-data/Reports/${match.params.id}/Recipes`);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ContentDashboardLayout, {\n      match: match\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.wrapper,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.container,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: classes.content,\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h1\",\n              component: \"h1\",\n              align: \"center\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Add Recipe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 74\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              style: {\n                width: '100%',\n                alignItems: \"center\"\n              },\n              onSubmit: handleSubmit,\n              children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n                severity: \"error\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 32\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                variant: \"outlined\",\n                margin: \"normal\",\n                required: true,\n                fullWidth: true,\n                label: \"Title\",\n                value: title,\n                error: title.length > 40,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n                children: [\"Title length should be maximum \", title.length, \"/40\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                variant: \"outlined\",\n                margin: \"normal\",\n                label: \"mid\",\n                value: mid,\n                disabled: true,\n                fullWidth: true,\n                onChange: e => setMid(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  disabled: title.length > 40,\n                  style: {\n                    color: 'white'\n                  },\n                  fullWidth: true,\n                  variant: \"contained\",\n                  color: \"primary\",\n                  type: \"submit\",\n                  children: \"Add New Recipe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 20\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AddRecipe, \"qF0i6zOnYlWMFpmkjlDAvLfeEvU=\", false, function () {\n  return [useAuth, useStyles, useHistory];\n});\n\n_c = AddRecipe;\nexport default AddRecipe;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddRecipe\");","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/Recipee/AddRecipe.jsx"],"names":["Button","Card","CardActions","CardContent","FormHelperText","makeStyles","TextField","Typography","Alert","React","useEffect","useState","useHistory","ContentDashboardLayout","useAuth","db","firebaseLooper","useStyles","theme","layoutRoot","backgroundColor","display","height","overflow","width","avatar","margin","spacing","wrapper","flex","paddingTop","breakpoints","up","paddingLeft","container","content","AddRecipe","match","currentUser","classes","title","setTitle","error","setError","mid","setMid","params","id","recipe","setRecipe","history","collection","where","onSnapshot","doc","data","handleChange","e","titleD","target","value","length","index","element","handleSubmit","preventDefault","trim","createdBy","email","add","push","alignItems","color"],"mappings":"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","sourcesContent":["import { Button, Card, CardActions, CardContent, FormHelperText, makeStyles, TextField, Typography } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport React, { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom';\nimport ContentDashboardLayout from '../../components/ContentSidebar/ContentDashboardLayout';\nimport { useAuth } from '../../components/context/AuthContext';\nimport { db } from '../../firebase';\nimport { firebaseLooper } from '../../utils/tools';\n\n\nconst useStyles = makeStyles((theme) => ({\n  layoutRoot: {\n    backgroundColor: 'white',\n    display: 'flex',\n    height: '100%',\n    overflow: 'hidden',\n    width: '100%',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: '#141256',\n  },\n wrapper: {\n  display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden',\n  paddingTop: 64,\n  [theme.breakpoints.up('lg')]: {\n    paddingLeft: 256\n  }\n  },\n  container: {\n      display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden',\n  height: '100%'\n  },\n  content: {\n    margin: '15%',\n      flex: '1 1 auto',\n      width: '75%',\n  overflow: 'auto'\n    },\n}));\n\n\nconst AddRecipe = ({match}) => {\n  const {currentUser} = useAuth()\n    const classes = useStyles()\n    const [title, setTitle] = useState('')\n    const [error, setError] = useState('')\n    const [mid, setMid] = useState(`${match.params.id}`)\n    const [recipe, setRecipe] = useState([])\n    const history = useHistory()\n\n    useEffect (() => {\n      db.collection('recipes').where('mid', '==', `${match.params.id}`).onSnapshot(doc => {\n        const data = firebaseLooper(doc)\n        setRecipe(data)\n    })\n    }, [])\n\n    function handleChange(e){\n      const titleD = e.target.value\n      if(recipe.length === 0){\n        return setTitle(titleD)\n      }\n      for (let index = 0; index < recipe.length; index++) {\n        const element = recipe[index].title;\n        if(titleD === element){\n          setTitle(titleD)\n          return setError(\"Recipe already exists! Please try again with another name\")\n        }else {\n          setError(\"\")\n          setTitle(titleD)\n          \n        }\n        \n      }\n    }\n\n    const handleSubmit = (e) => {\n      e.preventDefault()\n      if(title?.trim().length === 0){\n       return setError(\"Empty Strings are not valid inputs ! Please try again with a valid input\")\n      }\n     if(!error){\n        const createdBy = `${currentUser.email}`\n      const data = {title, mid, createdBy}\n      db.collection('recipes').add(data)\n      history.push(`/machine-data/Reports/${match.params.id}/Recipes`)\n     }\n     \n     \n    }\n    return (\n        <>\n        <ContentDashboardLayout match={match}/>\n         <div className={classes.wrapper}>\n        <div className={classes.container}>\n          <Card className={classes.content}>\n              \n             <CardContent >\n                 <Typography  variant='h1' component='h1' align='center'><b>Add Recipe</b></Typography>\n                   <form style={{width: '100%', alignItems: \"center\"}} onSubmit={handleSubmit}>\n                     {error && <Alert severity='error'>{error}</Alert>}\n                    <TextField \n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    required\n                    fullWidth\n                    label='Title'\n                    value={title}\n                    error={title.length > 40 }\n                        onChange={handleChange}\n                    />\n                    <FormHelperText>Title length should be maximum {title.length}/40</FormHelperText>\n                    <TextField \n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    label='mid'\n                    value={mid}\n                    disabled\n                    fullWidth\n                        onChange={(e) => setMid(e.target.value)}\n                    />\n                <CardActions>\n                    <Button disabled={title.length>40} style={{color: 'white'}} fullWidth variant='contained' color=\"primary\" type=\"submit\">Add New Recipe</Button>\n                 </CardActions>\n              \n                </form> \n             </CardContent>\n              \n          </Card>\n        </div>\n      </div>\n      </>\n    )\n}\n\nexport default AddRecipe\n"]},"metadata":{},"sourceType":"module"}