{"ast":null,"code":"import _objectSpread from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useEffect,useState}from'react';import clsx from'clsx';import moment from'moment';import PerfectScrollbar from'react-perfect-scrollbar';import{Avatar,Box,Card,Checkbox,Table,TableBody,TableCell,TableHead,TablePagination,TableRow,Typography,makeStyles,Grid}from'@material-ui/core';import getInitials from'./getInitials';import{database}from'../../firebase';import{firebaseLooperTwo}from'../../utils/tools';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{width:\"100%\"},avatar:{marginRight:theme.spacing(2)}};});var Results=function Results(_ref){var className=_ref.className,customers=_ref.customers,rest=_objectWithoutProperties(_ref,[\"className\",\"customers\"]);var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedCustomerIds=_useState2[0],setSelectedCustomerIds=_useState2[1];var _useState3=useState(5),_useState4=_slicedToArray(_useState3,2),limit=_useState4[0],setLimit=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),calls=_useState8[0],setCalls=_useState8[1];useEffect(function(){database.ref('calls/').get().then(function(snapshot){var data=firebaseLooperTwo(snapshot);console.log(data);setCalls(data);});},[]);var handleSelectAll=function handleSelectAll(event){var newSelectedCustomerIds;if(event.target.checked){newSelectedCustomerIds=customers.map(function(customer){return customer.id;});}else{newSelectedCustomerIds=[];}setSelectedCustomerIds(newSelectedCustomerIds);};var handleSelectOne=function handleSelectOne(event,id){var selectedIndex=selectedCustomerIds.indexOf(id);var newSelectedCustomerIds=[];if(selectedIndex===-1){newSelectedCustomerIds=newSelectedCustomerIds.concat(selectedCustomerIds,id);}else if(selectedIndex===0){newSelectedCustomerIds=newSelectedCustomerIds.concat(selectedCustomerIds.slice(1));}else if(selectedIndex===selectedCustomerIds.length-1){newSelectedCustomerIds=newSelectedCustomerIds.concat(selectedCustomerIds.slice(0,-1));}else if(selectedIndex>0){newSelectedCustomerIds=newSelectedCustomerIds.concat(selectedCustomerIds.slice(0,selectedIndex),selectedCustomerIds.slice(selectedIndex+1));}setSelectedCustomerIds(newSelectedCustomerIds);};var handleLimitChange=function handleLimitChange(event){setLimit(event.target.value);};var handlePageChange=function handlePageChange(event,newPage){setPage(newPage);};return/*#__PURE__*/_jsxs(Card,_objectSpread(_objectSpread({className:clsx(classes.root,className)},rest),{},{children:[/*#__PURE__*/_jsx(PerfectScrollbar,{children:/*#__PURE__*/_jsx(Box,{lg:3,sm:6,xl:3,xs:12,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{padding:\"checkbox\",children:/*#__PURE__*/_jsx(Checkbox,{checked:selectedCustomerIds.length===customers.length,color:\"primary\",indeterminate:selectedCustomerIds.length>0&&selectedCustomerIds.length<customers.length,onChange:handleSelectAll})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Manual\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Step\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Time\"})})]})}),/*#__PURE__*/_jsx(TableBody,{children:calls.slice(0,limit).map(function(customer){return/*#__PURE__*/_jsxs(TableRow,{hover:true,selected:selectedCustomerIds.indexOf(customer.key)!==-1,children:[/*#__PURE__*/_jsx(TableCell,{padding:\"checkbox\",align:\"center\",children:/*#__PURE__*/_jsx(Checkbox,{checked:selectedCustomerIds.indexOf(customer.key)!==-1,onChange:function onChange(event){return handleSelectOne(event,customer.key);},value:\"true\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(Typography,{align:\"center\",color:\"textPrimary\",variant:\"button\",children:customer.manual})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(Typography,{color:\"textPrimary\",variant:\"button\",children:customer.step})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:customer.time})]},customer.id);})})]})})}),/*#__PURE__*/_jsx(TablePagination,{component:\"div\",count:customers.length,onChangePage:handlePageChange,onChangeRowsPerPage:handleLimitChange,page:page,rowsPerPage:limit,rowsPerPageOptions:[5,10,25]})]}));};export default Results;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/components/LogsData/Results.jsx"],"names":["React","useEffect","useState","clsx","moment","PerfectScrollbar","Avatar","Box","Card","Checkbox","Table","TableBody","TableCell","TableHead","TablePagination","TableRow","Typography","makeStyles","Grid","getInitials","database","firebaseLooperTwo","useStyles","theme","root","width","avatar","marginRight","spacing","Results","className","customers","rest","classes","selectedCustomerIds","setSelectedCustomerIds","limit","setLimit","page","setPage","calls","setCalls","ref","get","then","snapshot","data","console","log","handleSelectAll","event","newSelectedCustomerIds","target","checked","map","customer","id","handleSelectOne","selectedIndex","indexOf","concat","slice","length","handleLimitChange","value","handlePageChange","newPage","key","manual","step","time"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Card,\r\n  Checkbox,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TablePagination,\r\n  TableRow,\r\n  Typography,\r\n  makeStyles,\r\n  Grid\r\n} from '@material-ui/core';\r\nimport getInitials from './getInitials';\r\nimport { database } from '../../firebase';\r\nimport { firebaseLooperTwo } from '../../utils/tools';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\"\r\n  },\r\n  avatar: {\r\n    marginRight: theme.spacing(2)\r\n  }\r\n}));\r\n\r\nconst Results = ({ className, customers, ...rest }) => {\r\n  const classes = useStyles();\r\n  const [selectedCustomerIds, setSelectedCustomerIds] = useState([]);\r\n  const [limit, setLimit] = useState(5);\r\n  const [page, setPage] = useState(0)\r\n\r\n   const [calls, setCalls] = useState([]);\r\n\r\n  useEffect(() => {\r\n        database.ref('calls/').get().then((snapshot) => {\r\n            const data = firebaseLooperTwo(snapshot)\r\n            console.log(data)\r\n            setCalls(data)\r\n           \r\n        })\r\n      }, [])\r\n\r\n  const handleSelectAll = (event) => {\r\n    let newSelectedCustomerIds;\r\n\r\n    if (event.target.checked) {\r\n      newSelectedCustomerIds = customers.map((customer) => customer.id);\r\n    } else {\r\n      newSelectedCustomerIds = [];\r\n    }\r\n\r\n    setSelectedCustomerIds(newSelectedCustomerIds);\r\n  };\r\n\r\n  const handleSelectOne = (event, id) => {\r\n    const selectedIndex = selectedCustomerIds.indexOf(id);\r\n    let newSelectedCustomerIds = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelectedCustomerIds = newSelectedCustomerIds.concat(selectedCustomerIds, id);\r\n    } else if (selectedIndex === 0) {\r\n      newSelectedCustomerIds = newSelectedCustomerIds.concat(selectedCustomerIds.slice(1));\r\n    } else if (selectedIndex === selectedCustomerIds.length - 1) {\r\n      newSelectedCustomerIds = newSelectedCustomerIds.concat(selectedCustomerIds.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelectedCustomerIds = newSelectedCustomerIds.concat(\r\n        selectedCustomerIds.slice(0, selectedIndex),\r\n        selectedCustomerIds.slice(selectedIndex + 1)\r\n      );\r\n    }\r\n\r\n    setSelectedCustomerIds(newSelectedCustomerIds);\r\n  };\r\n\r\n  const handleLimitChange = (event) => {\r\n    setLimit(event.target.value);\r\n  };\r\n\r\n  const handlePageChange = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      className={clsx(classes.root, className)}\r\n      {...rest}\r\n     \r\n    >\r\n      <PerfectScrollbar>\r\n        <Box\r\n         lg={3}\r\n       sm={6}\r\n       xl={3}\r\n       xs={12}\r\n         >\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell padding=\"checkbox\">\r\n                  <Checkbox\r\n                    checked={selectedCustomerIds.length === customers.length}\r\n                    color=\"primary\"\r\n                    indeterminate={\r\n                      selectedCustomerIds.length > 0\r\n                      && selectedCustomerIds.length < customers.length\r\n                    }\r\n                    onChange={handleSelectAll}\r\n                  />\r\n                </TableCell>\r\n                <TableCell align=\"center\">\r\n                  <strong>Manual</strong>\r\n                </TableCell>\r\n                <TableCell align=\"center\">\r\n                  <strong>Step</strong> \r\n                </TableCell>\r\n                <TableCell align=\"center\">\r\n                   <strong>Time</strong>\r\n                </TableCell>\r\n               \r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {calls.slice(0, limit).map((customer) => (\r\n                <TableRow\r\n                  hover\r\n                  key={customer.id}\r\n                  selected={selectedCustomerIds.indexOf(customer.key) !== -1}\r\n                >\r\n                  <TableCell  padding=\"checkbox\" align=\"center\">\r\n                    <Checkbox\r\n                      checked={selectedCustomerIds.indexOf(customer.key) !== -1}\r\n                      onChange={(event) => handleSelectOne(event, customer.key)}\r\n                      value=\"true\"\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell align=\"center\"> \r\n                      <Typography\r\n                      align=\"center\"\r\n                        color=\"textPrimary\"\r\n                        variant=\"button\"\r\n                      >\r\n                        {customer.manual}\r\n                      </Typography>\r\n                   \r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n\r\n                  <Typography\r\n                        color=\"textPrimary\"\r\n                        variant=\"button\"\r\n                      >\r\n                        {customer.step}\r\n                      </Typography>\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {customer.time}\r\n                  </TableCell>\r\n                  \r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </Box>\r\n      </PerfectScrollbar>\r\n      <TablePagination\r\n        component=\"div\"\r\n        count={customers.length}\r\n        onChangePage={handlePageChange}\r\n        onChangeRowsPerPage={handleLimitChange}\r\n        page={page}\r\n        rowsPerPage={limit}\r\n        rowsPerPageOptions={[5, 10, 25]}\r\n      />\r\n    </Card>\r\n  );\r\n};\r\n\r\nResults.propTypes = {\r\n  className: PropTypes.string,\r\n  customers: PropTypes.array.isRequired\r\n};\r\n\r\nexport default Results"]},"metadata":{},"sourceType":"module"}