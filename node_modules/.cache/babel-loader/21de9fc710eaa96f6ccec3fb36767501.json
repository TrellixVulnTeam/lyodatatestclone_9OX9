{"ast":null,"code":"var _jsxFileName = \"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/DQNewReports/DQRSafety.jsx\",\n    _s = $RefreshSig$();\n\nimport { Button, Card, Toolbar, makeStyles, Dialog, DialogContent, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography, TextField, Fab } from \"@material-ui/core\";\nimport { useEffect, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport DQRLayout from \"../../components/DQRLayout/DQRLayout\";\nimport { db } from \"../../firebase\";\nimport { firebaseLooper } from \"../../utils/tools\";\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  layoutRoot: {\n    backgroundColor: 'whitesmoke',\n    display: 'flex',\n    height: '100%',\n    overflow: 'hidden',\n    width: '100%'\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2)\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: '#141256'\n  },\n  wrapper: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden',\n    paddingTop: 64,\n    [theme.breakpoints.up('lg')]: {\n      paddingLeft: 250\n    }\n  },\n  container: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden'\n  },\n  content: {\n    padding: '20px',\n    flex: '1 1 auto',\n    height: '100%',\n    overflow: 'auto'\n  }\n}));\n\nfunction DQRSafety({\n  match\n}) {\n  _s();\n\n  const [activeId, setActiveId] = useState('');\n  const [reports, setReports] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [issuecomment, setIssueComment] = useState('');\n  const classes = useStyles();\n\n  function handleOpen() {\n    setOpen(true);\n  }\n\n  function handleClose() {\n    setOpen(false);\n  }\n\n  useEffect(() => {\n    db.collection('DQNewReport').doc(match.params.id).collection('content').doc('safety').collection('details').onSnapshot(snapshot => {\n      const data = firebaseLooper(snapshot);\n      setReports(data);\n    });\n  }, []);\n\n  function handleComment(id) {\n    db.collection('issueData').doc(id).onSnapshot(snapshot => {\n      const data = snapshot.data();\n      setIssueComment(data.content);\n    });\n  }\n\n  const handleChange = id => {\n    db.collection('issueData').doc(id).onSnapshot(snapshot => {\n      const data = snapshot.data();\n      setIssueComment(data.content);\n    });\n  };\n\n  function handleUpdateComment(id) {\n    db.collection('issueData').doc(id).update({\n      content: issuecomment\n    });\n  }\n\n  function activateId(id) {\n    setActiveId(id);\n  }\n\n  function getResponse(res) {\n    if (res === 1) {\n      return /*#__PURE__*/_jsxDEV(\"b\", {\n        style: {\n          background: '#BBE5B3 0% 0% no-repeat padding-box',\n          borderRadius: '100px',\n          border: '2px solid var(--unnamed-color-ffffff)'\n        },\n        children: \"Accepted\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 5\n      }, this);\n    } else if (res === 2) {\n      return /*#__PURE__*/_jsxDEV(\"b\", {\n        style: {\n          background: '#FF616D 0% 0% no-repeat padding-box',\n          borderRadius: '100px',\n          border: '2px solid var(--unnamed-color-ffffff)'\n        },\n        children: \"Rejected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 5\n      }, this);\n    } else if (res === 3) {\n      return /*#__PURE__*/_jsxDEV(\"b\", {\n        style: {\n          background: '#FFEAC9 0% 0% no-repeat padding-box',\n          borderRadius: '100px',\n          border: '2px solid var(--unnamed-color-ffffff)'\n        },\n        children: \"Issued\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"b\", {\n        style: {\n          background: '#CDF0EA 0% 0% no-repeat padding-box',\n          borderRadius: '100px',\n          border: '2px solid var(--unnamed-color-ffffff)'\n        },\n        children: \"Not Updated\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 5\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(DQRLayout, {\n      match: match\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.wrapper,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.container,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: classes.content,\n          children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h1\",\n            align: \"center\",\n            gutterBottom: true,\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Safety\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 64\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              paddingRight: '5%',\n              paddingLeft: '5%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n              component: Paper,\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                \"aria-label\": \"simple table\",\n                children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                  children: /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      style: {\n                        background: '#4C4C6D',\n                        color: 'white',\n                        font: 'bold'\n                      },\n                      children: \"Description\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 132,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      style: {\n                        background: '#4C4C6D',\n                        color: 'white',\n                        font: 'bold'\n                      },\n                      align: \"right\",\n                      children: \"Cause\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 133,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      style: {\n                        background: '#4C4C6D',\n                        color: 'white',\n                        font: 'bold'\n                      },\n                      align: \"right\",\n                      children: \"Action\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 134,\n                      columnNumber: 6\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      style: {\n                        background: '#4C4C6D',\n                        color: 'white',\n                        font: 'bold'\n                      },\n                      align: \"right\",\n                      children: \"Issue \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      style: {\n                        background: '#4C4C6D',\n                        color: 'white',\n                        font: 'bold'\n                      },\n                      align: \"right\",\n                      children: \"Options\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 13\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                  children: reports.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      style: {\n                        background: '#E8F6EF'\n                      },\n                      component: \"th\",\n                      scope: \"row\",\n                      children: row.desc\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 143,\n                      columnNumber: 15\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"right\",\n                      children: row.cause\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 15\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"right\",\n                      children: row.action\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 15\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"right\",\n                      children: getResponse(row.response)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 148,\n                      columnNumber: 8\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      align: \"right\",\n                      children: row.issue_id !== \"\" ? /*#__PURE__*/_jsxDEV(Button, {\n                        style: {\n                          background: 'orange',\n                          color: 'white'\n                        },\n                        onClick: e => {\n                          handleOpen(e);\n                          handleComment(row.issue_id);\n                          activateId(row.issue_id);\n                        },\n                        children: \"Check\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 152,\n                        columnNumber: 27\n                      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"N/A\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 156,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 14\n                    }, this)]\n                  }, row.name, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 13\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 9\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 6\n            }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n              fullWidth: true,\n              onClose: handleClose,\n              open: open,\n              children: [/*#__PURE__*/_jsxDEV(Toolbar, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleClose,\n                  children: \"Close\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n                className: \"text-xl underline text-bold text-center mb-3\",\n                children: \"Comment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                variant: \"outlined\",\n                value: issuecomment,\n                onChange: e => setIssueComment(e.target.value),\n                className: \"text-xl text-blue-gray-500 text-center\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: e => {\n                  handleUpdateComment(activeId);\n                  handleClose();\n                },\n                children: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.fab,\n            children: [/*#__PURE__*/_jsxDEV(Fab, {\n              component: NavLink,\n              to: `/DQR/${match.params.id}/Design-Specs`,\n              style: {\n                marginRight: '20px'\n              },\n              color: \"primary\",\n              \"aria-label\": \"add\",\n              children: /*#__PURE__*/_jsxDEV(KeyboardArrowLeftIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 3\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Fab, {\n              component: NavLink,\n              to: `/DQR/${match.params.id}/Attachments`,\n              style: {\n                color: 'white'\n              },\n              color: \"primary\",\n              \"aria-label\": \"add\",\n              children: /*#__PURE__*/_jsxDEV(KeyboardArrowRightIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 3\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 4\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(DQRSafety, \"SWsgRM283B8lmYg0vRGLT2uSLcM=\", false, function () {\n  return [useStyles];\n});\n\n_c = DQRSafety;\nexport default DQRSafety;\n\nvar _c;\n\n$RefreshReg$(_c, \"DQRSafety\");","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/DQNewReports/DQRSafety.jsx"],"names":["Button","Card","Toolbar","makeStyles","Dialog","DialogContent","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Typography","TextField","Fab","useEffect","useState","NavLink","DQRLayout","db","firebaseLooper","KeyboardArrowRightIcon","KeyboardArrowLeftIcon","useStyles","theme","layoutRoot","backgroundColor","display","height","overflow","width","fab","position","bottom","spacing","right","avatar","margin","wrapper","flex","paddingTop","breakpoints","up","paddingLeft","container","content","padding","DQRSafety","match","activeId","setActiveId","reports","setReports","open","setOpen","issuecomment","setIssueComment","classes","handleOpen","handleClose","collection","doc","params","id","onSnapshot","snapshot","data","handleComment","handleChange","handleUpdateComment","update","activateId","getResponse","res","background","borderRadius","border","paddingRight","color","font","map","row","desc","cause","action","response","issue_id","e","name","target","value","marginRight"],"mappings":"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","sourcesContent":["import { Button, Card,Toolbar, makeStyles,Dialog,DialogContent, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow , Typography, TextField, Fab} from \"@material-ui/core\"\nimport { useEffect, useState } from \"react\"\nimport { NavLink } from \"react-router-dom\"\nimport DQRLayout from \"../../components/DQRLayout/DQRLayout\"\nimport { db } from \"../../firebase\"\nimport { firebaseLooper } from \"../../utils/tools\"\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\n\nconst useStyles = makeStyles((theme) => ({\n    layoutRoot: {\n     backgroundColor: 'whitesmoke',\n      display: 'flex',\n      height: '100%',\n      overflow: 'hidden',\n      width: '100%',\n  \n    },\n    fab: {\n      position: 'fixed',\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: '#141256',\n    },\n   wrapper: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden',\n    paddingTop: 64,\n    [theme.breakpoints.up('lg')]: {\n      paddingLeft: 250\n    },\n    \n    },\n    container: {\n        display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden'\n    },\n    content: {\n     padding: '20px',\n        flex: '1 1 auto',\n    height: '100%',\n    overflow: 'auto'\n      },\n  }));\n\n  \nfunction DQRSafety({match}) {\n  const [activeId, setActiveId] = useState('')\n\tconst [reports, setReports] = useState([])\n\tconst [open, setOpen] = useState(false)\n\tconst [issuecomment, setIssueComment] = useState('')\n    const classes = useStyles()\n\n\tfunction handleOpen(){\n\t\tsetOpen(true)\n\t}\n\n\tfunction handleClose(){\n\t\tsetOpen(false)\n\t}\n\tuseEffect(() => {\n\t\tdb.collection('DQNewReport')\n\t\t.doc(match.params.id)\n\t\t.collection('content')\n\t\t.doc('safety')\n\t\t.collection('details')\n\t\t.onSnapshot(snapshot => {\n\t\t\tconst data = firebaseLooper(snapshot)\n\t\t\tsetReports(data)\n\t\t})\n\t}, [])\n\n\t function handleComment(id){\n   \n    db.collection('issueData').doc(id).onSnapshot(snapshot => {\n     const data = snapshot.data()\n     setIssueComment(data.content )\n    })\n\n}\nconst handleChange = (id) => {\n  db.collection('issueData').doc(id).onSnapshot(snapshot => {\n    const data = snapshot.data()\n    setIssueComment(data.content )\n   })\n}\nfunction handleUpdateComment(id){\n  db.collection('issueData').doc(id).update({content: issuecomment})\n}\nfunction activateId(id){\n  setActiveId(id)\n}\n\tfunction getResponse(res) {\n\t\tif(res === 1){\n\t\t\treturn(\n\n\t\t\t\t<b style={{background: '#BBE5B3 0% 0% no-repeat padding-box', borderRadius: '100px', border: '2px solid var(--unnamed-color-ffffff)'}}>Accepted</b>\n\t\t\t)\n\t\t}else if(res === 2){\n\t\t\treturn(\n\t\t\t\t<b style={{background: '#FF616D 0% 0% no-repeat padding-box', borderRadius: '100px', border: '2px solid var(--unnamed-color-ffffff)'}}>Rejected</b>\n\t\t\t)\n\t\t}else if (res === 3){\n\t\t\treturn(\n\t\t\t\t<b style={{background: '#FFEAC9 0% 0% no-repeat padding-box', borderRadius: '100px', border: '2px solid var(--unnamed-color-ffffff)'}}>Issued</b>\n\t\t\t)\n\t\t}else {\n\t\t\treturn(\n\t\t\t\t<b style={{background: '#CDF0EA 0% 0% no-repeat padding-box', borderRadius: '100px', border: '2px solid var(--unnamed-color-ffffff)'}}>Not Updated</b>\n\t\t\t)\n\t\t}\n\t}\n\treturn (\n\t\t<>\n\t\t<DQRLayout match={match}/>\n        <div className={classes.wrapper}>\n        <div className={classes.container}>\n          <Card className={classes.content}>\n          <hr />\n          <Typography variant='h1' align='center' gutterBottom><b>Safety</b></Typography>\n\t\t<div style={{paddingRight: '5%', paddingLeft: '5%'}}>\n\t\t\n\t\t\t\t <TableContainer component={Paper}>\n      <Table  aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}}>Description</TableCell>\n            <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\">Cause</TableCell>\n\t    <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\">Action</TableCell>\n            <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\">Issue </TableCell>\n            <TableCell style={{background: '#4C4C6D', color: 'white', font: 'bold'}} align=\"right\">Options</TableCell>\n          \n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {reports.map((row) => (\n            <TableRow key={row.name}>\n              <TableCell style={{background: '#E8F6EF'}} component=\"th\" scope=\"row\">\n                {row.desc}\n              </TableCell>\n              <TableCell align=\"right\">{row.cause}</TableCell>\n              <TableCell align=\"right\">{row.action}</TableCell>\n\t      <TableCell align=\"right\">{getResponse(row.response)}</TableCell>\n           \n              \n             <TableCell align=\"right\">\n\t\t\t {row.issue_id !== \"\"? <Button style={{background: 'orange', color: 'white'}} onClick={(e) => {\n                  handleOpen(e);\n                  handleComment(row.issue_id)\n                  activateId(row.issue_id)\n                }}>Check</Button> : <p>N/A</p>}\n\t\t  </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n    <Dialog fullWidth onClose={handleClose} open={open}>\n      <Toolbar>\n        <Button onClick={handleClose}>Close</Button>\n       \n      </Toolbar>\n              <b className='text-xl underline text-bold text-center mb-3'>Comment</b>\n              <TextField variant='outlined' value={issuecomment} onChange={(e) => setIssueComment(e.target.value)} className='text-xl text-blue-gray-500 text-center'/>\n              <Button onClick={(e) => {handleUpdateComment(activeId); handleClose()}}>Update</Button> \n    </Dialog>\n\t\t</div>\n\t\t<div className={classes.fab}>\n\t\t\t\t<Fab component={NavLink} to={`/DQR/${match.params.id}/Design-Specs`} style={{marginRight: '20px'}}   color=\"primary\" aria-label=\"add\">\n  <KeyboardArrowLeftIcon/>\n</Fab>\n\n\t\t\t<Fab component={NavLink} to={`/DQR/${match.params.id}/Attachments`}  style={{ color: 'white'}} color=\"primary\" aria-label=\"add\">\n  <KeyboardArrowRightIcon/>\n</Fab>\n\t\t</div>\n          </Card>\n        </div>\n      </div>\n\t\t\n    </>\n\t)\n}\n\nexport default DQRSafety\n"]},"metadata":{},"sourceType":"module"}