{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Container,Dialog,DialogActions,DialogContent,DialogContentText,DialogTitle,Grid,makeStyles,TextField,Typography}from'@material-ui/core';import React,{useEffect,useState}from'react';import{Link,useHistory}from'react-router-dom';import DeleteIcon from'@material-ui/icons/Delete';import AccountTreeIcon from'@material-ui/icons/AccountTree';import EditIcon from'@material-ui/icons/Edit';import ArrowForwardIosIcon from'@material-ui/icons/ArrowForwardIos';import{Alert,AlertTitle}from'@material-ui/lab';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import{db}from'../../../firebase';import Page from'../../../components/Page';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{borderBottomColor:\"black\",backgroundColor:theme.palette.background.dark},statsItem:{alignItems:'center',display:'flex'},statsIcon:{marginRight:theme.spacing(1)},dataBox:{borderRadius:\"20px\",boxShadow:\"10px 20px 30px #f8f1f1\",marginBottom:\"50px\",alignItems:\"center\",justifyContent:\"center\",justifyItems:\"center\"},divButton:{backgroundColor:\"#32e0c4\",marginRight:\"20px\",color:\"white\",borderRadius:\"10px\"},paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{border:\"#141256\",borderRadius:'20px',margin:theme.spacing(3,0,2)}};});var ComponentDataBox=function ComponentDataBox(_ref){var data=_ref.data;var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openEdit=_useState4[0],setOpenEdit=_useState4[1];var _useState5=useState(data.title),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setContentName=_useState6[1];var _useState7=useState(data.value),_useState8=_slicedToArray(_useState7,2),value=_useState8[0],setValue=_useState8[1];var _useState9=useState(data.createdAt),_useState10=_slicedToArray(_useState9,2),createdAt=_useState10[0],setCreatedAt=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),message=_useState14[0],setMessage=_useState14[1];var history=useHistory();var handleEdit=function handleEdit(){setOpenEdit(true);};var handleEditClose=function handleEditClose(){setOpenEdit(false);};var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var handleDelete=function handleDelete(id){db.collection('componentData').doc(id).delete();};var updateContent=function updateContent(id){setLoading(true);db.collection('componentData').doc(id).update({title:title,value:value}).then(function(data){console.log(data);window.location.reload();setLoading(false);});};return/*#__PURE__*/_jsx(Page,{title:\"Components data\",children:/*#__PURE__*/_jsx(\"div\",{className:classes.dataBox,children:/*#__PURE__*/_jsxs(Container,{maxWindth:\"sm\",sm:12,children:[/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsx(Table,{style:{minWidth:500},\"aria-label\":\"custom pagination table\",children:/*#__PURE__*/_jsx(TableBody,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:/*#__PURE__*/_jsxs(\"b\",{children:[\" \",data.title,\" \"]})}),/*#__PURE__*/_jsx(TableCell,{style:{width:160},align:\"right\",children:data.value}),/*#__PURE__*/_jsx(TableCell,{style:{width:160},align:\"right\",children:/*#__PURE__*/_jsx(Button,{style:{marginRight:\"20%\",marginTop:'0',marginBottom:'0'},startIcon:/*#__PURE__*/_jsx(EditIcon,{}),onClick:handleEdit,color:\"primary\",children:\"Edit\"})}),/*#__PURE__*/_jsx(TableCell,{style:{width:160},align:\"right\",children:/*#__PURE__*/_jsx(Button,{style:{marginLeft:\"20%\"},onClick:handleClickOpen,color:\"secondary\",startIcon:/*#__PURE__*/_jsx(DeleteIcon,{}),children:\"Delete\"})})]},data.id)})})}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'25%'}}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsxs(Alert,{severity:\"error\",variant:\"filled\",children:[/*#__PURE__*/_jsx(AlertTitle,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Delete\"})}),/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Are You Sure You Want To Delete?\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{color:\"white\",id:\"alert-dialog-description\",children:\"Deleting will be a permanent action and data pervailing will be permanently deleted and can not be retrieved back.\"})})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,variant:\"outlined\",color:\"primary\",children:\"Disagree\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:function onClick(e){handleDelete(data.id);handleClose();},color:\"secondary\",autoFocus:true,children:\"Agree\"})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:openEdit,onClose:handleEditClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Edit \".concat(title)}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(Alert,{severity:\"info\",variant:\"standard\",children:\"You are currently editing Contents data\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,children:[/*#__PURE__*/_jsx(TextField,{label:\"Content Name\",defaultValue:title,variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"title\",name:\"title\",autoFocus:true,onChange:function onChange(e){return setContentName(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{label:\"Expected Value\",defaultValue:value,variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"title\",name:\"title\",autoFocus:true,onChange:function onChange(e){return setValue(e.target.value);}}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:handleEditClose,children:\"Cancel\"}),!loading&&/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"outlined\",color:\"primary\",className:classes.submit,onClick:function onClick(e){return updateContent(data.id);},children:\"Update\"}),loading&&/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"outlined\",color:\"primary\",disabled:true,className:classes.submit,children:\"Updating values...\"})]})]})]})]})]})})});};export default ComponentDataBox;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/ContentsData/ComponentData/ComponentDataBox.jsx"],"names":["Button","Container","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Grid","makeStyles","TextField","Typography","React","useEffect","useState","Link","useHistory","DeleteIcon","AccountTreeIcon","EditIcon","ArrowForwardIosIcon","Alert","AlertTitle","Table","TableBody","TableCell","TableContainer","TableRow","Paper","db","Page","useStyles","theme","root","borderBottomColor","backgroundColor","palette","background","dark","statsItem","alignItems","display","statsIcon","marginRight","spacing","dataBox","borderRadius","boxShadow","marginBottom","justifyContent","justifyItems","divButton","color","paper","marginTop","flexDirection","form","width","submit","border","margin","ComponentDataBox","data","classes","open","setOpen","openEdit","setOpenEdit","title","setContentName","value","setValue","createdAt","setCreatedAt","loading","setLoading","message","setMessage","history","handleEdit","handleEditClose","handleClickOpen","handleClose","handleDelete","id","collection","doc","delete","updateContent","update","then","console","log","window","location","reload","minWidth","marginLeft","e","target"],"mappings":"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","sourcesContent":["import { Button, Container, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Grid, makeStyles, TextField, Typography } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport AccountTreeIcon from '@material-ui/icons/AccountTree';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { db } from '../../../firebase';\nimport Page from '../../../components/Page';\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    borderBottomColor: \"black\",\n    backgroundColor: theme.palette.background.dark,\n  },\n  statsItem: {\n    alignItems: 'center',\n    display: 'flex'\n  },\n  statsIcon: {\n    marginRight: theme.spacing(1)\n  },\n  dataBox:{\n      borderRadius: \"20px\",\n      boxShadow: \"10px 20px 30px #f8f1f1\",\n      marginBottom: \"50px\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      justifyItems: \"center\"\n  },\n  divButton: {\n      backgroundColor: \"#32e0c4\",\n      marginRight: \"20px\",\n      color: \"white\",\n      borderRadius: \"10px\"\n\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n      border: \"#141256\",\n      borderRadius: '20px',\n      margin: theme.spacing(3, 0, 2),\n  }\n}));\n\nconst ComponentDataBox = ({data}) => {\n    const classes = useStyles();\n    const [open, setOpen] = useState(false)\n    const [openEdit, setOpenEdit] = useState(false)\n    const [title, setContentName] = useState(data.title)\n    const [value, setValue] = useState(data.value);\n    const [createdAt, setCreatedAt] = useState(data.createdAt);\n   const [loading, setLoading] = useState(false);\n   const [message, setMessage] = useState()\n   const history = useHistory();\n\n   const handleEdit = () => {\n      setOpenEdit(true)\n    }\n    const handleEditClose = () => {\n      setOpenEdit(false)\n    }\n\n    const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n   const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = (id) => {\n    db.collection('componentData').doc(id).delete()\n}\n\n  const updateContent=(id) => {\n    setLoading(true)\n    db.collection('componentData').doc(id).update({title, value}).then((data) => {\n        console.log(data)\n        window.location.reload()\n        setLoading(false)\n    })\n    \n  }\n\n\n    return (\n        <Page title='Components data'>\n             <div className={classes.dataBox}>\n               <Container maxWindth=\"sm\" sm={12}>\n              <TableContainer component={Paper}>\n      <Table style={{minWidth: 500}} aria-label=\"custom pagination table\">\n        <TableBody>\n         \n            <TableRow key={data.id}>\n              <TableCell component=\"th\" scope=\"row\">\n               <b> {data.title} </b>\n              </TableCell>\n              <TableCell style={{ width: 160 }} align=\"right\">\n                {data.value}\n              </TableCell>\n              <TableCell style={{ width: 160 }} align=\"right\">\n              <Button style={{ marginRight: \"20%\", marginTop: '0', marginBottom: '0'}} startIcon={<EditIcon/>} onClick={handleEdit}   color=\"primary\">Edit</Button>\n              </TableCell>\n              <TableCell style={{ width: 160 }} align=\"right\">\n                <Button style={{ marginLeft: \"20%\"}} onClick={handleClickOpen}  color=\"secondary\" startIcon={<DeleteIcon/>}>Delete</Button>\n           \n              </TableCell>\n              \n\n            </TableRow>\n        </TableBody>\n      </Table>\n      \n    </TableContainer>\n           <div style={{marginLeft: '25%'}}>\n             \n            {/* <Button style={{marginRight: \"20%\"}} startIcon={<AccountTreeIcon/>} variant=\"contained\" className={classes.divButton}><Link to={`/Content/${data.id}/Steps`} style={{color: \"white\" ,textDecoration: \"none\"}}> Steps</Link></Button> */}\n           \n           </div>\n            \n                {/* Dialogs */}\n\n                <Dialog\n                    open={open}\n                    onClose={handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                  <Alert severity=\"error\" variant=\"filled\">\n                    <AlertTitle><strong>Delete</strong></AlertTitle>\n                    <DialogTitle id=\"alert-dialog-title\">{\"Are You Sure You Want To Delete?\"}</DialogTitle>\n                    <DialogContent>\n                    <DialogContentText color=\"white\" id=\"alert-dialog-description\">\n                        Deleting will be a permanent action and data pervailing will be permanently deleted and can not be retrieved back.\n                    </DialogContentText>\n                    </DialogContent>\n                    </Alert>\n                    <DialogActions>\n                    <Button onClick={handleClose} variant=\"outlined\" color=\"primary\">\n                        Disagree\n                    </Button>\n                    <Button\n                    variant=\"outlined\"\n                       onClick={(e)=>{\n                        handleDelete(data.id);\n                         handleClose()}} color=\"secondary\" autoFocus>\n                        Agree\n                    </Button>\n                    \n                    </DialogActions>\n                    \n                </Dialog>\n                <Dialog\n                    open={openEdit}\n                    onClose={handleEditClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                >\n                    <DialogTitle id=\"alert-dialog-title\">{`Edit ${title}`}</DialogTitle>\n                    <DialogContent>\n                      <Alert severity=\"info\" variant=\"standard\">You are currently editing Contents data</Alert>\n                    <form className={classes.form}  >\n                        <TextField\n                        label=\"Content Name\"\n                        defaultValue={title}\n                          variant=\"outlined\"\n                          margin=\"normal\"\n                          required\n                          fullWidth\n                          id=\"title\"\n                          name=\"title\"\n                          autoFocus\n                          onChange={(e) => setContentName(e.target.value)}\n                        />\n                        <TextField\n                        label=\"Expected Value\"\n                        defaultValue={value}\n                          variant=\"outlined\"\n                          margin=\"normal\"\n                          required\n                          fullWidth\n                          id=\"title\"\n                          name=\"title\"\n                          autoFocus\n                          onChange={(e) => setValue(e.target.value)}\n                        />\n                       \n                    \n                    <DialogActions>\n                      <Button color=\"secondary\" onClick={handleEditClose}>Cancel</Button>\n                       {!loading && <Button\n                          type=\"submit\"\n                          fullWidth\n                          variant=\"outlined\"\n                          color=\"primary\"\n                          className={classes.submit}\n                          onClick={(e)=> updateContent(data.id)}\n                        >\n                          Update\n                          </Button>}\n                      {\n                        loading && <Button\n                          type=\"submit\"\n                          fullWidth\n                          variant=\"outlined\"\n                          color=\"primary\"\n                          disabled\n                          className={classes.submit}\n                        >Updating values...</Button>\n                      }   \n                    </DialogActions>\n                     \n                  </form>\n                    </DialogContent>\n                </Dialog>\n            </Container>\n            </div>\n        </Page>\n    )\n}\n\nexport default ComponentDataBox\n"]},"metadata":{},"sourceType":"module"}