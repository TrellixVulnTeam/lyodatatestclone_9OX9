{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Dialog,Paper,TableCell,TableContainer,TableHead,TableRow,Typography,Toolbar,DialogContent,DialogActions,Button,TextField}from\"@material-ui/core\";import{useEffect}from\"react\";import{useState}from\"react\";import{Table}from\"react-bootstrap\";import{db}from\"../../../firebase\";import{firebaseLooper}from\"../../../utils/tools\";import ControlView from\"../IQComponents/ControlView\";import DrawView from\"../IQComponents/DrawView\";import IQConfigView from\"../IQComponents/IQConfigView\";import IQHeader from\"../IQComponents/IQHeader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function IQControlPanel(_ref){var match=_ref.match;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),contents=_useState2[0],setContents=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),desc=_useState8[0],setDesc=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),dno=_useState10[0],setDno=_useState10[1];useEffect(function(){db.collection('IQ').doc(match.params.id).collection('content').doc('control').collection('tables').onSnapshot(function(snapshot){var data=firebaseLooper(snapshot);data.sort(function(a,b){return a.index-b.index;});setContents(data);});},[]);function handleOpen(){setOpen(true);}function handleClose(){setOpen(false);}function handleSubmit(){var index=contents.length;db.collection('IQ').doc(match.params.id).collection('content').doc('control').collection('tables').add({title:title,desc:desc,index:index});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(IQHeader,{match:match}),/*#__PURE__*/_jsx(Toolbar,{style:{display:'flex',justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(Button,{onClick:handleOpen,style:{background:'orange',color:'white'},children:\"Add Items\"})}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(\"b\",{className:\"text-lg font-bold italic\",children:\"Title\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-lg font-bold italic\",children:\"Description\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(\"b\",{className:\"text-lg font-bold italic\",children:\"Actions\"})})]})}),contents.map(function(module){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ControlView,{module:module,match:match},module.id)});})]})}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,fullWidth:true,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",align:\"center\",gutterBottom:true,children:/*#__PURE__*/_jsx(\"b\",{children:\"Add new items\"})}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(TextField,{style:{marginBottom:'3%'},variant:\"outlined\",label:\"Title\",fullWidth:true,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{multiLine:true,rows:7,variant:\"outlined\",label:\"Description\",fullWidth:true,onChange:function onChange(e){return setDesc(e.target.value);}})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:handleClose,variant:\"contained\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{disabled:title===''||desc==='',onClick:handleSubmit,style:{background:'orange',color:'white'},children:\"Add to Index\"})]})]})]});}export default IQControlPanel;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/IQ/IQPages.jsx/IQControlPanel.jsx"],"names":["Dialog","Paper","TableCell","TableContainer","TableHead","TableRow","Typography","Toolbar","DialogContent","DialogActions","Button","TextField","useEffect","useState","Table","db","firebaseLooper","ControlView","DrawView","IQConfigView","IQHeader","IQControlPanel","match","contents","setContents","open","setOpen","title","setTitle","desc","setDesc","dno","setDno","collection","doc","params","id","onSnapshot","snapshot","data","sort","a","b","index","handleOpen","handleClose","handleSubmit","length","add","display","justifyContent","background","color","map","module","marginBottom","e","target","value"],"mappings":"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","sourcesContent":["import { Dialog, Paper, TableCell, TableContainer, TableHead, TableRow, Typography,Toolbar, DialogContent, DialogActions, Button, TextField } from \"@material-ui/core\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport { db } from \"../../../firebase\";\nimport { firebaseLooper } from \"../../../utils/tools\";\nimport ControlView from \"../IQComponents/ControlView\";\nimport DrawView from \"../IQComponents/DrawView\";\nimport IQConfigView from \"../IQComponents/IQConfigView\";\nimport IQHeader from \"../IQComponents/IQHeader\";\n\nfunction IQControlPanel({match}) {\n\tconst [contents, setContents] = useState([])\n\tconst [open, setOpen] = useState(false)\n\tconst [title, setTitle] = useState('')\n\tconst [desc, setDesc] = useState('')\n\tconst [dno, setDno] = useState('')\n\n\tuseEffect(() => {\n\t\tdb.collection('IQ').doc(match.params.id)\n\t\t.collection('content').doc('control')\n\t\t.collection('tables')\n\t\t.onSnapshot(snapshot => {\n\t\t\tconst data = firebaseLooper(snapshot)\n\t\t\tdata.sort(function(a,b){\n\t\t\t\treturn (a.index - b.index)\n\t\t\t})\n\t\t\tsetContents(data)\n\t\t})\n\t}, [])\n\tfunction handleOpen(){\n\t\tsetOpen(true)\n\t}\n\tfunction handleClose(){\n\t\tsetOpen(false)\n\t}\n\t\n\tfunction handleSubmit(){\n\t\tconst index = contents.length\n\t\tdb.collection('IQ').doc(match.params.id)\n\t\t.collection('content').doc('control')\n\t\t.collection('tables').add({title,desc,index})\n\t}\n\treturn (\n\t\t<div>\n\t\t\t<IQHeader match={match}/>\n\t\t\t<Toolbar style={{display: 'flex', justifyContent: 'flex-end'}}>\n\t\t\t\t<Button onClick={handleOpen} style={{background: 'orange', color: 'white'}}>Add Items</Button>\n\t\t\t</Toolbar>\n\n\t\t\t<TableContainer component={Paper}>\n\t\t<Table  aria-label=\"simple table\">\n\t\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t<TableCell><b className='text-lg font-bold italic'>Title</b></TableCell>\n\t\t\t<TableCell align=\"left\"><b className='text-lg font-bold italic'>Description</b></TableCell>\n\t\t\t\n\t\t\t<TableCell align=\"right\"><b className='text-lg font-bold italic'>Actions</b></TableCell>\n\t\t\t</TableRow>\n\t\t\t</TableHead>\n\t\t\t\t\t{\n\t\t\t\t\t\tcontents.map(module => (\n\t\t\t\t\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ControlView module={module} match={match} key={module.id}/>\t\n\t\t\t\n\t\t\t\t\t</>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t</Table>\n\t\t</TableContainer>\n\t\t<Dialog open={open} onClose={handleClose} fullWidth>\n\t<Typography variant='h3' align='center' gutterBottom><b>Add new items</b></Typography>\n\t<DialogContent>\n\t\t<TextField style={{marginBottom: '3%'}} variant='outlined' label='Title' fullWidth onChange={(e) => setTitle(e.target.value)}/>\n\t\t\n\t\t<TextField multiLine rows={7} variant='outlined' label='Description' fullWidth onChange={(e) => setDesc(e.target.value)}/>\t\n\t</DialogContent>\n\t<DialogActions>\n\t\t<Button color='secondary' onClick={handleClose} variant='contained'>Cancel</Button>\n\t\t<Button disabled={title === '' || desc===''} onClick={handleSubmit} style={{background: 'orange', color: 'white'}}>Add to Index</Button>\n\t</DialogActions>\n</Dialog>\n\t\t</div>\n\t)\n}\n\nexport default IQControlPanel\n"]},"metadata":{},"sourceType":"module"}