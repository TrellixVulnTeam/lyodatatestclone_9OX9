{"ast":null,"code":"var _jsxFileName = \"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/Steps/AddSteps.jsx\",\n    _s = $RefreshSig$();\n\nimport { Box, Button, Card, CircularProgress, Container, FormControl, FormHelperText, Grid, InputLabel, LinearProgress, makeStyles, MenuItem, Select, TextField, Typography } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDropzone } from 'react-dropzone';\nimport { db, storage, storageRef } from '../../firebase';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport Alert from '@material-ui/lab/Alert';\nimport { v4 as uuid } from 'uuid';\nimport ManualDashboardLayout from '../../components/ManualSidebar/ManualDashboardLayout';\nimport StepDashboardLayout from '../../components/StepSidebar/StepDashboardLayout';\nimport { useStorage } from '../../utils/useStorage';\nimport { firebaseLooper } from '../../utils/tools';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  paper: {},\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: '#141256'\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    maxWidth: \"50%\",\n    background: \"#ff7a00\",\n    borderRadius: '20px',\n    margin: theme.spacing(3, 0, 2)\n  },\n  drag: {\n    border: \"4px dashed #fff\"\n  },\n  drop: {\n    textAlign: \"center\",\n    color: \"#4a47a3\",\n    fontFamily: \"roboto\"\n  },\n  backButton: {\n    margiinTop: \"30px\",\n    backgroundColor: \"#A997DF\",\n    color: \"white\"\n  },\n  wrapper: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden',\n    paddingTop: 64,\n    [theme.breakpoints.up('lg')]: {\n      paddingLeft: 256\n    }\n  },\n  container: {\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden'\n  },\n  content: {\n    flex: '1 1 auto',\n    height: '100%',\n    overflow: 'auto'\n  }\n}));\n\nconst AddSteps = ({\n  match\n}) => {\n  _s();\n\n  const [title, setTitle] = useState('');\n  const [desc, setDesc] = useState('');\n  const [disabled, setDisabled] = useState(false);\n  const [createdAt, setCreatedAt] = useState('');\n  const [format, setFormat] = useState('');\n  const [type, setType] = useState('');\n  const [manual_id, setCid] = useState(match.params.id);\n  const [file, setFile] = useState(null);\n  const [error, setError] = useState('');\n  const [media, setMedia] = useState({\n    mediaData: null\n  });\n  const types = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\n  const videoTypes = [\"video/mp4\", \"video/mkv\", \"video/mov\"];\n  const audioTypes = [\"audio/mp3\", 'audio/mpeg'];\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const history = useHistory();\n\n  const handleReturn = () => {\n    history.go(-1);\n  };\n\n  const [indexD, setIndex] = useState([]);\n  useEffect(() => {\n    db.collection('stepData').where('manual_id', '==', `${match.params.id}`).onSnapshot(doc => {\n      const data = firebaseLooper(doc);\n      setIndex(data);\n    });\n  }, []);\n\n  const handleChange = loadedFiles => {\n    let selectedFile = loadedFiles[0];\n\n    if (selectedFile) {\n      if (type === \"\" || format === \"\") {\n        setError(\"Please Select a Type / Format first to proceed\");\n      }\n\n      if (format === 'image') {\n        if (types.includes(selectedFile.type)) {\n          setError(null);\n          setFile(selectedFile);\n          setDisabled(false);\n        } else {\n          setFile(null);\n          setError(\"Please select an image file (png or jpg)\");\n          setMessage(\"\");\n          setDisabled(true);\n        }\n      } else if (format === 'video') {\n        if (videoTypes.includes(selectedFile.type)) {\n          setError(null);\n          setFile(selectedFile);\n        } else {\n          setFile(null);\n          setError(\"Please select a video file (mp4 or mkv)\");\n          setMessage(\"\");\n          setDisabled(true);\n        }\n      } else if (format === 'audio') {\n        if (audioTypes.includes(selectedFile.type)) {\n          setError(null);\n          setFile(selectedFile);\n        } else {\n          setFile(null);\n          setError(\"Please select an audio file (mp3 )\");\n          setMessage(\"\");\n          setDisabled(true);\n        }\n      }\n    }\n  };\n\n  const {\n    progress,\n    url\n  } = useStorage(file);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if ((title === null || title === void 0 ? void 0 : title.trim().length) === 0 || (desc === null || desc === void 0 ? void 0 : desc.trim().length) === 0) {\n      return setError(\"Empty Strings are not accepted as valid inputs ! Please try again with a valid input\");\n    }\n\n    const index = indexD.length;\n    const steps = {\n      title,\n      desc,\n      manual_id,\n      url,\n      type,\n      index,\n      format\n    };\n    setLoading(true);\n    db.collection('stepData').add(steps).then(() => {\n      setLoading(false);\n      setMessage('Step Added successfully ! Close the Window or Add another one');\n      setTitle(\"\");\n      setDesc(\"\");\n      setError(\"\");\n      setFormat(\"\");\n      setType(\"\");\n    });\n  };\n\n  function getPreview(url) {\n    if (format === 'image') {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        width: \"450\",\n        src: url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 14\n      }, this);\n    } else if (format === 'video') {\n      return /*#__PURE__*/_jsxDEV(\"video\", {\n        style: {\n          width: '90%',\n          marginTop: '20px'\n        },\n        controls: true,\n        src: url,\n        alt: \"First slide\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 14\n      }, this);\n    } else if (format === 'image') {\n      return /*#__PURE__*/_jsxDEV(\"audio\", {\n        width: \"450\",\n        src: url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 14\n      }, this);\n    }\n  }\n\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            py: 3,\n            style: {\n              backgroundColor: 'background.default',\n              minHeight: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(Container, {\n              maxWidth: false,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.paper,\n                children: [/*#__PURE__*/_jsxDEV(Alert, {\n                  severity: \"info\",\n                  children: \"You are currently Adding New Steps\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h1\",\n                  align: \"center\",\n                  gutterBottom: true,\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \" Add  Step\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 10\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                  className: classes.form,\n                  onSubmit: handleSubmit,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Grid, {\n                      container: true,\n                      spacing: 3,\n                      style: {\n                        marginRight: \"50px\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Grid, {\n                        item: true,\n                        lg: 12,\n                        sm: 12,\n                        xl: 6,\n                        xs: 12,\n                        children: [/*#__PURE__*/_jsxDEV(TextField, {\n                          label: \"Content id\",\n                          value: manual_id,\n                          variant: \"outlined\",\n                          margin: \"normal\",\n                          fullWidth: true,\n                          disabled: true,\n                          onChange: e => setCid(e.target.value)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 225,\n                          columnNumber: 13\n                        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                          value: title,\n                          variant: \"outlined\",\n                          error: title.length > 40,\n                          margin: \"normal\",\n                          required: true,\n                          fullWidth: true,\n                          id: \"title\",\n                          label: \"Step Title\",\n                          name: \"title\",\n                          autoFocus: true,\n                          onChange: e => setTitle(e.target.value)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 234,\n                          columnNumber: 15\n                        }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n                          children: [\"Title should be max \", title.length, \"/40\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 247,\n                          columnNumber: 15\n                        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                          value: desc,\n                          error: desc.length > 150,\n                          variant: \"outlined\",\n                          margin: \"normal\",\n                          required: true,\n                          fullWidth: true,\n                          rows: 7,\n                          name: \"step_description\",\n                          label: \"Description\",\n                          onChange: e => setDesc(e.target.value),\n                          id: \"step_description\",\n                          multiline: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 248,\n                          columnNumber: 15\n                        }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n                          style: {\n                            marginBottom: '20px'\n                          },\n                          children: [\"Description should be max \", desc.length, \"/150\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 264,\n                          columnNumber: 15\n                        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                          required: true,\n                          style: {\n                            marginBottom: '20px'\n                          },\n                          fullWidth: true,\n                          variant: \"outlined\",\n                          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                            children: \"Select Type\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 266,\n                            columnNumber: 15\n                          }, this), /*#__PURE__*/_jsxDEV(Select, {\n                            required: true,\n                            label: \"Select Type\",\n                            value: type,\n                            required: true,\n                            onChange: e => setType(e.target.value),\n                            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                              value: \"info\",\n                              children: \"Info\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 274,\n                              columnNumber: 17\n                            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                              value: \"camera\",\n                              children: \"Camera\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 275,\n                              columnNumber: 18\n                            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                              value: \"critical\",\n                              children: \"Critical\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 276,\n                              columnNumber: 19\n                            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                              value: \"normal\",\n                              children: \"Normal\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 277,\n                              columnNumber: 20\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 267,\n                            columnNumber: 15\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 265,\n                          columnNumber: 15\n                        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                          required: true,\n                          style: {\n                            marginBottom: '20px'\n                          },\n                          fullWidth: true,\n                          variant: \"outlined\",\n                          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                            children: \"Select Format \"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 281,\n                            columnNumber: 11\n                          }, this), /*#__PURE__*/_jsxDEV(Select, {\n                            value: format,\n                            label: \"Select Format\",\n                            required: true,\n                            onChange: e => setFormat(e.target.value),\n                            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                              value: \"image\",\n                              children: \"Image\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 290,\n                              columnNumber: 17\n                            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                              value: \"video\",\n                              children: \"Video\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 291,\n                              columnNumber: 18\n                            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                              value: \"audio\",\n                              children: \"Audio\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 292,\n                              columnNumber: 19\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 282,\n                            columnNumber: 15\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 280,\n                          columnNumber: 15\n                        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 297,\n                          columnNumber: 15\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 218,\n                        columnNumber: 11\n                      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                        xs: 12,\n                        lg: 12,\n                        sm: 12,\n                        children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n                          severity: \"error\",\n                          children: error\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 307,\n                          columnNumber: 18\n                        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 308,\n                          columnNumber: 7\n                        }, this), /*#__PURE__*/_jsxDEV(InputLabel, {\n                          variant: \"contained\",\n                          children: \"Add Media\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 309,\n                          columnNumber: 8\n                        }, this), /*#__PURE__*/_jsxDEV(DropzoneArea, {\n                          dropzoneClass: classes.drop,\n                          showFileNames: true,\n                          onChange: loadedFiles => handleChange(loadedFiles),\n                          dropzoneText: \"Drag and Drop / Click to ADD Media\",\n                          showAlerts: false,\n                          filesLimit: 1\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 310,\n                          columnNumber: 8\n                        }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n                          style: {\n                            marginTop: 10\n                          },\n                          variant: \"determinate\",\n                          value: progress\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 321,\n                          columnNumber: 6\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'flex',\n                            justifyContent: 'center'\n                          },\n                          children: url ? getPreview(url) : /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAREAAAC4CAMAAADzLiguAAAANlBMVEXp7vG6vsHs8fS2ur3c4eTU2dzm6u3P1Ne4vL/u8/a4vL67v8G0ubzDx8rY3eDEyMvh5unKz9Izr04MAAADb0lEQVR4nO2c63KrIBRGFY1CY4x5/5c93nKiICZGGOvuWj86adowYc0HWxgxSQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOC3oiJwdJ/2oJr6Epy6Sc4qxeTXKtNPfoYfP9NXDj//f0xfv97oX2X6cU4l5pGl6TWNgdbF0b37AnPXUWwMVEd37wvqLKKQNnzm6A5uxcRMSEuWH93DrTRV/8XbaVBnQdFj9u4nm13Vpc+ILk3wy5FCn3LYqHL43hG+9ti0PqmRCNGO2HRMVJlGNqIx8mpakpEQyzRBRlSSd+u0vT0RY8Tkt6rq1mnXcl9fpBjp130DOt2Vk8HI9exG1G16VV81u5qWkBF7Ibxn6SrDSF5ZC7UdqxIRRoyzcZR9P25EGCnsiLRLwK87JMGIqt3NkjdL15VdQxFGSkfIm+v7Irt7jUmovm0f3B3o1Q7pVHuViMjIZeOo6aYdffP8hwQjSePuQq+U33Ee9ikRYcQ4tSar/Z996vMoEWHkue31wTSiJpV6WYkII4myjFS5rz/FdIAtKpFhxJpJqod3Xp3POEtKJFTf7vdGv2KSeYU4F7cLSoRkJFHJvRqcZDr3CnFrkntdIsVIW3CK8tam/ZEbb1+ckrSUEjlG2jeNUsbvw10PjimZf0KSkfVPLAyZxYHzV4woT0LcgSOk1rylWLu7YpaSv5KR9ftvpin5G0ZWhoyjRKIRU1tvF9XbO5JeSgQaMXU1nyrfJmSmRJ6RVkia3iZ/+CAhaVdcRiXijPRCpoPAex3iSYm06qvq+Q7ZZ0NmVDIxIiYjTyGdkv5vG4SINGIm9/32Kfl4yAg1YuppIlolWxIi0Yip7R2ybTdGizNiC9mMFlZr1O6zA8Iysjsh0oy0ZXf36SNRRsxlU1WRb8RcQpw/EmSkuw4JcGJPkJE6wJBJJVXfxXuMdho5d0YwkmDEBSM2GLGJboRaYxs5d0YSjNgZeVRBjoNXYowkTR6GsWkBRgI3jRG7aYzYTWPEbvqkRqI97sCc1MiwaaYfSRGa/JzPH3k+oyYNciEyZ2j4dE8Ac49vhmXHYdCjyOM+68p3QusXY8owm6uL6LPNqz0RlWTXozv3Haq5R5hXW66XMyakxwRb400p/IcNAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4FD+AZS0NBe99dfKAAAAAElFTkSuQmCC\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 325,\n                            columnNumber: 12\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 322,\n                          columnNumber: 6\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 302,\n                        columnNumber: 15\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 11\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      justifyContent: 'center',\n                      marginTop: '25px'\n                    },\n                    children: [!loading && /*#__PURE__*/_jsxDEV(Button, {\n                      type: \"submit\",\n                      style: {\n                        width: '50%',\n                        color: 'white',\n                        background: 'orange'\n                      },\n                      variant: \"contained\",\n                      color: \"primary\",\n                      disabled: disabled || desc.length > 150 || title.length > 40,\n                      children: \"Add Step\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 23\n                    }, this), loading && /*#__PURE__*/_jsxDEV(Button, {\n                      type: \"submit\",\n                      style: {\n                        width: '50%',\n                        color: 'white',\n                        background: 'grey'\n                      },\n                      variant: \"contained\",\n                      color: \"primary\",\n                      disabled: true,\n                      children: \"Adding Step...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 345,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 8\n                  }, this), message && /*#__PURE__*/_jsxDEV(Alert, {\n                    severity: \"success\",\n                    children: message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 20\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 9\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(AddSteps, \"CxfaYPfaDBg0KuTPfQZ3jmQ7Usc=\", false, function () {\n  return [useHistory, useStorage, useStyles];\n});\n\n_c = AddSteps;\nexport default AddSteps;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddSteps\");","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/Steps/AddSteps.jsx"],"names":["Box","Button","Card","CircularProgress","Container","FormControl","FormHelperText","Grid","InputLabel","LinearProgress","makeStyles","MenuItem","Select","TextField","Typography","React","useEffect","useState","useHistory","useDropzone","db","storage","storageRef","DropzoneArea","Alert","v4","uuid","ManualDashboardLayout","StepDashboardLayout","useStorage","firebaseLooper","useStyles","theme","paper","avatar","margin","spacing","backgroundColor","form","width","marginTop","submit","maxWidth","background","borderRadius","drag","border","drop","textAlign","color","fontFamily","backButton","margiinTop","wrapper","display","flex","overflow","paddingTop","breakpoints","up","paddingLeft","container","content","height","AddSteps","match","title","setTitle","desc","setDesc","disabled","setDisabled","createdAt","setCreatedAt","format","setFormat","type","setType","manual_id","setCid","params","id","file","setFile","error","setError","media","setMedia","mediaData","types","videoTypes","audioTypes","loading","setLoading","message","setMessage","history","handleReturn","go","indexD","setIndex","collection","where","onSnapshot","doc","data","handleChange","loadedFiles","selectedFile","includes","progress","url","handleSubmit","e","preventDefault","trim","length","index","steps","add","then","getPreview","classes","minHeight","marginRight","target","value","marginBottom","justifyContent"],"mappings":"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","sourcesContent":["import { Box, Button, Card, CircularProgress, Container, FormControl, FormHelperText, Grid, InputLabel, LinearProgress, makeStyles, MenuItem, Select, TextField, Typography } from '@material-ui/core'\r\nimport React, { useEffect, useState } from 'react';\r\nimport {useHistory} from 'react-router-dom'\r\nimport {useDropzone} from 'react-dropzone';\r\nimport {db, storage, storageRef} from '../../firebase'\r\nimport { DropzoneArea } from 'material-ui-dropzone';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { v4 as uuid } from 'uuid'\r\nimport ManualDashboardLayout from '../../components/ManualSidebar/ManualDashboardLayout'\r\nimport StepDashboardLayout from '../../components/StepSidebar/StepDashboardLayout';\r\nimport { useStorage } from '../../utils/useStorage';\r\nimport { firebaseLooper } from '../../utils/tools';\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    \r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: '#141256',\r\n  },\r\n  form: {\r\n    width:\"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    maxWidth: \"50%\",\r\n      background: \"#ff7a00\",\r\n      borderRadius: '20px',\r\n      margin: theme.spacing(3, 0, 2),\r\n  },\r\n  drag: {\r\n \r\n  border: \"4px dashed #fff\",\r\n  },\r\n  drop: {\r\n    textAlign: \"center\",\r\n    color: \"#4a47a3\",\r\n    fontFamily: \"roboto\"\r\n  },\r\n  backButton: {\r\n      margiinTop: \"30px\",\r\n        backgroundColor: \"#A997DF\",\r\n        color: \"white\",\r\n        \r\n    },\r\n    wrapper: {\r\n  display: 'flex',\r\n  flex: '1 1 auto',\r\n  overflow: 'hidden',\r\n  paddingTop: 64,\r\n  [theme.breakpoints.up('lg')]: {\r\n    paddingLeft: 256\r\n  },\r\n\r\n  },\r\n  container: {\r\n      display: 'flex',\r\n  flex: '1 1 auto',\r\n  overflow: 'hidden'\r\n  },\r\n  content: {\r\n    \r\n      flex: '1 1 auto',\r\n  height: '100%',\r\n  overflow: 'auto'\r\n    },\r\n}));\r\n\r\n\r\nconst AddSteps = ({match}) => {\r\n\r\n\r\n  const [title, setTitle] = useState('')\r\n  const [desc, setDesc] = useState('');\r\n  const [disabled, setDisabled] = useState(false);\r\n  const [createdAt, setCreatedAt] = useState('');\r\n  const [format, setFormat] = useState('')\r\n   const [type, setType] = useState('');\r\n  const [manual_id, setCid] = useState(match.params.id)\r\n  const [file, setFile] = useState(null);\r\n  const [error, setError] = useState('')\r\n  const [media, setMedia] = useState({\r\n    mediaData: null\r\n  })\r\n   const types = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\r\n   const videoTypes = [\"video/mp4\", \"video/mkv\", \"video/mov\"];\r\n   const audioTypes = [\"audio/mp3\", 'audio/mpeg']\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('')\r\n  const history = useHistory();\r\n  const handleReturn = () => {\r\n    history.go(-1)\r\n  }\r\n  const [indexD, setIndex] = useState([])\r\n  useEffect(() => {\r\n    db.collection('stepData').where('manual_id', '==', `${match.params.id}`).onSnapshot(doc=>{\r\n      const data = firebaseLooper(doc)\r\n      setIndex(data)\r\n    })\r\n  }, [])\r\n  const handleChange = (loadedFiles) => {\r\n\r\n   \r\n        let selectedFile = loadedFiles[0]\r\n        \r\n        if (selectedFile) {\r\n\r\n          if(type === \"\" || format === \"\"){\r\n            setError(\"Please Select a Type / Format first to proceed\")\r\n          }\r\n          if(format === 'image'){\r\n             if (types.includes(selectedFile.type)) {\r\n                setError(null);\r\n                setFile(selectedFile);\r\n                setDisabled(false)\r\n            } else {\r\n                setFile(null);\r\n                setError(\"Please select an image file (png or jpg)\");\r\n                setMessage(\"\")\r\n                setDisabled(true)\r\n            }\r\n          }else if(format === 'video'){\r\n            if (videoTypes.includes(selectedFile.type)) {\r\n                setError(null);\r\n                setFile(selectedFile);\r\n            } else {\r\n                setFile(null);\r\n                setError(\"Please select a video file (mp4 or mkv)\");\r\n                setMessage(\"\")\r\n                setDisabled(true)\r\n            }\r\n          }else if(format === 'audio'){\r\n            if (audioTypes.includes(selectedFile.type)) {\r\n                setError(null);\r\n                setFile(selectedFile);\r\n            } else {\r\n                setFile(null);\r\n                setError(\"Please select an audio file (mp3 )\");\r\n                setMessage(\"\")\r\n                setDisabled(true)\r\n            }\r\n          }\r\n           \r\n        }\r\n       \r\n       \r\n    }\r\n    const { progress, url } = useStorage(file);\r\n\r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      if(title?.trim().length === 0 || desc?.trim().length === 0 ){\r\n        return setError(\"Empty Strings are not accepted as valid inputs ! Please try again with a valid input\");\r\n      }\r\n    \r\n    const index = indexD.length\r\n    const steps = {title, desc, manual_id, url, type, index, format };\r\n    setLoading(true);\r\n    db.collection('stepData').add(steps).then(()=>{\r\n      setLoading(false)\r\n      setMessage('Step Added successfully ! Close the Window or Add another one')\r\n      setTitle(\"\")\r\n      setDesc(\"\")\r\n      setError(\"\")\r\n      setFormat(\"\")\r\n      setType(\"\")\r\n     \r\n    })\r\n  }\r\n\r\n  function getPreview(url){\r\n    if(format === 'image'){\r\n      return <img width='450' src={url}/>\r\n    }\r\n    else if(format === 'video'){\r\n      return <video\r\n    style={{ width: '90%', marginTop: '20px'}}\r\n    controls\r\n      src={url}\r\n      alt=\"First slide\"\r\n    />\r\n    }\r\n    else if(format === 'image'){\r\n      return <audio width='450' src={url}/>\r\n    }\r\n  }\r\n \r\n \r\n\r\n  const classes= useStyles();\r\n    return (\r\n      <>\r\n     \r\n        <div >\r\n        <div >\r\n          <Card >\r\n            <Box\r\n               py={3}\r\n              style={{\r\n                backgroundColor: 'background.default',\r\n                minHeight: '100%',\r\n              }}\r\n            >\r\n              <Container  maxWidth={false}>\r\n          <div className={classes.paper}>\r\n            <Alert severity=\"info\">You are currently Adding New Steps</Alert>\r\n            <br/>\r\n            <Typography variant=\"h1\" align='center' gutterBottom>\r\n         <b> Add  Step</b>\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit}>\r\n          \r\n          <div style={{display: 'flex'}}>\r\n          <Grid \r\n           container\r\n           spacing={3}\r\n          style={{marginRight: \"50px\"}} >\r\n          <Grid\r\n          item\r\n            lg={12}\r\n            sm={12}\r\n            xl={6}\r\n            xs={12}\r\n          >\r\n            <TextField\r\n              label=\"Content id\"\r\n              value={manual_id}\r\n              variant='outlined'\r\n              margin='normal'\r\n              fullWidth\r\n              disabled\r\n              onChange={(e) => setCid(e.target.value)}\r\n              />\r\n              <TextField\r\n              value={title}\r\n                variant=\"outlined\"\r\n                error={title.length > 40}\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"title\"\r\n                label=\"Step Title\"\r\n                name=\"title\"\r\n                autoFocus\r\n                onChange={(e) => setTitle(e.target.value)}\r\n              />\r\n              <FormHelperText>Title should be max {title.length}/40</FormHelperText>\r\n              <TextField\r\n              value={desc}\r\n                error={desc.length > 150}\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                rows={7}\r\n                name=\"step_description\"\r\n                label=\"Description\"\r\n                onChange={(e) => setDesc(e.target.value)}\r\n                id=\"step_description\"\r\n                multiline\r\n                \r\n                \r\n              />\r\n              <FormHelperText style={{marginBottom: '20px'}}>Description should be max {desc.length}/150</FormHelperText>\r\n              <FormControl required  style={{marginBottom: '20px'}} fullWidth variant='outlined'>\r\n              <InputLabel>Select Type</InputLabel>\r\n              <Select\r\n              required\r\n              label=\"Select Type\"\r\n              value={type}\r\n               required\r\n                onChange={(e) => setType(e.target.value)}\r\n              >\r\n                <MenuItem value='info'>Info</MenuItem>\r\n                 <MenuItem value='camera'>Camera</MenuItem>\r\n                  <MenuItem value='critical'>Critical</MenuItem>\r\n                   <MenuItem value='normal'>Normal</MenuItem>\r\n              </Select>\r\n              </FormControl>\r\n              <FormControl required  style={{marginBottom: '20px'}} fullWidth variant='outlined'>\r\n          <InputLabel>Select Format </InputLabel>\r\n              <Select\r\n             \r\n              value={format}\r\n                label=\"Select Format\"\r\n               required\r\n                \r\n                onChange={(e) => setFormat(e.target.value)}\r\n              >\r\n                <MenuItem value='image'>Image</MenuItem>\r\n                 <MenuItem value='video'>Video</MenuItem>\r\n                  <MenuItem value='audio'>Audio</MenuItem>\r\n                  \r\n              </Select>\r\n              </FormControl>\r\n             \r\n              <br/>\r\n              \r\n          </Grid>\r\n         \r\n          \r\n              <Grid\r\n            xs={12}\r\n            lg={12}\r\n            sm={12}\r\n            >\r\n      {error &&  <Alert severity=\"error\">{error}</Alert>}\r\n      <br/>\r\n       <InputLabel variant=\"contained\">Add Media</InputLabel>\r\n       <DropzoneArea\r\n       \r\n       dropzoneClass={classes.drop}\r\n        showFileNames\r\n        onChange={(loadedFiles) => handleChange(loadedFiles)}\r\n        dropzoneText=\"Drag and Drop / Click to ADD Media\"\r\n        showAlerts={false}\r\n        filesLimit={1}\r\n      />\r\n    \r\n     {/* <h5>{progress}% Uploaded</h5> */}\r\n     <LinearProgress style={{marginTop: 10}} variant=\"determinate\" value={progress} />\r\n     <div style={{display: 'flex', justifyContent: 'center'}}>\r\n       {url ?\r\n         getPreview(url)\r\n         : <img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAREAAAC4CAMAAADzLiguAAAANlBMVEXp7vG6vsHs8fS2ur3c4eTU2dzm6u3P1Ne4vL/u8/a4vL67v8G0ubzDx8rY3eDEyMvh5unKz9Izr04MAAADb0lEQVR4nO2c63KrIBRGFY1CY4x5/5c93nKiICZGGOvuWj86adowYc0HWxgxSQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOC3oiJwdJ/2oJr6Epy6Sc4qxeTXKtNPfoYfP9NXDj//f0xfv97oX2X6cU4l5pGl6TWNgdbF0b37AnPXUWwMVEd37wvqLKKQNnzm6A5uxcRMSEuWH93DrTRV/8XbaVBnQdFj9u4nm13Vpc+ILk3wy5FCn3LYqHL43hG+9ti0PqmRCNGO2HRMVJlGNqIx8mpakpEQyzRBRlSSd+u0vT0RY8Tkt6rq1mnXcl9fpBjp130DOt2Vk8HI9exG1G16VV81u5qWkBF7Ibxn6SrDSF5ZC7UdqxIRRoyzcZR9P25EGCnsiLRLwK87JMGIqt3NkjdL15VdQxFGSkfIm+v7Irt7jUmovm0f3B3o1Q7pVHuViMjIZeOo6aYdffP8hwQjSePuQq+U33Ee9ikRYcQ4tSar/Z996vMoEWHkue31wTSiJpV6WYkII4myjFS5rz/FdIAtKpFhxJpJqod3Xp3POEtKJFTf7vdGv2KSeYU4F7cLSoRkJFHJvRqcZDr3CnFrkntdIsVIW3CK8tam/ZEbb1+ckrSUEjlG2jeNUsbvw10PjimZf0KSkfVPLAyZxYHzV4woT0LcgSOk1rylWLu7YpaSv5KR9ftvpin5G0ZWhoyjRKIRU1tvF9XbO5JeSgQaMXU1nyrfJmSmRJ6RVkia3iZ/+CAhaVdcRiXijPRCpoPAex3iSYm06qvq+Q7ZZ0NmVDIxIiYjTyGdkv5vG4SINGIm9/32Kfl4yAg1YuppIlolWxIi0Yip7R2ybTdGizNiC9mMFlZr1O6zA8Iysjsh0oy0ZXf36SNRRsxlU1WRb8RcQpw/EmSkuw4JcGJPkJE6wJBJJVXfxXuMdho5d0YwkmDEBSM2GLGJboRaYxs5d0YSjNgZeVRBjoNXYowkTR6GsWkBRgI3jRG7aYzYTWPEbvqkRqI97sCc1MiwaaYfSRGa/JzPH3k+oyYNciEyZ2j4dE8Ac49vhmXHYdCjyOM+68p3QusXY8owm6uL6LPNqz0RlWTXozv3Haq5R5hXW66XMyakxwRb400p/IcNAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4FD+AZS0NBe99dfKAAAAAElFTkSuQmCC'/>\r\n       }\r\n     </div>\r\n     </Grid>       \r\n          </Grid>\r\n   \r\n     </div>\r\n\r\n       <div style={{display: 'flex', justifyContent: 'center', marginTop: '25px'}}>\r\n         {!loading && <Button\r\n\r\n            type=\"submit\"\r\n            style={{width: '50%', color: 'white', background: 'orange'}}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disabled={disabled || desc.length > 150 || title.length > 40}\r\n          >\r\n            Add Step\r\n            </Button>}\r\n         {\r\n           loading && <Button\r\n            type=\"submit\"\r\n            style={{width: '50%', color: 'white', background: 'grey'}}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disabled\r\n            \r\n          >Adding Step...</Button>\r\n         }   \r\n       </div>\r\n       {message && <Alert severity=\"success\">{message}</Alert>}\r\n          </form>\r\n          </div>\r\n          \r\n        </Container>\r\n        </Box>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n        \r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddSteps\r\n"]},"metadata":{},"sourceType":"module"}