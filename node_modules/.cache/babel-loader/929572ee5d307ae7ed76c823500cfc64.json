{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Typography,Toolbar,TextField,Dialog,DialogContent,DialogActions,Button}from\"@material-ui/core\";import{setGridPageSizeActionCreator}from\"@material-ui/data-grid\";import{useEffect}from\"react\";import{useState}from\"react\";import{db}from\"../../../firebase\";import{firebaseLooper}from\"../../../utils/tools\";import IQHeader from\"../IQComponents/IQHeader\";import ScopeView from\"../IQComponents/ScopeView\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function IQScope(_ref){var match=_ref.match;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),scope=_useState2[0],setScope=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),desc=_useState6[0],setDesc=_useState6[1];function handleOpen(){setOpen(true);}function handleClose(){setOpen(false);}function handleSubmit(){var index=scope.length;db.collection('IQ').doc(match.params.id).collection('content').doc('scope').collection('details').add({index:index,desc:desc});}useEffect(function(){db.collection('IQ').doc(match.params.id).collection('content').doc('scope').collection('details').onSnapshot(function(snap){var data=firebaseLooper(snap);data.sort(function(a,b){return a.index-b.index;});setScope(data);});},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(IQHeader,{match:match}),/*#__PURE__*/_jsx(Toolbar,{children:/*#__PURE__*/_jsx(Button,{onClick:handleOpen,children:\"Add New\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"h1\",align:\"center\",gutterBottom:true,children:/*#__PURE__*/_jsx(\"b\",{children:\"SCOPE\"})}),/*#__PURE__*/_jsx(\"hr\",{}),scope.map(function(data){return/*#__PURE__*/_jsx(ScopeView,{data:data},data.id);}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,fullWidth:true,children:[/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",fullWidth:true,label:\"Description\",onChange:function onChange(e){return setDesc(e.target.value);}})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:handleClose,variant:\"contained\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{disabled:desc==='',onClick:handleSubmit,style:{background:'orange',color:'white'},children:\"Add New\"})]})]})]});}export default IQScope;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/IQ/IQPages.jsx/IQScope.jsx"],"names":["Typography","Toolbar","TextField","Dialog","DialogContent","DialogActions","Button","setGridPageSizeActionCreator","useEffect","useState","db","firebaseLooper","IQHeader","ScopeView","IQScope","match","scope","setScope","open","setOpen","desc","setDesc","handleOpen","handleClose","handleSubmit","index","length","collection","doc","params","id","add","onSnapshot","snap","data","sort","a","b","map","e","target","value","background","color"],"mappings":"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","sourcesContent":["import { Typography, Toolbar, TextField, Dialog, DialogContent, DialogActions, Button } from \"@material-ui/core\";\nimport { setGridPageSizeActionCreator } from \"@material-ui/data-grid\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { db } from \"../../../firebase\";\nimport { firebaseLooper } from \"../../../utils/tools\";\nimport IQHeader from \"../IQComponents/IQHeader\";\nimport ScopeView from \"../IQComponents/ScopeView\";\n\nfunction IQScope({match}) {\n\tconst [scope, setScope] = useState([])\n\tconst [open, setOpen] = useState(false)\n\tconst [desc, setDesc] = useState('')\n\tfunction handleOpen(){\n\t\tsetOpen(true)\n\t}\n\tfunction handleClose(){\n\t\tsetOpen(false)\n\t}\n\tfunction handleSubmit(){\n\t\tvar index = scope.length\n\t\tdb.collection('IQ').doc(match.params.id)\n\t\t.collection('content').doc('scope')\n\t\t.collection('details')\n\t\t.add({index, desc})\n\t}\n\tuseEffect(() => {\n\t\t\n\t\tdb.collection('IQ').doc(match.params.id)\n\t\t.collection('content').doc('scope')\n\t\t.collection('details')\n\t\t.onSnapshot(snap => {\n\t\t\t\tconst data =\tfirebaseLooper(snap)\n\t\t\t\tdata.sort(function(a,b){\n\t\t\t\t\treturn(a.index-b.index)\n\t\t\t\t})\n\t\t\t\tsetScope(data)\n\t\t})\n\t}, [])\n\treturn (\n\t\t<div>\n\t\t\t<IQHeader match={match}/>\n\t\t\t<Toolbar>\n\t\t\t\t<Button onClick={handleOpen}>Add New</Button>\n\t\t\t</Toolbar>\n\t\t\t<Typography variant='h1' align='center' gutterBottom ><b>SCOPE</b></Typography>\n\t\t\t<hr />\n\t\t\t{\n\t\t\t\tscope.map(data => (\n\t\t\t\t\t<ScopeView key={data.id} data={data}/>\n\t\t\t\t))\n\t\t\t}\n\t\t\t<Dialog open={open} onClose={handleClose} fullWidth>\n\t\t\t<DialogContent>\n\t\t\t\t<TextField variant='outlined' fullWidth label='Description' onChange={(e) => setDesc(e.target.value)} />\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button color='secondary' onClick={handleClose} variant='contained'>Cancel</Button>\n\t\t<Button disabled={ desc===''} onClick={handleSubmit} style={{background: 'orange', color: 'white'}}>Add New</Button>\n\t\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t\t</div>\n\t\t\n\t)\n}\n\nexport default IQScope\n"]},"metadata":{},"sourceType":"module"}