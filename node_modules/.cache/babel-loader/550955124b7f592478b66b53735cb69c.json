{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useEffect,useState}from'react';import{makeStyles}from'@material-ui/core/styles';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import{db}from'../../firebase';import{firebaseLooper}from'../../utils/tools';import ContentDashboardLayout from'../../components/ContentSidebar/ContentDashboardLayout';import{Card,Checkbox,TextField,Typography,Button,Select,FormControl,InputLabel,MenuItem}from'@material-ui/core';import DatePicker from'react-date-picker';import SearchIcon from'@material-ui/icons/Search';import JobView from'./JobView';import Page from'../../components/Page';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{table:{minWidth:650},wrapper:_defineProperty({display:'flex',flex:'1 1 auto',overflow:'hidden',paddingTop:64},theme.breakpoints.up('lg'),{paddingLeft:256}),container:{display:'flex',flex:'1 1 auto',overflow:'hidden'},content:{padding:'20px',flex:'1 1 auto',height:'100%',overflow:'auto'}};});function createData(name,calories,fat,carbs,protein){return{name:name,calories:calories,fat:fat,carbs:carbs,protein:protein};}export default function JobsList(_ref){var match=_ref.match;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),job=_useState2[0],setJob=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),mTitle=_useState4[0],setMTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setDate=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),users=_useState8[0],setUsers=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),title=_useState10[0],setTitle=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),user=_useState12[0],setUser=_useState12[1];useEffect(function(){db.collection('machineData').doc(match.params.id).onSnapshot(function(doc){setMTitle(doc.data().title);});db.collection('users').onSnapshot(function(snap){var data=firebaseLooper(snap);setUsers(data);});db.collection('jobData').where('mid','==',\"\".concat(match.params.id)).onSnapshot(function(doc){var data=firebaseLooper(doc);data.sort(function(a,b){return b.date-a.date;});setJob(data);});},[]);var classes=useStyles();function userHandleChange(e){var temp=e.target.value;if(temp===\"\"){db.collection('jobData').where('mid','==',\"\".concat(match.params.id)).onSnapshot(function(doc){var data=firebaseLooper(doc);data.sort(function(a,b){return b.date-a.date;});setJob(data);});}else{db.collection('jobData').where('mid','==',\"\".concat(match.params.id)).where('email','==',\"\".concat(temp)).onSnapshot(function(doc){var data=firebaseLooper(doc);data.sort(function(a,b){return b.date-a.date;});setJob(data);});}}function pendingCheck(e){var temp=e.target.value;if(temp===\"\"){db.collection('jobData').where('mid','==',\"\".concat(match.params.id)).onSnapshot(function(doc){var data=firebaseLooper(doc);data.sort(function(a,b){return b.date-a.date;});setJob(data);});}else{db.collection('jobData').where('mid','==',\"\".concat(match.params.id)).where('status','==',temp).onSnapshot(function(doc){var data=firebaseLooper(doc);data.sort(function(a,b){return b.date-a.date;});setJob(data);});}}var handleClick=function handleClick(){db.collection('jobData').where('mid','==',\"\".concat(match.params.id)).onSnapshot(function(doc){var data=firebaseLooper(doc);data.sort(function(a,b){return b.date-a.date;});setJob(data);});};return/*#__PURE__*/_jsx(\"div\",{style:{paddingLeft:'2.5rem',paddingRight:'2.5rem'},children:/*#__PURE__*/_jsxs(Page,{title:\"Jobs | LyoIms\",children:[/*#__PURE__*/_jsx(ContentDashboardLayout,{match:match}),/*#__PURE__*/_jsx(\"div\",{className:classes.wrapper,children:/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:/*#__PURE__*/_jsxs(Card,{className:classes.content,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{style:{color:'black'},variant:\"h1\",align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Jobs\"})}),/*#__PURE__*/_jsx(Typography,{align:\"left\",variant:\"body2\",children:\" These are all the Job status \"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'flex-end',marginBottom:'30px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative mr-3\",children:[/*#__PURE__*/_jsx(\"input\",{style:{border:'2px solid whitesmoke'},onChange:function onChange(e){return setTitle(e.target.value);},type:\"text\",className:\"h-14 w-96 pr-8 pl-5 rounded z-0 focus:shadow focus:outline-none\",placeholder:\"Search Jobs...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-4 right-3\",children:[/*#__PURE__*/_jsx(SearchIcon,{style:{opacity:'0.5'}}),\"  \"]})]}),/*#__PURE__*/_jsxs(FormControl,{style:{width:'140px'},variant:\"outlined\",children:[/*#__PURE__*/_jsx(InputLabel,{variant:\"outlined\",children:\"Status\"}),/*#__PURE__*/_jsxs(Select,{onChange:pendingCheck,label:\"Status\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"All\"}),/*#__PURE__*/_jsx(MenuItem,{value:true,children:\"Completed\"}),/*#__PURE__*/_jsx(MenuItem,{value:false,children:\"Pending\"})]})]})]})})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{className:classes.table,\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{style:{backgroundColor:'#d8e3e7'},children:/*#__PURE__*/_jsx(\"b\",{children:\"Title\"})}),/*#__PURE__*/_jsx(TableCell,{style:{backgroundColor:'#d8e3e7'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Description\"})}),/*#__PURE__*/_jsx(TableCell,{style:{backgroundColor:'#d8e3e7'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Assignee\"})}),/*#__PURE__*/_jsx(TableCell,{style:{backgroundColor:'#d8e3e7'},align:\"left\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Date\"})}),/*#__PURE__*/_jsx(TableCell,{style:{backgroundColor:'#d8e3e7'},align:\"right\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Status\"})}),/*#__PURE__*/_jsx(TableCell,{style:{backgroundColor:'#d8e3e7'},align:\"right\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Actions\"})})]})}),/*#__PURE__*/_jsx(TableBody,{children:job.filter(function(row){if(title===\"\"){return row;}else if(row.title.toLowerCase().includes(title.toLocaleLowerCase())){return row;}else if(row.desc.toLowerCase().includes(title.toLocaleLowerCase())){return row;}else if(row.email.toLowerCase().includes(title.toLocaleLowerCase())){return row;}}).map(function(row){return/*#__PURE__*/_jsx(JobView,{row:row,match:match},row.id);})})]})})]})})})]})});}","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/JobsData/JobsList.jsx"],"names":["React","useEffect","useState","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","db","firebaseLooper","ContentDashboardLayout","Card","Checkbox","TextField","Typography","Button","Select","FormControl","InputLabel","MenuItem","DatePicker","SearchIcon","JobView","Page","useStyles","theme","table","minWidth","wrapper","display","flex","overflow","paddingTop","breakpoints","up","paddingLeft","container","content","padding","height","createData","name","calories","fat","carbs","protein","JobsList","match","job","setJob","mTitle","setMTitle","date","setDate","users","setUsers","title","setTitle","user","setUser","collection","doc","params","id","onSnapshot","data","snap","where","sort","a","b","classes","userHandleChange","e","temp","target","value","pendingCheck","handleClick","paddingRight","justifyContent","color","marginBottom","border","opacity","width","backgroundColor","filter","row","toLowerCase","includes","toLocaleLowerCase","desc","email","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { db } from '../../firebase';\nimport { firebaseLooper } from '../../utils/tools';\nimport ContentDashboardLayout from '../../components/ContentSidebar/ContentDashboardLayout';\nimport { Card, Checkbox, TextField, Typography, Button, Select, FormControl, InputLabel, MenuItem } from '@material-ui/core';\nimport DatePicker from 'react-date-picker';\nimport SearchIcon from '@material-ui/icons/Search';\nimport JobView from './JobView'\nimport Page from '../../components/Page';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    minWidth: 650,\n  },\n  wrapper: {\n  display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden',\n  paddingTop: 64,\n  [theme.breakpoints.up('lg')]: {\n    paddingLeft: 256\n  },\n   \n  },\n  container: {\n      display: 'flex',\n  flex: '1 1 auto',\n  overflow: 'hidden'\n  },\n  content: {\n     padding: '20px',\n      flex: '1 1 auto',\n  height: '100%',\n  overflow: 'auto'\n    },\n}));\n\nfunction createData(name, calories, fat, carbs, protein) {\n  return { name, calories, fat, carbs, protein };\n}\n\n\n\nexport default function JobsList({match}) {\n\n     const [job, setJob] = useState([])\n     const [mTitle, setMTitle] = useState('')\n     const [date, setDate] = useState('')\n     const [users, setUsers] = useState([])\n     const [title, setTitle] = useState('')\n    const [user, setUser] = useState('')\n    useEffect(() => {\n      db.collection('machineData')\n       .doc(match.params.id)\n        .onSnapshot(doc => {\n         setMTitle(doc.data().title)\n        })\n        db.collection('users').onSnapshot(snap => {\n          const data = firebaseLooper(snap)\n          setUsers(data)\n        })\n        db.collection('jobData').where('mid', '==', `${match.params.id}`).onSnapshot(doc => {\n            const data = firebaseLooper(doc)\n            data.sort(function(a,b){\n              return(b.date - a.date)\n            })\n            setJob(data)\n        })\n    }, [])\n  const classes = useStyles();\n  \n  function userHandleChange(e){\n      const temp = e.target.value\n      if(temp === \"\"){\n        db.collection('jobData').where('mid', '==', `${match.params.id}`).onSnapshot(doc => {\n          const data = firebaseLooper(doc)\n          data.sort(function(a,b){\n            return(b.date - a.date)\n          })\n          setJob(data)\n      })\n      }else {\n         db.collection('jobData').where('mid', '==', `${match.params.id}`).where('email', '==', `${temp}`).onSnapshot(doc => {\n        const data = firebaseLooper(doc)\n        data.sort(function(a,b){\n          return(b.date - a.date)\n        })\n        setJob(data)\n    })\n      }\n     \n  }\n\n  function pendingCheck(e){\n    const temp = e.target.value\n    if(temp === \"\"){\n      db.collection('jobData').where('mid', '==', `${match.params.id}`).onSnapshot(doc => {\n        const data = firebaseLooper(doc)\n        data.sort(function(a,b){\n          return(b.date - a.date)\n        })\n        setJob(data)\n    })\n    }else{\n      db.collection('jobData').where('mid', '==', `${match.params.id}`).where('status', '==', temp).onSnapshot(doc => {\n      const data = firebaseLooper(doc)\n      data.sort(function(a,b){\n        return(b.date - a.date)\n      })\n      setJob(data)\n  })\n    }\n    \n  }\n  const handleClick = () => {\n    db.collection('jobData').where('mid', '==', `${match.params.id}`).onSnapshot(doc => {\n      const data = firebaseLooper(doc)\n      data.sort(function(a,b){\n        return(b.date - a.date)\n      })\n      setJob(data)\n  })\n  }\n\n  \n  return (\n <div style={{paddingLeft: '2.5rem', paddingRight: '2.5rem'}}>\n  <Page title='Jobs | LyoIms'>\n      <ContentDashboardLayout match={match}/>\n       <div className={classes.wrapper}>\n        <div className={classes.container}>\n          <Card className={classes.content}>\n            \n            <div>\n            <div style={{display: 'flex', justifyContent: 'space-between'}}>\n              {/* <Typography style={{marginRight: '15px'}} variant='h1' align='center'><b>{mTitle} : </b></Typography> */}\n              <div>\n                 <Typography style={{color: 'black'}} variant='h1' align='left'><b>Jobs</b></Typography>\n               <Typography align='left' variant='body2' > These are all the Job status </Typography>\n              </div>\n             <div>\n             <div style={{display: 'flex', justifyContent: 'flex-end', marginBottom: '30px'}}>\n             <div className=\"relative mr-3\"> \n            <input style={{ border: '2px solid whitesmoke'}} onChange={(e) => setTitle(e.target.value)} type=\"text\" className=\"h-14 w-96 pr-8 pl-5 rounded z-0 focus:shadow focus:outline-none\" placeholder=\"Search Jobs...\"/>\n             <div className=\"absolute top-4 right-3\"><SearchIcon style={{opacity: '0.5'}}/>  </div>\n         </div>\n              \n           \n              <FormControl style={{width: '140px'}} variant='outlined'>\n                <InputLabel variant='outlined'>Status</InputLabel>\n                <Select onChange={pendingCheck} label=\"Status\">\n                <MenuItem value=\"\">All</MenuItem>\n                <MenuItem value={true}>Completed</MenuItem>\n                <MenuItem value={false}>Pending</MenuItem>\n               \n              </Select>\n              </FormControl>\n            \n              {/* <DatePicker\n        onChange={onChange}\n        value={value}\n\n      />\n             <b>{value?.toString().substring(0,15)}</b>\n             <Button onClick={handleClick}>Reset</Button> */}\n              \n               \n                \n              </div>\n             </div>\n            </div>\n              \n              </div>\n              <br/>\n              \n           \n                 <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"simple table\">\n        <TableHead>\n                 \n          <TableRow>  \n            <TableCell  style={{backgroundColor: '#d8e3e7'}}><b>Title</b></TableCell>\n            <TableCell style={{backgroundColor: '#d8e3e7'}} align=\"left\"><b>Description</b></TableCell>\n            \n            <TableCell   style={{backgroundColor: '#d8e3e7'}} align=\"left\"><b>Assignee</b></TableCell>\n            <TableCell  style={{backgroundColor: '#d8e3e7'}} align=\"left\"><b>Date</b></TableCell>\n            <TableCell   style={{backgroundColor: '#d8e3e7'}} align=\"right\"><b>Status</b></TableCell>\n            <TableCell   style={{backgroundColor: '#d8e3e7'}} align=\"right\"><b>Actions</b></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {job.filter((row) => {\n            if(title === \"\" ){\n              return row\n            } else if (row.title.toLowerCase().includes(title.toLocaleLowerCase())){\n              return row\n            }\n            else if (row.desc.toLowerCase().includes(title.toLocaleLowerCase())){\n              return row\n            }\n            else if (row.email.toLowerCase().includes(title.toLocaleLowerCase())){\n              return row\n            }\n           \n          }).map((row) => (\n           <JobView key={row.id} row={row} match={match} />\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n          </Card>\n        </div>\n      </div> \n   \n    </Page>\n \n </div>\n    \n  );\n}"]},"metadata":{},"sourceType":"module"}