{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useState,useEffect}from'react';import{Link,NavLink,useHistory}from'react-router-dom';import{db}from'../../firebase';import{firebaseLooper}from'../../utils/tools';import OpenWithIcon from'@material-ui/icons/OpenWith';import{Box,Card,CardContent,Divider,Grid,Typography,makeStyles,Button,Avatar,Dialog,DialogTitle,DialogContentText,DialogContent,DialogActions,TextField,Container,FormHelperText}from'@material-ui/core';import SupervisorAccountIcon from'@material-ui/icons/SupervisorAccount';import DeleteForeverIcon from'@material-ui/icons/DeleteForever';import EditIcon from'@material-ui/icons/Edit';import{Alert,AlertTitle}from'@material-ui/lab';import{useAuth}from'../context/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{display:'flex',height:\"100%\",backgroundColor:theme.palette.background.dark,marginLeft:\"50px\",marginBottom:\"50px\"},statsItem:{alignItems:'center',display:'flex'},statsIcon:{marginRight:theme.spacing(1)}};});var Machine=function Machine(_ref){var data=_ref.data,rest=_objectWithoutProperties(_ref,[\"data\"]);var classes=useStyles();var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openEdit=_useState2[0],setOpenEdit=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(data.title),_useState8=_slicedToArray(_useState7,2),title=_useState8[0],setTitle=_useState8[1];var _useState9=useState(data.location),_useState10=_slicedToArray(_useState9,2),location=_useState10[0],setLocation=_useState10[1];var _useState11=useState(data.createdBy),_useState12=_slicedToArray(_useState11,2),createdBy=_useState12[0],setCreatedBy=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),loading=_useState14[0],setLoading=_useState14[1];var _useState15=useState(data.desc),_useState16=_slicedToArray(_useState15,2),desc=_useState16[0],setDesc=_useState16[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var handleEdit=function handleEdit(){setOpenEdit(true);};var handleEditClose=function handleEditClose(){setOpenEdit(false);};var updateMachine=function updateMachine(e){e.preventDefault();if((title===null||title===void 0?void 0:title.trim().length)===0||(desc===null||desc===void 0?void 0:desc.trim().length)===0||(location===null||location===void 0?void 0:location.trim().length)===0){return setError(\"Empty Spaces can't be added as input! Please try again with a valid input\");}var dataMachine={title:title,location:location,desc:desc};db.collection('machineData').doc(data.id).update(dataMachine).then(function(){setLoading(false);setOpenEdit(false);});};var handleDelete=function handleDelete(id){db.collection('machineData').doc(id).delete().then(function(){});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{\"data-aos\":\"flip-left\",\"data-aos-easing\":\"ease-out-cubic\",\"data-aos-duration\":\"2000\",className:\"w-full max-w-sm px-4 py-3 mx-auto hover:shadow-2xl  bg-white rounded-md shadow-md dark:bg-gray-800\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:'#FF9A40'},className:\"mt-2 text-lg font-semibold text-gray-800 dark:text-white line-clamp-1\",children:data.title}),/*#__PURE__*/_jsx(Button,{style:{backgroundColor:'orange'},component:NavLink,to:\"/machine-data/Manuals/\".concat(data.id,\"/Manuals\"),className:\"px-3 py-1 text-xs text-white uppercase  rounded-full dark:bg-indigo-300 dark:text-indigo-900\",children:\"Open \"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-light text-gray-800 line-clamp-1 dark:text-gray-400\",children:data.location}),data&&/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 break-all line-clamp-3 text-sm text-gray-600 dark:text-gray-300\",children:[data.desc,\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleEdit();},class:\"mr-2 text-gray-800 cursor-pointer dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300\",children:/*#__PURE__*/_jsxs(\"svg\",{style:{opacity:'0.68'},xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",class:\"bi bi-pencil-square\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"}),/*#__PURE__*/_jsx(\"path\",{\"fill-rule\":\"evenodd\",d:\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"})]})}),/*#__PURE__*/_jsx(\"button\",{style:{opacity:'0.68'},onClick:function onClick(){return handleClickOpen();},className:\"mr-2 text-gray-800 cursor-pointer dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",class:\"bi bi-trash-fill\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\"})})})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsxs(Alert,{variant:\"filled\",severity:\"error\",children:[/*#__PURE__*/_jsx(AlertTitle,{children:\"Delete\"}),/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Are You Sure You Want To Delete?\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{color:\"white\",id:\"alert-dialog-description\",children:\"Deleting will be a permanent action and data pervailing will be permanently deleted and can not be retrieved back.\"})})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{style:{width:\"100px\",backgroundColor:\"blue\"},variant:\"contained\",onClick:handleClose,color:\"secondary\",children:\"Disagree\"}),/*#__PURE__*/_jsx(Button,{style:{width:\"100px\",backgroundColor:\"red\"},variant:\"contained\",onClick:function onClick(e){handleDelete(data.id);handleClose();},color:\"primary\",autoFocus:true,children:\"Agree\"})]})]}),/*#__PURE__*/_jsxs(Dialog,{fullWidth:true,open:openEdit,onClose:handleEditClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Edit \".concat(data.title)}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"You are currently editing Machine data!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateMachine,className:classes.form,children:[/*#__PURE__*/_jsx(TextField,{defaultValue:title,label:\"Machine Name\",variant:\"outlined\",error:title===\"\"||title.length>35,margin:\"normal\",required:true,fullWidth:true,id:\"title\",name:\"title\",autoFocus:true,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsxs(FormHelperText,{children:[\"Title should be max \",title.length,\"/30\"]}),/*#__PURE__*/_jsx(TextField,{label:\"Machine Location\",error:location===\"\"||location.length>40,defaultValue:location,variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"desc\",onChange:function onChange(e){return setLocation(e.target.value);},id:\"desc\",multiline:true}),/*#__PURE__*/_jsxs(FormHelperText,{children:[\"Location should be max \",location.length,\"/40 \"]}),/*#__PURE__*/_jsx(TextField,{label:\"Machine Description\",error:desc===\"\"||desc.length<150,defaultValue:desc,multiline:true,rows:7,variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"desc\",onChange:function onChange(e){return setDesc(e.target.value);},id:\"desc\"}),/*#__PURE__*/_jsxs(FormHelperText,{style:{marginBottom:\"20px\"},children:[\"Description should be minimum \",desc.length,\"/150 \"]}),/*#__PURE__*/_jsx(TextField,{defaultValue:createdBy,disabled:true,fullWidth:true,variant:\"outlined\",label:\"Created By\",onChange:function onChange(e){return setCreatedBy(e.target.value);}}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:handleEditClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",disabled:title.length>30||location.length>40||desc.length<150,children:\"Update\"})]})]})]})]})]})]});};export default Machine;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/components/Machines/Machine.jsx"],"names":["React","useState","useEffect","Link","NavLink","useHistory","db","firebaseLooper","OpenWithIcon","Box","Card","CardContent","Divider","Grid","Typography","makeStyles","Button","Avatar","Dialog","DialogTitle","DialogContentText","DialogContent","DialogActions","TextField","Container","FormHelperText","SupervisorAccountIcon","DeleteForeverIcon","EditIcon","Alert","AlertTitle","useAuth","useStyles","theme","root","display","height","backgroundColor","palette","background","dark","marginLeft","marginBottom","statsItem","alignItems","statsIcon","marginRight","spacing","Machine","data","rest","classes","currentUser","openEdit","setOpenEdit","open","setOpen","error","setError","title","setTitle","location","setLocation","createdBy","setCreatedBy","loading","setLoading","desc","setDesc","handleClickOpen","handleClose","handleEdit","handleEditClose","updateMachine","e","preventDefault","trim","length","dataMachine","collection","doc","id","update","then","handleDelete","delete","color","opacity","width","form","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {Link, NavLink, useHistory} from 'react-router-dom'\r\nimport {db} from '../../firebase'\r\nimport {firebaseLooper} from '../../utils/tools'\r\nimport OpenWithIcon from '@material-ui/icons/OpenWith';\r\nimport {\r\n  \r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  Divider,\r\n  Grid,\r\n  Typography,\r\n  makeStyles,\r\n  Button,\r\n  Avatar,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContentText,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Container,\r\n  FormHelperText,\r\n \r\n} from '@material-ui/core';\r\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport{Alert, AlertTitle} from '@material-ui/lab';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    height: \"100%\",\r\n    backgroundColor: theme.palette.background.dark,\r\n    marginLeft: \"50px\",\r\n    marginBottom: \"50px\"\r\n  },\r\n  statsItem: {\r\n    alignItems: 'center',\r\n    display: 'flex'\r\n  },\r\n  statsIcon: {\r\n    marginRight: theme.spacing(1)\r\n  }\r\n}));\r\n\r\nconst Machine= ({data, ...rest}) => {\r\n\r\n  const classes = useStyles();\r\n   const {currentUser} = useAuth()\r\n    const [openEdit, setOpenEdit] = useState(false)\r\n    const [open, setOpen] = useState(false)\r\n    const [error, setError] = useState(\"\")\r\n   const [title, setTitle] = useState(data.title)\r\n  const [location, setLocation] = useState(data.location);\r\n  const [createdBy, setCreatedBy] = useState(data.createdBy);\r\n  const [loading, setLoading] = useState(false);  \r\n  const [desc, setDesc] = useState(data.desc)\r\n  \r\n \r\n      const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n   const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleEdit = () => {\r\n      setOpenEdit(true)\r\n    }\r\n  const handleEditClose = () => {\r\n      setOpenEdit(false)\r\n    }\r\n\r\n\r\n const updateMachine=(e) => {\r\n  \r\n    e.preventDefault();\r\n   \r\n    if(title?.trim().length===0 || desc?.trim().length===0 || location?.trim().length===0){\r\n      return setError(\"Empty Spaces can't be added as input! Please try again with a valid input\")\r\n    }\r\n    const dataMachine = {title,location,desc}\r\n      db.collection('machineData').doc(data.id).update(dataMachine).then(()=>{\r\n        setLoading(false)\r\n        setOpenEdit(false)\r\n\r\n      })\r\n  }\r\n\r\n    const handleDelete = (id) => {\r\n        db.collection('machineData').doc(id).delete().then(() => {\r\n         \r\n         \r\n        })\r\n    }\r\n\r\n   \r\n  return (\r\n      <\r\n      \r\n      >\r\n       <CardContent >               \r\n           \r\n            {/* <Box\r\n            pb={3}\r\n            style={{\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            \r\n            }}\r\n            >\r\n\r\n            </Box> */}\r\n                \r\n               \r\n                {/* <Typography\r\n                  align=\"center\"\r\n                  color=\"textPrimary\"\r\n                  gutterBottom\r\n                  variant=\"h3\"\r\n                >\r\n                  {data.title} \r\n                \r\n                </Typography>\r\n                <Typography\r\n                  align=\"center\"\r\n                  color=\"textPrimary\"\r\n                  variant=\"body1\"\r\n                >\r\n                  {data.location}\r\n                </Typography>\r\n                <Typography\r\n                  \r\n                  color=\"textPrimary\"\r\n                  variant=\"body1\"\r\n                >\r\n                 <b>:- {data.desc}</b> \r\n                </Typography> */}\r\n              <div \r\n               data-aos=\"flip-left\"\r\n               data-aos-easing=\"ease-out-cubic\"\r\n              data-aos-duration=\"2000\"  className=\"w-full max-w-sm px-4 py-3 mx-auto hover:shadow-2xl  bg-white rounded-md shadow-md dark:bg-gray-800\">\r\n        {/* <div className=\"flex items-center justify-between\">\r\n            <span className=\"text-sm font-light text-gray-800 dark:text-gray-400\">Courses and MOOCs</span>\r\n            <span className=\"px-3 py-1 text-xs text-indigo-800 uppercase bg-indigo-200 rounded-full dark:bg-indigo-300 dark:text-indigo-900\">psychology</span>\r\n        </div> */}\r\n\r\n        <div>\r\n           \r\n            <div  className=\"flex items-center justify-between\">\r\n              <h1 style={{color: '#FF9A40'}} className=\"mt-2 text-lg font-semibold text-gray-800 dark:text-white line-clamp-1\">{data.title}</h1>\r\n            \r\n            <Button style={{backgroundColor: 'orange'}} component={NavLink}  to={`/machine-data/Manuals/${data.id}/Manuals`} className=\"px-3 py-1 text-xs text-white uppercase  rounded-full dark:bg-indigo-300 dark:text-indigo-900\">Open </Button>\r\n        </div>\r\n          <span className=\"text-sm font-light text-gray-800 line-clamp-1 dark:text-gray-400\">{data.location}</span>\r\n           {data && <p className=\"mt-2 break-all line-clamp-3 text-sm text-gray-600 dark:text-gray-300\">{data.desc} </p>}\r\n        </div>\r\n\r\n        <div>\r\n            <div className=\"flex items-center justify-center mt-4\">\r\n                <button  onClick={() => handleEdit()} class=\"mr-2 text-gray-800 cursor-pointer dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300\">\r\n                   <svg style={{opacity: '0.68'}} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-pencil-square\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"/>\r\n                  <path fill-rule=\"evenodd\" d=\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"/>\r\n                </svg>\r\n                </button>\r\n\r\n                <button style={{opacity: '0.68'}} onClick={() => handleClickOpen()} className=\"mr-2 text-gray-800 cursor-pointer dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash-fill\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\"/>\r\n                  </svg>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n               </CardContent>\r\n             \r\n            <div>\r\n              <Dialog\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    aria-labelledby=\"alert-dialog-title\"\r\n                    aria-describedby=\"alert-dialog-description\"\r\n                ><Alert variant=\"filled\" severity=\"error\">\r\n                  <AlertTitle>Delete</AlertTitle>\r\n                    <DialogTitle id=\"alert-dialog-title\">{\"Are You Sure You Want To Delete?\"}</DialogTitle>\r\n                    <DialogContent>\r\n                    <DialogContentText color=\"white\" id=\"alert-dialog-description\">                         \r\n                         Deleting will be a permanent action and data pervailing will be permanently deleted and can not be retrieved back. \r\n                         \r\n                    </DialogContentText>\r\n                    </DialogContent>\r\n                    </Alert>\r\n                    <DialogActions>\r\n                    <Button\r\n                    style={{width: \"100px\", backgroundColor: \"blue\"}}\r\n                     variant=\"contained\" onClick={handleClose} color=\"secondary\">\r\n                        Disagree\r\n                    </Button>\r\n                    <Button \r\n                     style={{width: \"100px\", backgroundColor: \"red\"}}\r\n                    variant=\"contained\"\r\n                      onClick={(e)=>{\r\n                        handleDelete(data.id);\r\n                         handleClose()}} color=\"primary\" autoFocus>\r\n                        Agree\r\n                    </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n                <Dialog\r\n                fullWidth\r\n                    open={openEdit}\r\n                    onClose={handleEditClose}\r\n                    aria-labelledby=\"alert-dialog-title\"\r\n                    aria-describedby=\"alert-dialog-description\"\r\n                >\r\n                    <DialogTitle id=\"alert-dialog-title\">{`Edit ${data.title}`}</DialogTitle>\r\n                    <DialogContent>\r\n                    <Alert severity=\"info\">You are currently editing Machine data!</Alert>\r\n                    <form onSubmit={updateMachine} className={classes.form}  >\r\n                        <TextField\r\n                        defaultValue={title}\r\n                        label=\"Machine Name\"\r\n                          variant=\"outlined\"\r\n                          error={title === \"\" || title.length > 35}\r\n                          margin=\"normal\"\r\n                          required\r\n                          fullWidth\r\n                          id=\"title\"\r\n                          name=\"title\"\r\n                          autoFocus\r\n                          onChange={(e) => setTitle(e.target.value)}\r\n                        />\r\n                        <FormHelperText>Title should be max {title.length}/30</FormHelperText>\r\n                        <TextField\r\n                        label=\"Machine Location\"\r\n                        error={location===\"\" || location.length > 40}\r\n                        defaultValue={location}\r\n                          variant=\"outlined\"\r\n                          margin=\"normal\"\r\n                          required\r\n                          fullWidth\r\n                          name=\"desc\"\r\n                          onChange={(e) => setLocation(e.target.value)}\r\n                          id=\"desc\"\r\n                          multiline\r\n                        />\r\n                        <FormHelperText>Location should be max {location.length}/40 </FormHelperText>\r\n                         <TextField\r\n                        label=\"Machine Description\"\r\n                       error={desc===\"\" || desc.length < 150}\r\n                        defaultValue={desc}\r\n                        multiline\r\n                        rows={7}\r\n                          variant=\"outlined\"\r\n                          margin=\"normal\"\r\n                          required\r\n                          fullWidth\r\n                          name=\"desc\"\r\n                          onChange={(e) => setDesc(e.target.value)}\r\n                          id=\"desc\"\r\n                         \r\n                        />\r\n                          <FormHelperText  style={{marginBottom: \"20px\"}}>Description should be minimum {desc.length}/150 </FormHelperText>\r\n                        <TextField\r\n                      \r\n                        defaultValue={createdBy}\r\n                        disabled\r\n                        fullWidth\r\n                        variant=\"outlined\"\r\n                          label=\"Created By\"\r\n                          onChange={(e) => setCreatedBy(e.target.value)}\r\n                        />\r\n                        {error && <Alert severity=\"error\" >{error}</Alert>}\r\n                    <DialogActions>\r\n                      <Button color=\"secondary\" onClick={handleEditClose}>Cancel</Button>\r\n                     <Button\r\n                          type=\"submit\"\r\n                         \r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          \r\n                          disabled={ title.length > 30 || location.length > 40  || desc.length < 150} \r\n                          \r\n                        >\r\n                          Update\r\n                          </Button>\r\n                     \r\n                    </DialogActions>\r\n                     \r\n                  </form>\r\n                    </DialogContent>\r\n                </Dialog>\r\n                </div>\r\n        \r\n         \r\n           \r\n    </>\r\n  );\r\n};\r\n \r\n\r\n\r\nexport default Machine;"]},"metadata":{},"sourceType":"module"}