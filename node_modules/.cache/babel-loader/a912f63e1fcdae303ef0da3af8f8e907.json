{"ast":null,"code":"import _slicedToArray from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{Button,Card,Container,makeStyles,TextField,Typography}from'@material-ui/core';import Alert from'@material-ui/lab/Alert';import React,{useState}from'react';import{useHistory}from'react-router-dom';import ContentDashboardLayout from'../../components/ContentSidebar/ContentDashboardLayout';import{db}from'../../firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:'#141256'},form:{alignItems:\"center\",justifyContent:\"center\",width:'90%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{background:\"#ff7a00\",color:\"white\",borderRadius:'20px',margin:theme.spacing(3,0,2)},wrapper:_defineProperty({display:'flex',flex:'1 1 auto',overflow:'hidden',paddingTop:64},theme.breakpoints.up('lg'),{paddingLeft:256}),container:{display:'flex',flex:'1 1 auto',overflow:'hidden'},content:{flex:'1 1 auto',height:'100%',overflow:'auto'}};});var AddContent=function AddContent(_ref){var match=_ref.match;var classes=useStyles();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setContentName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),desc=_useState4[0],setDesc=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(match.params.id),_useState8=_slicedToArray(_useState7,2),mid=_useState8[0],setMid=_useState8[1];var history=useHistory();var handleSubmit=function handleSubmit(e){e.preventDefault();var content={title:title,mid:mid,desc:desc};setLoading(true);db.collection('moduleData').add(content).then(function(data){console.log(data);history.push(\"/machine-data/\".concat(match.params.id,\"/Module\"));});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ContentDashboardLayout,{match:match}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:classes.wrapper,children:/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:/*#__PURE__*/_jsx(Card,{className:classes.content,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"You are currently adding a new Module\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h4\",children:\"Add Module\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{value:mid,fullWidth:true,variant:\"outlined\",margin:\"normal\",label:\"Machine id\",disabled:true,onChange:function onChange(e){return setMid(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{value:title,variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"content_name\",label:\"Module Title\",name:\"content_name\",autoFocus:true,onChange:function onChange(e){return setContentName(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{value:desc,variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,multiline:true,rows:7,id:\"desc\",label:\"Description\",name:\"desc\",autoFocus:true,onChange:function onChange(e){return setDesc(e.target.value);}}),!loading&&/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",className:classes.submit,children:\"Add Module\"}),loading&&/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",disabled:true,className:classes.submit,children:\"Adding Module...\"})]})]})})})})})]});};export default AddContent;","map":{"version":3,"sources":["/Users/suryanandsunil/Desktop/proto1-arizon/lyo-test/src/Pages/MachineContents/AddContent.jsx"],"names":["Button","Card","Container","makeStyles","TextField","Typography","Alert","React","useState","useHistory","ContentDashboardLayout","db","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","form","justifyContent","width","submit","background","color","borderRadius","wrapper","flex","overflow","paddingTop","breakpoints","up","paddingLeft","container","content","height","AddContent","match","classes","title","setContentName","desc","setDesc","loading","setLoading","params","id","mid","setMid","history","handleSubmit","e","preventDefault","collection","add","then","data","console","log","push","target","value"],"mappings":"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","sourcesContent":["import { Button, Card, Container, makeStyles, TextField, Typography } from '@material-ui/core'\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport React, { useState } from 'react';\r\nimport {useHistory} from 'react-router-dom'\r\nimport ContentDashboardLayout from '../../components/ContentSidebar/ContentDashboardLayout';\r\nimport  {db} from '../../firebase'\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: '#141256',\r\n  },\r\n  form: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    width: '90%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n      background: \"#ff7a00\",\r\n      color: \"white\",\r\n      borderRadius: '20px',\r\n      margin: theme.spacing(3, 0, 2),\r\n  },\r\n    wrapper: {\r\n  display: 'flex',\r\n  flex: '1 1 auto',\r\n  overflow: 'hidden',\r\n  paddingTop: 64,\r\n  [theme.breakpoints.up('lg')]: {\r\n    paddingLeft: 256\r\n  },\r\n  \r\n  },\r\n  container: {\r\n      display: 'flex',\r\n  flex: '1 1 auto',\r\n  overflow: 'hidden'\r\n  },\r\n  content: {\r\n  \r\n      flex: '1 1 auto',\r\n  height: '100%',\r\n  overflow: 'auto'\r\n    },\r\n}));\r\n\r\n\r\nconst AddContent = ({match}) => {\r\n  const classes= useStyles();\r\n  const [title, setContentName] = useState('')\r\n  const [desc, setDesc] = useState('')\r\n  const [loading, setLoading] = useState(false);\r\n  const [mid, setMid] = useState(match.params.id)\r\n  const history = useHistory();\r\n\r\n    \r\n    const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const content = {title, mid, desc};\r\n    setLoading(true);\r\n      db.collection('moduleData').add(content).then((data) =>{\r\n        console.log(data)\r\n        history.push(`/machine-data/${match.params.id}/Module`)\r\n      })\r\n\r\n  }\r\n \r\n    return (\r\n      <>\r\n      <ContentDashboardLayout match={match}/>\r\n        <div>   \r\n          <div className={classes.wrapper}>\r\n        <div className={classes.container}>\r\n          <Card className={classes.content}>\r\n           <div className={classes.paper}>\r\n            <Alert severity=\"info\">You are currently adding a new Module</Alert>\r\n            <br/>\r\n            <Typography component=\"h1\" variant=\"h4\">\r\n          Add Module\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit}>\r\n          <TextField value={mid}\r\n           fullWidth\r\n           variant=\"outlined\"\r\n           margin=\"normal\"\r\n           label=\"Machine id\"\r\n           disabled\r\n           onChange ={(e) => setMid(e.target.value)}\r\n           />\r\n          <TextField\r\n          value={title}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"content_name\"\r\n            label=\"Module Title\"\r\n            name=\"content_name\"\r\n            autoFocus\r\n            onChange={(e) => setContentName(e.target.value)}\r\n            \r\n          />\r\n               <TextField\r\n          value={desc}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            multiline\r\n            rows={7}\r\n            id=\"desc\"\r\n            label=\"Description\"\r\n            name=\"desc\"\r\n            autoFocus\r\n            onChange={(e) => setDesc(e.target.value)}\r\n            \r\n          />\r\n          \r\n         {!loading && <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            \r\n            className={classes.submit}\r\n          >\r\n            Add Module\r\n            </Button>}\r\n         {\r\n           loading && <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            \r\n            disabled\r\n            className={classes.submit}\r\n          >Adding Module...</Button>\r\n         }   \r\n          </form>\r\n          </div>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n      \r\n           \r\n         \r\n          \r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddContent\r\n"]},"metadata":{},"sourceType":"module"}